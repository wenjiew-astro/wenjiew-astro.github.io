<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Wenjie Wang</title>
  
  <subtitle>æ‹¾å…‰çš„è€äºº</subtitle>
  <link href="https://wenjiew-astro.github.io/atom.xml" rel="self"/>
  
  <link href="https://wenjiew-astro.github.io/"/>
  <updated>2025-12-05T09:08:19.287Z</updated>
  <id>https://wenjiew-astro.github.io/</id>
  
  <author>
    <name>Wenjie Wang</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>è°·æ­ŒGeminiä¹±ç è§£å†³æ–¹æ¡ˆ</title>
    <link href="https://wenjiew-astro.github.io/2025/12/05/%E8%B0%B7%E6%AD%8CGemini%E4%B9%B1%E7%A0%81%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/"/>
    <id>https://wenjiew-astro.github.io/2025/12/05/%E8%B0%B7%E6%AD%8CGemini%E4%B9%B1%E7%A0%81%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/</id>
    <published>2025-12-05T08:58:24.000Z</published>
    <updated>2025-12-05T09:08:19.287Z</updated>
    
    <content type="html"><![CDATA[<h1 id="è°·æ­Œgeminiä¹±ç è§£å†³æ–¹æ¡ˆ"><a href="#è°·æ­Œgeminiä¹±ç è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è°·æ­Œgeminiä¹±ç è§£å†³æ–¹æ¡ˆ"></a>è°·æ­Œgeminiä¹±ç è§£å†³æ–¹æ¡ˆ</h1><blockquote><p>é—®é¢˜æè¿°ï¼šç½‘é¡µç‰ˆGeminiæ‰“å¼€ç»å¸¸å‡ºç°è¿™äº›ä¹±ç æ–‡å­—ï¼Œæµè§ˆå™¨ç”¨edgeå’Œchroméƒ½è¯•è¿‡ï¼Œè¿˜æ˜¯æ— æ³•è§£å†³ï¼Œä¹±ç æƒ…å†µå¦‚ä¸‹</p></blockquote><p><img src="/2025/09/03/VSCode%20%E5%BF%AB%E9%80%9F%E6%8A%98%E5%8F%A0%E6%89%80%E6%9C%89%E7%9A%84%E6%96%87%E4%BB%B6%E5%A4%B9/c20930a429275109ed89ce1a2ad5c.png" alt="img"></p><p><img src="/2025/09/03/VSCode%20%E5%BF%AB%E9%80%9F%E6%8A%98%E5%8F%A0%E6%89%80%E6%9C%89%E7%9A%84%E6%96%87%E4%BB%B6%E5%A4%B9/c812a5798250f43e3a1594ecd6a64.png" alt="img"></p><p>ä¸€èˆ¬è®¤ä¸ºè¿™ä¸ªæ˜¯æ¢¯å­æˆ–è€…DNSæœ‰é—®é¢˜ï¼Œç½‘ä¸Šæ•™ç¨‹è¯´æ˜¯åœ¨clashè§„åˆ™ä¸­æ·»åŠ ä¸€ä¸ªç›´è¿çš„ç½‘å€ï¼Œä½†æ˜¯æˆ‘è¯•è¿‡äº†ï¼Œæ²¡æœ‰ç”¨ã€‚</p><p>ä¸‹é¢æ˜¯æˆ‘æ— æ„ä¸­æ‰¾åˆ°çš„è§£å†³æ–¹æ¡ˆï¼Œäº‹æƒ…çš„èµ·å› æ˜¯å› ä¸ºæˆ‘Linuxç™»å½•è°·æ­Œçš„æ—¶å€™äººæœºéªŒè¯ä¸æ˜¾ç¤ºï¼Œæ‰€ä»¥ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä¸‹è½½äº†æ’ä»¶ï¼Œå¯¼å…¥äº†ä¸€äº›ç›¸å…³å†…å®¹ï¼Œå±…ç„¶æ— æ„ä¸­ä¿®å¥½äº†Geminiçš„bugã€‚ä¸‹é¢æ˜¯è¯¦ç»†æ“ä½œï¼š</p><p>1ï¼Œæ‰“å¼€ç”µè„‘è‡ªå¸¦çš„å¾®è½¯æµè§ˆå™¨ï¼Œè½¬åˆ°æµè§ˆå™¨å³ä¸Šè§’è®¾ç½® &gt; æ‰©å±• &gt; æ‰“å¼€ Microsoft Edge å¤–æ¥ç¨‹åºç½‘ç«™ï¼Œå®‰è£…æ‰©å±•å·¥å…·ã€‚</p><p><img src="/2025/09/03/VSCode%20%E5%BF%AB%E9%80%9F%E6%8A%98%E5%8F%A0%E6%89%80%E6%9C%89%E7%9A%84%E6%96%87%E4%BB%B6%E5%A4%B9/rosoft-Edge.png" alt="img"></p><p>2ï¼Œæœç´¢å®‰è£… <a href="https://he.firefoxcn.net/">Header Editor</a> æ‰©å±•æ’ä»¶ï¼Œå®ƒæ”¯æŒ reCAPTCHA é•œåƒæœåŠ¡ï¼Œèƒ½ç®¡ç†æµè§ˆå™¨è¯·æ±‚ï¼ŒåŒ…æ‹¬ä¿®æ”¹è¯·æ±‚å¤´å’Œå“åº”å¤´ã€é‡å®šå‘è¯·æ±‚ã€å–æ¶ˆè¯·æ±‚ã€‚</p><p><img src="/2025/09/03/VSCode%20%E5%BF%AB%E9%80%9F%E6%8A%98%E5%8F%A0%E6%89%80%E6%9C%89%E7%9A%84%E6%96%87%E4%BB%B6%E5%A4%B9/der-Editor.png" alt="img"></p><p>3ï¼Œæ‰“å¼€å³ä¸Šè§’çš„æ‰©å±•ï¼Œåœ¨å·¥å…·æ è°ƒå‡º Header Editor æ‰©å±•æ’ä»¶ã€‚</p><p><img src="/2025/09/03/VSCode%20%E5%BF%AB%E9%80%9F%E6%8A%98%E5%8F%A0%E6%89%80%E6%9C%89%E7%9A%84%E6%96%87%E4%BB%B6%E5%A4%B9/ive-Header-Editor.png" alt="img"></p><p>4ï¼Œé…ç½® Header Editor æ‰©å±•æ’ä»¶ï¼Œè½¬åˆ°ç®¡ç† &gt; å¯¼å…¥å’Œå¯¼å‡ºï¼Œè¾“å…¥ github çš„åœ°å€ï¼Œç‚¹å‡»ä¸‹è½½æŒ‰é’®å¯¼å…¥ä¸‹è½½è§„åˆ™ï¼Œè§„åˆ™åŒ…æ‹¬ Google APIsï¼ŒreCaptcha å’Œ Content Securityã€‚</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">https://azurezeng.github.io/static/HE-GoogleRedirect.json</span><br></pre></td></tr></table></figure><p><img src="/2025/09/03/VSCode%20%E5%BF%AB%E9%80%9F%E6%8A%98%E5%8F%A0%E6%89%80%E6%9C%89%E7%9A%84%E6%96%87%E4%BB%B6%E5%A4%B9/ort-rules.png" alt="img"></p><p>5ï¼Œæœ€åä¿å­˜ä¸‹è½½è§„åˆ™ï¼Œå°±æˆåŠŸé…ç½® Header Editor æ‰©å±•æ’ä»¶äº†ã€‚åˆ·æ–°Geminié¡µé¢å°±ä¼šçœ‹åˆ°ä¸€åˆ‡éƒ½æ¢å¤äº†ã€‚</p><p><img src="/2025/09/03/VSCode%20%E5%BF%AB%E9%80%9F%E6%8A%98%E5%8F%A0%E6%89%80%E6%9C%89%E7%9A%84%E6%96%87%E4%BB%B6%E5%A4%B9/e-rules.png" alt="img"></p><p>å¤§åŠŸå‘Šæˆï¼Œæˆæœå±•ç¤ºï¼š</p><p><img src="/image-20251205163614789.png" alt="img"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;è°·æ­Œgeminiä¹±ç è§£å†³æ–¹æ¡ˆ&quot;&gt;&lt;a href=&quot;#è°·æ­Œgeminiä¹±ç è§£å†³æ–¹æ¡ˆ&quot; class=&quot;headerlink&quot; title=&quot;è°·æ­Œgeminiä¹±ç è§£å†³æ–¹æ¡ˆ&quot;&gt;&lt;/a&gt;è°·æ­Œgeminiä¹±ç è§£å†³æ–¹æ¡ˆ&lt;/h1&gt;&lt;blockquote&gt;
&lt;p&gt;é—®é¢˜æè¿°ï¼šç½‘é¡µç‰ˆG</summary>
      
    
    
    
    <category term="æ•™ç¨‹" scheme="https://wenjiew-astro.github.io/categories/%E6%95%99%E7%A8%8B/"/>
    
    <category term="Windows" scheme="https://wenjiew-astro.github.io/categories/%E6%95%99%E7%A8%8B/Windows/"/>
    
    
    <category term="æ•™ç¨‹" scheme="https://wenjiew-astro.github.io/tags/%E6%95%99%E7%A8%8B/"/>
    
    <category term="Windows" scheme="https://wenjiew-astro.github.io/tags/Windows/"/>
    
  </entry>
  
  <entry>
    <title>è§£å†³ CDS FTP ä¸‹è½½æ•°æ®æ—¶æç¤ºç™»å½•çš„é—®é¢˜</title>
    <link href="https://wenjiew-astro.github.io/2025/09/05/%E8%A7%A3%E5%86%B3%20CDS%20FTP%20%E4%B8%8B%E8%BD%BD%E6%95%B0%E6%8D%AE%E6%97%B6%E6%8F%90%E7%A4%BA%E7%99%BB%E5%BD%95%E7%9A%84%E9%97%AE%E9%A2%98/"/>
    <id>https://wenjiew-astro.github.io/2025/09/05/%E8%A7%A3%E5%86%B3%20CDS%20FTP%20%E4%B8%8B%E8%BD%BD%E6%95%B0%E6%8D%AE%E6%97%B6%E6%8F%90%E7%A4%BA%E7%99%BB%E5%BD%95%E7%9A%84%E9%97%AE%E9%A2%98/</id>
    <published>2025-09-05T03:03:01.000Z</published>
    <updated>2025-09-05T03:15:04.042Z</updated>
    
    <content type="html"><![CDATA[<h1 id="è§£å†³-CDS-FTP-ä¸‹è½½æ•°æ®æ—¶æç¤ºç™»å½•çš„é—®é¢˜"><a href="#è§£å†³-CDS-FTP-ä¸‹è½½æ•°æ®æ—¶æç¤ºç™»å½•çš„é—®é¢˜" class="headerlink" title="è§£å†³ CDS FTP ä¸‹è½½æ•°æ®æ—¶æç¤ºç™»å½•çš„é—®é¢˜"></a>è§£å†³ CDS FTP ä¸‹è½½æ•°æ®æ—¶æç¤ºç™»å½•çš„é—®é¢˜</h1><p>åœ¨ä½¿ç”¨ <strong>CDSï¼ˆCentre de DonnÃ©es astronomiques de Strasbourgï¼‰</strong> ä¸‹è½½å¤©æ–‡æ•°æ®æ—¶ï¼Œæœ‰æ—¶ä¼šé‡åˆ°è¿™æ ·ä¸€ä¸ªæƒ…å†µï¼š</p><p>å½“ä½ ç‚¹å‡»ç±»ä¼¼çš„é“¾æ¥æ—¶ï¼š</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">https://cdsarc.cds.unistra.fr/viz-bin/nph-Cat/txt?J/ApJ/928/172/fig6.dat</span><br></pre></td></tr></table></figure><img src="/2025/09/05/%E8%A7%A3%E5%86%B3%20CDS%20FTP%20%E4%B8%8B%E8%BD%BD%E6%95%B0%E6%8D%AE%E6%97%B6%E6%8F%90%E7%A4%BA%E7%99%BB%E5%BD%95%E7%9A%84%E9%97%AE%E9%A2%98/image-20250905110610852.png" class="" title="image-20250905110610852"><p>æµè§ˆå™¨ä¼šå¼¹å‡ºä¸€ä¸ªçª—å£ï¼Œè¦æ±‚è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ï¼Œçœ‹èµ·æ¥åƒæ˜¯éœ€è¦è®¤è¯ï¼š</p><img src="/2025/09/05/%E8%A7%A3%E5%86%B3%20CDS%20FTP%20%E4%B8%8B%E8%BD%BD%E6%95%B0%E6%8D%AE%E6%97%B6%E6%8F%90%E7%A4%BA%E7%99%BB%E5%BD%95%E7%9A%84%E9%97%AE%E9%A2%98/image-20250905110818089.png" class="" title="image-20250905110818089"><p>è¿™è®©äººä»¥ä¸ºæ•°æ®è¢«åŠ äº†æƒé™ï¼Œä½†å…¶å®  <strong>CDS æ•°æ®æ˜¯å…¬å¼€çš„ï¼Œä¸éœ€è¦ä¸“é—¨è´¦å·</strong> ã€‚</p><hr><h2 id="ä¸€ã€é—®é¢˜åŸå› "><a href="#ä¸€ã€é—®é¢˜åŸå› " class="headerlink" title="ä¸€ã€é—®é¢˜åŸå› "></a>ä¸€ã€é—®é¢˜åŸå› </h2><ol><li><strong>ç°ä»£æµè§ˆå™¨å·²é€æ­¥åºŸå¼ƒ FTP åè®®æ”¯æŒ</strong><ul><li>Chromeã€Firefoxã€Edge ç­‰æ–°ç‰ˆæµè§ˆå™¨é»˜è®¤å…³é—­æˆ–é™åˆ¶äº† FTP æ”¯æŒã€‚</li><li>æµè§ˆå™¨ä¼šæŠŠ FTP é“¾æ¥å½“æˆéœ€è¦ç™»å½•çš„èµ„æºï¼Œä»è€Œå¼¹å‡ºç”¨æˆ·å&#x2F;å¯†ç çª—å£ã€‚</li></ul></li><li><strong>FTP çš„åŒ¿åè®¿é—®æœºåˆ¶</strong><ul><li>ä¼ ç»Ÿçš„ FTP æœåŠ¡å™¨å…è®¸â€œåŒ¿åç™»å½•â€ï¼ˆAnonymous FTPï¼‰ã€‚</li><li>ç”¨æˆ·åå¿…é¡»å¡« <code>anonymous</code>ï¼Œå¯†ç å¯ä»¥éšä¾¿å†™ï¼ˆé€šå¸¸å¡«é‚®ç®±åœ°å€ï¼‰ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ç•™ç©ºã€‚</li></ul></li></ol><p>å› æ­¤ï¼Œæç¤ºç™»å½•å¹¶ä¸æ˜¯å› ä¸º CDS é™åˆ¶äº†æ•°æ®ï¼Œè€Œæ˜¯æµè§ˆå™¨å¯¹ FTP çš„å¤„ç†æ–¹å¼å¯¼è‡´çš„ã€‚</p><hr><h2 id="äºŒã€è§£å†³æ–¹æ³•"><a href="#äºŒã€è§£å†³æ–¹æ³•" class="headerlink" title="äºŒã€è§£å†³æ–¹æ³•"></a>äºŒã€è§£å†³æ–¹æ³•</h2><h3 id="æ–¹æ³•ä¸€ï¼šä½¿ç”¨åŒ¿åç™»å½•ï¼ˆæ¨èï¼‰"><a href="#æ–¹æ³•ä¸€ï¼šä½¿ç”¨åŒ¿åç™»å½•ï¼ˆæ¨èï¼‰" class="headerlink" title="æ–¹æ³•ä¸€ï¼šä½¿ç”¨åŒ¿åç™»å½•ï¼ˆæ¨èï¼‰"></a>æ–¹æ³•ä¸€ï¼šä½¿ç”¨åŒ¿åç™»å½•ï¼ˆæ¨èï¼‰</h3><p>åœ¨æµè§ˆå™¨å¼¹å‡ºçš„ç™»å½•æ¡†ä¸­è¾“å…¥ï¼š</p><ul><li>ç”¨æˆ·åï¼š<code>anonymous</code></li><li>å¯†ç ï¼šä»»æ„ï¼ˆæ¨èå¡«å¸¸ç”¨é‚®ç®±åœ°å€ï¼Œä¹Ÿå¯ä»¥ç•™ç©ºï¼‰</li></ul><p>å³å¯é¡ºåˆ©è¿›å…¥å¹¶ä¸‹è½½æ–‡ä»¶ã€‚</p><hr><h3 id="æ–¹æ³•äºŒï¼šä½¿ç”¨å‘½ä»¤è¡Œå·¥å…·"><a href="#æ–¹æ³•äºŒï¼šä½¿ç”¨å‘½ä»¤è¡Œå·¥å…·" class="headerlink" title="æ–¹æ³•äºŒï¼šä½¿ç”¨å‘½ä»¤è¡Œå·¥å…·"></a>æ–¹æ³•äºŒï¼šä½¿ç”¨å‘½ä»¤è¡Œå·¥å…·</h3><p>æµè§ˆå™¨å¯¹ FTP åè®®æ”¯æŒä¸ä½³ï¼Œå»ºè®®ä½¿ç”¨å‘½ä»¤è¡Œå·¥å…·æ¥ä¸‹è½½ã€‚</p><h4 id="Linux-macOS"><a href="#Linux-macOS" class="headerlink" title="Linux &#x2F; macOS"></a>Linux &#x2F; macOS</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">wget ftp://cdsarc.u-strasbg.fr/pub/cats/J/ApJ/928/172/fig6.dat</span><br></pre></td></tr></table></figure><p>æˆ–</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">curl -O ftp://cdsarc.u-strasbg.fr/pub/cats/J/ApJ/928/172/fig6.dat</span><br></pre></td></tr></table></figure><h4 id="Windows-PowerShell"><a href="#Windows-PowerShell" class="headerlink" title="Windows PowerShell"></a>Windows PowerShell</h4><figure class="highlight powershell"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Invoke-WebRequest</span> <span class="literal">-Uri</span> <span class="string">&quot;ftp://cdsarc.u-strasbg.fr/pub/cats/J/ApJ/928/172/fig6.dat&quot;</span> <span class="literal">-OutFile</span> <span class="string">&quot;fig6.dat&quot;</span></span><br></pre></td></tr></table></figure><p>è¿™äº›å·¥å…·ä¼šè‡ªåŠ¨ä»¥åŒ¿åæ–¹å¼è¿æ¥ FTPï¼Œæ— éœ€é¢å¤–è¾“å…¥ã€‚</p><hr><h3 id="æ–¹æ³•ä¸‰ï¼šé€šè¿‡-VizieR-ADS-å…¥å£ï¼ˆæ¨èï¼‰"><a href="#æ–¹æ³•ä¸‰ï¼šé€šè¿‡-VizieR-ADS-å…¥å£ï¼ˆæ¨èï¼‰" class="headerlink" title="æ–¹æ³•ä¸‰ï¼šé€šè¿‡ VizieR &#x2F; ADS å…¥å£ï¼ˆæ¨èï¼‰"></a>æ–¹æ³•ä¸‰ï¼šé€šè¿‡ VizieR &#x2F; ADS å…¥å£ï¼ˆæ¨èï¼‰</h3><p>å¦‚æœä»æ— æ³•è®¿é—® FTPï¼Œå¯ä»¥é€šè¿‡ VizieR æˆ– NASA ADS çš„æ•°æ®å…¥å£ï¼Œæ‰¾åˆ°å¯¹åº”æœŸåˆŠçš„æ•°æ®é›†ï¼Œç‚¹å‡»ç½‘é¡µæä¾›çš„ <code>fig6.dat</code> é“¾æ¥ä¸‹è½½ã€‚</p><hr><h2 id="ä¸‰ã€æ€»ç»“"><a href="#ä¸‰ã€æ€»ç»“" class="headerlink" title="ä¸‰ã€æ€»ç»“"></a>ä¸‰ã€æ€»ç»“</h2><ul><li><strong>ç°è±¡</strong> ï¼šæ‰“å¼€ CDS çš„ FTP é“¾æ¥æ—¶æµè§ˆå™¨æç¤ºéœ€è¦è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ã€‚</li><li><strong>åŸå› </strong> ï¼šFTP åè®®é»˜è®¤æ”¯æŒåŒ¿åè®¿é—®ï¼Œä½†ç°ä»£æµè§ˆå™¨å·²ä¸å†ç›´æ¥æ”¯æŒï¼Œå› è€Œè§¦å‘ç™»å½•æ¡†ã€‚</li><li><strong>è§£å†³æ–¹æ¡ˆ</strong> ï¼š</li><li>åœ¨æµè§ˆå™¨ä¸­ä½¿ç”¨ <code>anonymous</code> ä½œä¸ºç”¨æˆ·åï¼Œå¯†ç éšä¾¿å¡«ã€‚</li><li>æ›´æ¨èä½¿ç”¨ <code>wget</code>ã€<code>curl</code> ç­‰å‘½ä»¤è¡Œå·¥å…·ä¸‹è½½ã€‚</li><li>æˆ–é€šè¿‡ VizieR&#x2F;ADS é¡µé¢è·å–æ•°æ®ã€‚</li></ul><p>è¿™æ ·å°±èƒ½é¡ºåˆ©è·å– CDS çš„å…¬å¼€æ•°æ®æ–‡ä»¶ï¼Œæ¯”å¦‚ <code>fig6.dat</code>ï¼Œæ— éœ€çœŸæ­£çš„ç™»å½•è´¦å·ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;è§£å†³-CDS-FTP-ä¸‹è½½æ•°æ®æ—¶æç¤ºç™»å½•çš„é—®é¢˜&quot;&gt;&lt;a href=&quot;#è§£å†³-CDS-FTP-ä¸‹è½½æ•°æ®æ—¶æç¤ºç™»å½•çš„é—®é¢˜&quot; class=&quot;headerlink&quot; title=&quot;è§£å†³ CDS FTP ä¸‹è½½æ•°æ®æ—¶æç¤ºç™»å½•çš„é—®é¢˜&quot;&gt;&lt;/a&gt;è§£å†³ CDS FTP ä¸‹è½½æ•°æ®æ—¶æ</summary>
      
    
    
    
    <category term="ç§‘ç ”" scheme="https://wenjiew-astro.github.io/categories/%E7%A7%91%E7%A0%94/"/>
    
    <category term="å·¥å…·" scheme="https://wenjiew-astro.github.io/categories/%E7%A7%91%E7%A0%94/%E5%B7%A5%E5%85%B7/"/>
    
    <category term="ç¬”è®°" scheme="https://wenjiew-astro.github.io/categories/%E7%A7%91%E7%A0%94/%E5%B7%A5%E5%85%B7/%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="ç§‘ç ”" scheme="https://wenjiew-astro.github.io/tags/%E7%A7%91%E7%A0%94/"/>
    
    <category term="ç¬”è®°" scheme="https://wenjiew-astro.github.io/tags/%E7%AC%94%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>hexoåšæ–‡å›¾ç‰‡åŠä¸Typoraä¸€è‡´</title>
    <link href="https://wenjiew-astro.github.io/2025/09/04/hexo%E5%8D%9A%E6%96%87%E5%9B%BE%E7%89%87%E5%8F%8A%E4%B8%8ETypora%E4%B8%80%E8%87%B4/"/>
    <id>https://wenjiew-astro.github.io/2025/09/04/hexo%E5%8D%9A%E6%96%87%E5%9B%BE%E7%89%87%E5%8F%8A%E4%B8%8ETypora%E4%B8%80%E8%87%B4/</id>
    <published>2025-09-04T01:41:52.000Z</published>
    <updated>2025-09-04T02:37:45.812Z</updated>
    
    <content type="html"><![CDATA[<h1 id="hexoåšæ–‡å›¾ç‰‡åŠä¸Typoraä¸€è‡´"><a href="#hexoåšæ–‡å›¾ç‰‡åŠä¸Typoraä¸€è‡´" class="headerlink" title="hexoåšæ–‡å›¾ç‰‡åŠä¸Typoraä¸€è‡´"></a>hexoåšæ–‡å›¾ç‰‡åŠä¸Typoraä¸€è‡´</h1><p>è¿™ç¯‡è®°å½•å¦‚ä½•è®© <strong>Hexo ä¸ Typora æ’å…¥&#x2F;é¢„è§ˆå›¾ç‰‡ä¿æŒä¸€è‡´</strong>ï¼Œå¹¶ä»æ—§çš„ <code>hexo-asset-image</code> è¿ç§»åˆ° <code>hexo-image-link</code>ã€‚ç›®æ ‡æ˜¯ï¼š<strong>Typora æœ¬åœ°èƒ½çœ‹ï¼Œéƒ¨ç½²ä¸Šçº¿ä¹Ÿèƒ½çœ‹</strong>ï¼Œè€Œä¸”ä¸ç”¨å†™ <code>&#123;% asset_img %&#125;</code> è¿™æ ·çš„æ ‡ç­¾ã€‚</p><h2 id="1-å¸è½½-hexo-asset-image"><a href="#1-å¸è½½-hexo-asset-image" class="headerlink" title="1. å¸è½½ hexo-asset-image"></a>1. å¸è½½ <code>hexo-asset-image</code></h2><p>è¿™ä¸ªè€æ’ä»¶åœ¨æ–°ç‰ˆ Hexo ä¸‹å®¹æ˜“ä¸èµ„æºæ–‡ä»¶å¤¹æœºåˆ¶å†²çªï¼Œå»ºè®®ç§»é™¤ï¼š</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm uninstall hexo-asset-image --save</span><br></pre></td></tr></table></figure><p>å¸è½½åï¼Œæ£€æŸ¥ <code>package.json</code>ï¼Œè‹¥è¿˜æœ‰æ®‹ç•™æ¡ç›®ï¼Œæ‰‹å·¥åˆ æ‰å¹¶æ‰§è¡Œï¼š</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install</span><br></pre></td></tr></table></figure><h2 id="2-å®‰è£…-hexo-image-link"><a href="#2-å®‰è£…-hexo-image-link" class="headerlink" title="2. å®‰è£… hexo-image-link"></a>2. å®‰è£… <code>hexo-image-link</code></h2><p>ç”¨æ¥è‡ªåŠ¨æŠŠ Markdown é‡Œçš„å›¾ç‰‡é“¾æ¥è§£ææˆæ­£ç¡®è·¯å¾„ï¼š</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm install hexo-image-link --save</span><br></pre></td></tr></table></figure><p>æ— éœ€åœ¨æ–‡ç« é‡Œå†™ <code>&#123;% asset_img %&#125;</code>ï¼Œä¿æŒçº¯ Markdown å³å¯ã€‚</p><h2 id="3-å¯ç”¨æ–‡ç« èµ„æºæ–‡ä»¶å¤¹ï¼ˆé…åˆ-Typora-æœ€ç¨³ï¼‰"><a href="#3-å¯ç”¨æ–‡ç« èµ„æºæ–‡ä»¶å¤¹ï¼ˆé…åˆ-Typora-æœ€ç¨³ï¼‰" class="headerlink" title="3. å¯ç”¨æ–‡ç« èµ„æºæ–‡ä»¶å¤¹ï¼ˆé…åˆ Typora æœ€ç¨³ï¼‰"></a>3. å¯ç”¨æ–‡ç« èµ„æºæ–‡ä»¶å¤¹ï¼ˆé…åˆ Typora æœ€ç¨³ï¼‰</h2><p>ç¼–è¾‘ç«™ç‚¹æ ¹ç›®å½•çš„ <code>_config.yml</code>ï¼ˆä¸æ˜¯ä¸»é¢˜é…ç½®ï¼‰ï¼š</p><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">post_asset_folder:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>å»ºè®®åŒæ—¶ä¿æŒ Hexo çš„é»˜è®¤æ¸²æŸ“å™¨ï¼ˆå¦‚ <code>hexo-renderer-marked</code>ï¼‰ï¼Œé¿å…ä¸è·¯å¾„æ”¹å†™ç±»æ’ä»¶å†²çªã€‚</p><h2 id="4-æ¨èçš„æ–‡ä»¶ä¸å¼•ç”¨æ–¹å¼"><a href="#4-æ¨èçš„æ–‡ä»¶ä¸å¼•ç”¨æ–¹å¼" class="headerlink" title="4. æ¨èçš„æ–‡ä»¶ä¸å¼•ç”¨æ–¹å¼"></a>4. æ¨èçš„æ–‡ä»¶ä¸å¼•ç”¨æ–¹å¼</h2><p>å‡è®¾ä½ çš„æ–‡ç« æ˜¯ <strong><code>hexoåšæ–‡å›¾ç‰‡åŠä¸Typoraä¸€è‡´.md</code></strong>ï¼š</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">source/_posts/</span><br><span class="line">  hexoåšæ–‡å›¾ç‰‡åŠä¸Typoraä¸€è‡´.md</span><br><span class="line">  hexoåšæ–‡å›¾ç‰‡åŠä¸Typoraä¸€è‡´/</span><br><span class="line">    image-1.png</span><br><span class="line">    keyboard-shortcuts-win.png</span><br><span class="line">    keyboard-shortcuts-macos.png</span><br><span class="line">    keyboard-shortcuts-linux.png</span><br></pre></td></tr></table></figure><p>åœ¨ Markdown ä¸­ä½¿ç”¨<strong>çº¯ç›¸å¯¹è·¯å¾„</strong>ï¼ˆTypora ä¸ Hexo éƒ½èƒ½è¯†åˆ«ï¼‰ï¼š</p><figure class="highlight md"><table><tr><td class="code"><pre><span class="line">![](<span class="link">./image-1.png</span>)</span><br><span class="line">![](<span class="link">./keyboard-shortcuts-win.png</span>)</span><br><span class="line">![](<span class="link">./keyboard-shortcuts-macos.png</span>)</span><br><span class="line">![](<span class="link">./keyboard-shortcuts-linux.png</span>)</span><br></pre></td></tr></table></figure><blockquote><p>åªè¦å›¾ç‰‡æ”¾åœ¨<strong>æ–‡ç« åŒåæ–‡ä»¶å¤¹</strong>é‡Œï¼Œå¹¶ç”¨ <code>./æ–‡ä»¶å</code> è¿™ç§å†™æ³•ï¼Œå°±èƒ½åœ¨ Typora æœ¬åœ°é¢„è§ˆ + Hexo ç”Ÿæˆåæ­£å¸¸è®¿é—®ã€‚</p></blockquote><h2 id="5-Typora-è®¾ç½®å»ºè®®"><a href="#5-Typora-è®¾ç½®å»ºè®®" class="headerlink" title="5. Typora è®¾ç½®å»ºè®®"></a>5. Typora è®¾ç½®å»ºè®®</h2><ul><li><p>åå¥½è®¾ç½® â†’ <strong>å›¾åƒ</strong>ï¼š</p><ul><li>ã€Œæ’å…¥å›¾ç‰‡æ—¶å¤åˆ¶åˆ°ã€ï¼š<code>./$&#123;filename&#125;/</code></li><li>å‹¾é€‰ã€Œ<strong>ä½¿ç”¨ç›¸å¯¹è·¯å¾„</strong>ã€</li></ul></li><li><p>è¿™æ ·ç²˜è´´å›¾ç‰‡æ—¶ä¼šè‡ªåŠ¨è¿›å…¥æ–‡ç« åŒåæ–‡ä»¶å¤¹ï¼Œå¹¶å†™æˆ <code>./xxx.png</code>ã€‚</p><img src="/2025/09/04/hexo%E5%8D%9A%E6%96%87%E5%9B%BE%E7%89%87%E5%8F%8A%E4%B8%8ETypora%E4%B8%80%E8%87%B4/image-20250904101717612.png" class="" title="image-20250904101717612"></li></ul><h2 id="6-ç”Ÿæˆä¸éªŒè¯"><a href="#6-ç”Ÿæˆä¸éªŒè¯" class="headerlink" title="6. ç”Ÿæˆä¸éªŒè¯"></a>6. ç”Ÿæˆä¸éªŒè¯</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo clean &amp;&amp; hexo g &amp;&amp; hexo s</span><br></pre></td></tr></table></figure><p>æµè§ˆå™¨æ‰“å¼€ <code>http://localhost:4000</code> æ£€æŸ¥å›¾ç‰‡æ˜¾ç¤ºæ˜¯å¦æ­£å¸¸ã€‚</p><h2 id="7-å¸¸è§é—®é¢˜æ’æŸ¥"><a href="#7-å¸¸è§é—®é¢˜æ’æŸ¥" class="headerlink" title="7. å¸¸è§é—®é¢˜æ’æŸ¥"></a>7. å¸¸è§é—®é¢˜æ’æŸ¥</h2><ol><li><strong>é¦–é¡µ&#x2F;å½’æ¡£é¡µä¸æ˜¾ç¤ºä½†æ–‡ç« é¡µèƒ½æ˜¾ç¤º</strong></li></ol><ul><li>å¤šåŠæ˜¯è£…äº†ä¼šæ”¹å†™ <code>&lt;img src&gt;</code> çš„æ’ä»¶ï¼ˆæ‡’åŠ è½½ã€è·¯å¾„æ¸…æ´—ç­‰ï¼‰ã€‚è¯·é€ä¸ªç¦ç”¨åå†æµ‹è¯•ã€‚</li><li>ä¸æœ¬æ–¹æ¡ˆå†²çªè¾ƒå¤šçš„è€æ’ä»¶ï¼š<code>hexo-asset-image</code>ï¼ˆå·²å¸ï¼‰ã€æŸäº› lazyload&#x2F;shortcode è¿‡æ»¤å™¨ç­‰ã€‚</li></ul><ol><li><strong>éƒ¨ç½²å 404 &#x2F; è·¯å¾„é”™ä½</strong></li></ol><ul><li>æ£€æŸ¥ç«™ç‚¹ <code>_config.yml</code> çš„ <code>url</code>&#x2F;<code>root</code> ä¸éƒ¨ç½²çš„è·¯å¾„ä¸€è‡´ï¼š<ul><li>ç”¨æˆ·ä¸»é¡µï¼š<code>root: /</code></li><li>é¡¹ç›®é¡µï¼š<code>root: /ä½ çš„ä»“åº“å/</code></li></ul></li><li>ç¡®è®¤å›¾ç‰‡ç¡®å®ä½äº <code>source/_posts/æ–‡ç« åŒåæ–‡ä»¶å¤¹/</code> å†…ã€‚</li></ul><ol><li><strong>Typora é‡Œè·¯å¾„è¢«å†™æˆ <code>æ–‡ç« å/å›¾ç‰‡.png</code></strong></li></ol><ul><li>æŠŠé“¾æ¥æ”¹æˆ <code>./å›¾ç‰‡.png</code>ï¼ˆç›¸å¯¹è·¯å¾„ï¼‰ï¼›</li><li>ç¡®ä¿ Typora çš„ã€Œè·¯å¾„å‰ç¼€æ¨¡æ¿ã€ç•™ç©ºï¼Œå¼€å¯ã€Œä½¿ç”¨ç›¸å¯¹è·¯å¾„ã€ã€‚</li></ul><h2 id="8-å°ç»“"><a href="#8-å°ç»“" class="headerlink" title="8. å°ç»“"></a>8. å°ç»“</h2><ul><li><strong>å¸è½½</strong> <code>hexo-asset-image</code>ï¼Œ<strong>å®‰è£…</strong> <code>hexo-image-link</code>ã€‚</li><li>å¼€å¯ <code>post_asset_folder: true</code>ï¼Œå›¾ç‰‡æ”¾å…¥<strong>æ–‡ç« åŒåæ–‡ä»¶å¤¹</strong>ã€‚</li><li>æ–‡ç« é‡Œç”¨<strong>çº¯ Markdown ç›¸å¯¹è·¯å¾„</strong>ï¼ˆ<code>./xxx.png</code>ï¼‰ã€‚</li><li>é¿å…å†ç”¨ <code>&#123;% asset_img %&#125;</code>ï¼Œä¿è¯ Typora ä¸ Hexo ä¸€è‡´é¢„è§ˆã€‚</li></ul><p>å®Œæˆä»¥ä¸Šé…ç½®åï¼Œå†™ä½œä½“éªŒå°±èƒ½ã€Œæ‰€è§å³æ‰€å¾—ã€ï¼Œéƒ¨ç½²ä¹Ÿä¸å†è¸©å‘ã€‚ç¥å†™åšæ„‰å¿«ï½ ğŸ‰</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">::contentReference[oaicite:0]&#123;index=0&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;hexoåšæ–‡å›¾ç‰‡åŠä¸Typoraä¸€è‡´&quot;&gt;&lt;a href=&quot;#hexoåšæ–‡å›¾ç‰‡åŠä¸Typoraä¸€è‡´&quot; class=&quot;headerlink&quot; title=&quot;hexoåšæ–‡å›¾ç‰‡åŠä¸Typoraä¸€è‡´&quot;&gt;&lt;/a&gt;hexoåšæ–‡å›¾ç‰‡åŠä¸Typoraä¸€è‡´&lt;/h1&gt;&lt;p&gt;è¿™ç¯‡è®°å½•å¦‚ä½•</summary>
      
    
    
    
    <category term="æ•™ç¨‹" scheme="https://wenjiew-astro.github.io/categories/%E6%95%99%E7%A8%8B/"/>
    
    <category term="Hexo" scheme="https://wenjiew-astro.github.io/categories/%E6%95%99%E7%A8%8B/Hexo/"/>
    
    <category term="Typora" scheme="https://wenjiew-astro.github.io/categories/%E6%95%99%E7%A8%8B/Hexo/Typora/"/>
    
    
    <category term="æ•™ç¨‹" scheme="https://wenjiew-astro.github.io/tags/%E6%95%99%E7%A8%8B/"/>
    
    <category term="Hexo" scheme="https://wenjiew-astro.github.io/tags/Hexo/"/>
    
    <category term="Typora" scheme="https://wenjiew-astro.github.io/tags/Typora/"/>
    
  </entry>
  
  <entry>
    <title>VSCode å¿«é€ŸæŠ˜å æ‰€æœ‰çš„æ–‡ä»¶å¤¹</title>
    <link href="https://wenjiew-astro.github.io/2025/09/03/VSCode%20%E5%BF%AB%E9%80%9F%E6%8A%98%E5%8F%A0%E6%89%80%E6%9C%89%E7%9A%84%E6%96%87%E4%BB%B6%E5%A4%B9/"/>
    <id>https://wenjiew-astro.github.io/2025/09/03/VSCode%20%E5%BF%AB%E9%80%9F%E6%8A%98%E5%8F%A0%E6%89%80%E6%9C%89%E7%9A%84%E6%96%87%E4%BB%B6%E5%A4%B9/</id>
    <published>2025-09-02T16:00:00.000Z</published>
    <updated>2025-09-04T02:16:51.898Z</updated>
    
    <content type="html"><![CDATA[<h1 id="VSCode-å¿«é€ŸæŠ˜å æ‰€æœ‰çš„æ–‡ä»¶å¤¹"><a href="#VSCode-å¿«é€ŸæŠ˜å æ‰€æœ‰çš„æ–‡ä»¶å¤¹" class="headerlink" title="VSCode å¿«é€ŸæŠ˜å æ‰€æœ‰çš„æ–‡ä»¶å¤¹"></a>VSCode å¿«é€ŸæŠ˜å æ‰€æœ‰çš„æ–‡ä»¶å¤¹</h1><p><strong>é‡åˆ°çš„é—®é¢˜</strong><br>åœ¨å†™ä»£ç çš„æ—¶å€™ï¼Œä¼šæ‰“å¼€å¾ˆå¤šæ–‡ä»¶å¤¹ï¼Œä½†æ˜¯å¼€çš„æ–‡ä»¶å¤¹å¾ˆå¤šçš„è¯åˆå¾ˆçƒ¦ï¼Œæ‰€ä»¥æƒ³æŠ˜å æ‰€æœ‰æ–‡ä»¶å¤¹</p><blockquote><p>æˆ‘åœ¨ç½‘ä¸Šä¹Ÿæ‰¾è¿‡å¿«æ·é”®ï¼Œä½†æ˜¯ç½‘ä¸Šçš„ <code>ctrl + k  ctrl + 0</code> æŠ˜å ï¼Œ<code>ctrl + k  ctrl + j</code> å±•å¼€å¹¶æ²¡æœ‰ä½œç”¨ã€‚</p></blockquote><p><strong>æ‰¾åˆ°çš„å¦ä¸€ä¸ªè§£å†³æ–¹æ¡ˆ</strong><br><code>çœ‹çº¢è‰²çš„ç®­å¤´ï¼Œç‚¹å‡»è¿™ä¸ªä¼šå¿«é€ŸæŠ˜å æ‰€æœ‰æ–‡ä»¶å¤¹ï¼</code></p><img src="/2025/09/03/VSCode%20%E5%BF%AB%E9%80%9F%E6%8A%98%E5%8F%A0%E6%89%80%E6%9C%89%E7%9A%84%E6%96%87%E4%BB%B6%E5%A4%B9/image.png" class="">]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;VSCode-å¿«é€ŸæŠ˜å æ‰€æœ‰çš„æ–‡ä»¶å¤¹&quot;&gt;&lt;a href=&quot;#VSCode-å¿«é€ŸæŠ˜å æ‰€æœ‰çš„æ–‡ä»¶å¤¹&quot; class=&quot;headerlink&quot; title=&quot;VSCode å¿«é€ŸæŠ˜å æ‰€æœ‰çš„æ–‡ä»¶å¤¹&quot;&gt;&lt;/a&gt;VSCode å¿«é€ŸæŠ˜å æ‰€æœ‰çš„æ–‡ä»¶å¤¹&lt;/h1&gt;&lt;p&gt;&lt;strong&gt;é‡åˆ°</summary>
      
    
    
    
    <category term="æ•™ç¨‹" scheme="https://wenjiew-astro.github.io/categories/%E6%95%99%E7%A8%8B/"/>
    
    <category term="VSCode" scheme="https://wenjiew-astro.github.io/categories/%E6%95%99%E7%A8%8B/VSCode/"/>
    
    
    <category term="VSCode" scheme="https://wenjiew-astro.github.io/tags/VSCode/"/>
    
    <category term="æ•™ç¨‹" scheme="https://wenjiew-astro.github.io/tags/%E6%95%99%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>VSCode å¿«æ·é”®å¤§å…¨</title>
    <link href="https://wenjiew-astro.github.io/2025/09/03/VSCode%20%E5%BF%AB%E6%8D%B7%E9%94%AE%E5%A4%A7%E5%85%A8/"/>
    <id>https://wenjiew-astro.github.io/2025/09/03/VSCode%20%E5%BF%AB%E6%8D%B7%E9%94%AE%E5%A4%A7%E5%85%A8/</id>
    <published>2025-09-02T16:00:00.000Z</published>
    <updated>2025-09-04T01:39:16.599Z</updated>
    
    <content type="html"><![CDATA[<h1 id="VSCode-å¿«æ·é”®å¤§å…¨"><a href="#VSCode-å¿«æ·é”®å¤§å…¨" class="headerlink" title="VSCode å¿«æ·é”®å¤§å…¨"></a>VSCode å¿«æ·é”®å¤§å…¨</h1><blockquote><p>è½¬è½½ä¸€ç¯‡æ¥è‡ªèœé¸Ÿæ•™ç¨‹çš„æ–‡ç« ï¼Œæ–¹ä¾¿è‡ªæŸ¥ï¼š<a href="https://www.runoob.com/vscode/vscode-shortcut-keys.html">VSCode å¿«æ·é”®å¤§å…¨ | èœé¸Ÿæ•™ç¨‹</a></p></blockquote><p>æœ¬ç« èŠ‚æ˜¯ <strong>Visual Studio Code (VS Code)</strong> çš„å¸¸ç”¨å¿«æ·é”®å¤§å…¨ï¼Œæ¶µç›–ä»£ç ç¼–è¾‘ã€æ–‡ä»¶ç®¡ç†ã€è°ƒè¯•ç­‰æ“ä½œï¼Œä¾¿äºæé«˜å¼€å‘æ•ˆç‡ã€‚</p><p>å¿«æ·é”®çš„è®¾ç½®å¯ä»¥é€šè¿‡èœå•æ çš„ <strong>Code &gt; é¦–é€‰é¡¹ &gt; é”®ç›˜å¿«æ·æ–¹å¼</strong> æŸ¥çœ‹ï¼š</p><p><img src="/2025/09/03/VSCode%20%E5%BF%AB%E6%8D%B7%E9%94%AE%E5%A4%A7%E5%85%A8/5d1419da-2f35-45b1-ab65-9a036b044b61.png" alt="img"></p><p>é€šè¿‡å¿«æ·é”®ç¼–è¾‘å™¨ï¼Œæ‚¨å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚å®šåˆ¶é”®ç›˜å¿«æ·é”®ï¼Œæå‡å¼€å‘æ•ˆç‡ã€‚</p><p>è¯´æ˜ï¼š</p><ol><li><strong>macOS</strong> çš„ <code>Cmd</code> é”®å¯¹åº” Windows&#x2F;Linux çš„ <code>Ctrl</code> é”®ã€‚</li><li><strong>macOS</strong> çš„ <code>Option</code> é”®å¯¹åº” Windows&#x2F;Linux çš„ <code>Alt</code> é”®ã€‚</li><li>éƒ¨åˆ†å¿«æ·é”®å¯èƒ½å› ç³»ç»Ÿæˆ–é…ç½®ä¸åŒè€Œæœ‰æ‰€å·®å¼‚ã€‚</li></ol><hr><h3 id="1-é€šç”¨æ“ä½œå¿«æ·é”®"><a href="#1-é€šç”¨æ“ä½œå¿«æ·é”®" class="headerlink" title="1. é€šç”¨æ“ä½œå¿«æ·é”®"></a>1. <strong>é€šç”¨æ“ä½œå¿«æ·é”®</strong></h3><table><thead><tr><th align="left">åŠŸèƒ½</th><th align="left">Windows&#x2F;Linux</th><th align="left">macOS</th></tr></thead><tbody><tr><td align="left">æ‰“å¼€å‘½ä»¤é¢æ¿</td><td align="left"><code>Ctrl + Shift + P</code></td><td align="left"><code>Cmd + Shift + P</code></td></tr><tr><td align="left">æ‰“å¼€è®¾ç½®</td><td align="left"><code>Ctrl + ,</code></td><td align="left"><code>Cmd + ,</code></td></tr><tr><td align="left">æ‰“å¼€ç»ˆç«¯</td><td align="left"><code> Ctrl + &#39;</code></td><td align="left"><code> Ctrl + &#39;</code></td></tr><tr><td align="left">æ–°å»ºçª—å£</td><td align="left"><code>Ctrl + Shift + N</code></td><td align="left"><code>Cmd + Shift + N</code></td></tr><tr><td align="left">å…³é—­çª—å£</td><td align="left"><code>Ctrl + Shift + W</code></td><td align="left"><code>Cmd + Shift + W</code></td></tr><tr><td align="left">ä¿å­˜æ–‡ä»¶</td><td align="left"><code>Ctrl + S</code></td><td align="left"><code>Cmd + S</code></td></tr><tr><td align="left">å…¨éƒ¨ä¿å­˜</td><td align="left"><code>Ctrl + K S</code></td><td align="left"><code>Cmd + Option + S</code></td></tr><tr><td align="left">è‡ªåŠ¨ä¿å­˜åˆ‡æ¢</td><td align="left"><code>Ctrl + Shift + P</code> åæœç´¢ <strong>Auto Save</strong></td><td align="left">åŒå·¦</td></tr><tr><td align="left">å¿«é€Ÿæ‰“å¼€ï¼Œè½¬åˆ°æ–‡ä»¶</td><td align="left"><code>Ctrl + P</code></td><td align="left"><code>Cmd + P</code></td></tr><tr><td align="left">é”®ç›˜å¿«æ·é”®è®¾ç½®</td><td align="left"><code>Ctrl + K, Ctrl + S</code></td><td align="left"><code>Cmd + K, Cmd + S</code></td></tr></tbody></table><hr><h3 id="2-æ–‡ä»¶ä¸ç¼–è¾‘å™¨æ“ä½œ"><a href="#2-æ–‡ä»¶ä¸ç¼–è¾‘å™¨æ“ä½œ" class="headerlink" title="2. æ–‡ä»¶ä¸ç¼–è¾‘å™¨æ“ä½œ"></a>2. <strong>æ–‡ä»¶ä¸ç¼–è¾‘å™¨æ“ä½œ</strong></h3><table><thead><tr><th align="left">åŠŸèƒ½</th><th align="left">Windows&#x2F;Linux</th><th align="left">macOS</th></tr></thead><tbody><tr><td align="left">æ–°å»ºæ–‡ä»¶</td><td align="left"><code>Ctrl + N</code></td><td align="left"><code>Cmd + N</code></td></tr><tr><td align="left">æ‰“å¼€æ–‡ä»¶</td><td align="left"><code>Ctrl + O</code></td><td align="left"><code>Cmd + O</code></td></tr><tr><td align="left">ä¿å­˜æ–‡ä»¶</td><td align="left"><code>Ctrl + S</code></td><td align="left"><code>Cmd + S</code></td></tr><tr><td align="left">å¦å­˜ä¸º</td><td align="left"><code>Ctrl + Shift + S</code></td><td align="left"><code>Cmd + Shift + S</code></td></tr><tr><td align="left">å…³é—­æ–‡ä»¶</td><td align="left"><code>Ctrl + W</code></td><td align="left"><code>Cmd + W</code></td></tr><tr><td align="left">å…³é—­æ‰€æœ‰æ–‡ä»¶</td><td align="left"><code>Ctrl + K, Ctrl + W</code></td><td align="left"><code>Cmd + K, Cmd + W</code></td></tr><tr><td align="left">é‡æ–°æ‰“å¼€å…³é—­çš„æ–‡ä»¶</td><td align="left"><code>Ctrl + Shift + T</code></td><td align="left"><code>Cmd + Shift + T</code></td></tr><tr><td align="left">æ‰“å¼€æ–‡ä»¶å¤¹</td><td align="left"><code>Ctrl+K O</code></td><td align="left"><code>Cmd+K O</code></td></tr><tr><td align="left">ä¸Šä¸€ä¸ªæ–‡ä»¶</td><td align="left"><code>Ctrl+Tab</code></td><td align="left"><code>Cmd+Tab</code></td></tr><tr><td align="left">ä¸‹ä¸€ä¸ªæ–‡ä»¶</td><td align="left"><code>Ctrl+Shift+Tab</code></td><td align="left"><code>Cmd+Shift+Tab</code></td></tr><tr><td align="left">åˆ‡æ¢ç¼–è¾‘å™¨å¸ƒå±€</td><td align="left"><code>Alt+Shift+æ•°å­—</code></td><td align="left"><code>Cmd+Option+æ•°å­—</code></td></tr><tr><td align="left">å…¨å±åˆ‡æ¢</td><td align="left"><code>F11</code></td><td align="left"><code>Ctrl+Cmd+F</code></td></tr></tbody></table><hr><h3 id="3-ä»£ç ç¼–è¾‘å¿«æ·é”®"><a href="#3-ä»£ç ç¼–è¾‘å¿«æ·é”®" class="headerlink" title="3. ä»£ç ç¼–è¾‘å¿«æ·é”®"></a>3. <strong>ä»£ç ç¼–è¾‘å¿«æ·é”®</strong></h3><table><thead><tr><th align="left">åŠŸèƒ½</th><th align="left">Windows&#x2F;Linux</th><th align="left">macOS</th></tr></thead><tbody><tr><td align="left">æ’¤é”€</td><td align="left"><code>Ctrl + Z</code></td><td align="left"><code>Cmd + Z</code></td></tr><tr><td align="left">é‡åš</td><td align="left"><code>Ctrl + Y</code></td><td align="left"><code>Cmd + Y</code></td></tr><tr><td align="left">å¤åˆ¶</td><td align="left"><code>Ctrl + C</code></td><td align="left"><code>Cmd + C</code></td></tr><tr><td align="left">å‰ªåˆ‡</td><td align="left"><code>Ctrl + X</code></td><td align="left"><code>Cmd + X</code></td></tr><tr><td align="left">ç²˜è´´</td><td align="left"><code>Ctrl + V</code></td><td align="left"><code>Cmd + V</code></td></tr><tr><td align="left">æŸ¥æ‰¾</td><td align="left"><code>Ctrl + F</code></td><td align="left"><code>Cmd + F</code></td></tr><tr><td align="left">æ›¿æ¢</td><td align="left"><code>Ctrl + H</code></td><td align="left"><code>Cmd + H</code></td></tr><tr><td align="left">å…¨é€‰</td><td align="left"><code>Ctrl + A</code></td><td align="left"><code>Cmd + A</code></td></tr><tr><td align="left">æ ¼å¼åŒ–ä»£ç </td><td align="left"><code>Shift + Alt + F</code></td><td align="left"><code>Shift + Option + F</code></td></tr><tr><td align="left">æ³¨é‡Šè¡Œ</td><td align="left"><code>Ctrl + /</code></td><td align="left"><code>Cmd + /</code></td></tr><tr><td align="left">å¤šè¡Œæ³¨é‡Š</td><td align="left"><code>Shift + Alt + A</code></td><td align="left"><code>Shift + Option + A</code></td></tr><tr><td align="left">å¤åˆ¶å½“å‰è¡Œ</td><td align="left"><code>Alt + Shift + Down</code></td><td align="left"><code>Option + Shift + Down</code></td></tr><tr><td align="left">åˆ é™¤å½“å‰è¡Œ</td><td align="left"><code>Ctrl + Shift + K</code></td><td align="left"><code>Cmd + Shift + K</code></td></tr><tr><td align="left">ç§»åŠ¨å½“å‰è¡Œ</td><td align="left"><code>Alt + Up/Down</code></td><td align="left"><code>Option + Up/Down</code></td></tr><tr><td align="left">é€‰ä¸­å½“å‰è¡Œ</td><td align="left"><code>Ctrl + L</code></td><td align="left"><code>Cmd + L</code></td></tr><tr><td align="left">æŸ¥æ‰¾æ›¿æ¢</td><td align="left"><code>Ctrl + H</code></td><td align="left"><code>Cmd + Option + F</code></td></tr><tr><td align="left">è½¬åˆ°è¡Œå·</td><td align="left"><code>Ctrl + G</code></td><td align="left"><code>Cmd + G</code></td></tr><tr><td align="left">åœ¨ä¸‹æ–¹æ’å…¥è¡Œ</td><td align="left"><code>Ctrl + Enter</code></td><td align="left"><code>Cmd + Enter</code></td></tr><tr><td align="left">åœ¨ä¸Šæ–¹æ’å…¥è¡Œ</td><td align="left"><code>Ctrl + Shift + Enter</code></td><td align="left"><code>Cmd + Shift + Enter</code></td></tr><tr><td align="left">è·³è½¬åˆ°åŒ¹é…çš„æ‹¬å·</td><td align="left"><code>Ctrl + Shift + \</code></td><td align="left"><code>Cmd + Shift + \</code></td></tr><tr><td align="left">ç¼©è¿›&#x2F;å–æ¶ˆç¼©è¿›</td><td align="left"><code>Ctrl + ] / [</code></td><td align="left"><code>Cmd + ] / [</code></td></tr><tr><td align="left">è½¬åˆ°è¡Œé¦–&#x2F;è¡Œå°¾</td><td align="left"><code>Home / End</code></td><td align="left"><code>Cmd + â† / â†’</code></td></tr><tr><td align="left">è½¬åˆ°æ–‡ä»¶å¼€å¤´&#x2F;ç»“å°¾</td><td align="left"><code>Ctrl + Home / End</code></td><td align="left"><code>Cmd + â†‘ / â†“</code></td></tr><tr><td align="left">æŠ˜å &#x2F;å±•å¼€åŒºåŸŸ</td><td align="left"><code>Ctrl + Shift + [ / ]</code></td><td align="left"><code>Option + Cmd + [ / ]</code></td></tr><tr><td align="left">åˆ‡æ¢å—æ³¨é‡Š</td><td align="left"><code>Shift + Alt + A</code></td><td align="left"><code>Option + Shift + A</code></td></tr><tr><td align="left">åˆ‡æ¢è‡ªåŠ¨æ¢è¡Œ</td><td align="left"><code>Alt + Z</code></td><td align="left"><code>Option + Z</code></td></tr></tbody></table><hr><h3 id="4-å¤šå…‰æ ‡æ“ä½œ"><a href="#4-å¤šå…‰æ ‡æ“ä½œ" class="headerlink" title="4. å¤šå…‰æ ‡æ“ä½œ"></a>4. <strong>å¤šå…‰æ ‡æ“ä½œ</strong></h3><table><thead><tr><th align="left">åŠŸèƒ½</th><th align="left">Windows&#x2F;Linux</th><th align="left">macOS</th></tr></thead><tbody><tr><td align="left">æ’å…¥å…‰æ ‡</td><td align="left"><code>Alt + ç‚¹å‡»</code></td><td align="left"><code>Option + ç‚¹å‡»</code></td></tr><tr><td align="left">åœ¨ä¸Šæ–¹&#x2F;ä¸‹æ–¹æ’å…¥å…‰æ ‡</td><td align="left"><code>Ctrl + Alt + â†‘ / â†“</code></td><td align="left"><code>Option + Cmd + â†‘ / â†“</code></td></tr><tr><td align="left">æ’¤é”€ä¸Šä¸€ä¸ªå…‰æ ‡æ“ä½œ</td><td align="left"><code>Ctrl + U</code></td><td align="left"><code>Cmd + U</code></td></tr><tr><td align="left">é€‰æ‹©å½“å‰è¡Œ</td><td align="left"><code>Ctrl + L</code></td><td align="left"><code>Cmd + L</code></td></tr><tr><td align="left">é€‰æ‹©æ‰€æœ‰åŒ¹é…é¡¹</td><td align="left"><code>Ctrl + F2</code></td><td align="left"><code>Cmd + F2</code></td></tr><tr><td align="left">åˆ—é€‰æ‹©</td><td align="left"><code>Shift + Alt + æ‹–åŠ¨</code></td><td align="left"><code>Shift + Option + æ‹–åŠ¨</code></td></tr><tr><td align="left">é€‰ä¸­æ‰€æœ‰åŒ¹é…å†…å®¹</td><td align="left"><code>Ctrl + Shift + L</code></td><td align="left"><code>Cmd + Shift + L</code></td></tr><tr><td align="left">é€‰ä¸­ä¸‹ä¸€ä¸ªåŒ¹é…</td><td align="left"><code>Ctrl + D</code></td><td align="left"><code>Cmd + D</code></td></tr></tbody></table><hr><h3 id="5-è°ƒè¯•å¿«æ·é”®"><a href="#5-è°ƒè¯•å¿«æ·é”®" class="headerlink" title="5. è°ƒè¯•å¿«æ·é”®"></a>5. <strong>è°ƒè¯•å¿«æ·é”®</strong></h3><table><thead><tr><th align="left">åŠŸèƒ½</th><th align="left">Windows&#x2F;Linux</th><th align="left">macOS</th></tr></thead><tbody><tr><td align="left">å¼€å§‹è°ƒè¯•</td><td align="left"><code>F5</code></td><td align="left"><code>F5</code></td></tr><tr><td align="left">åœæ­¢è°ƒè¯•</td><td align="left"><code>Shift+F5</code></td><td align="left"><code>Shift+F5</code></td></tr><tr><td align="left">æ­¥è¿‡</td><td align="left"><code>F10</code></td><td align="left"><code>F10</code></td></tr><tr><td align="left">æ­¥å…¥</td><td align="left"><code>F11</code></td><td align="left"><code>F11</code></td></tr><tr><td align="left">æ­¥å‡º</td><td align="left"><code>Shift+F11</code></td><td align="left"><code>Shift+F11</code></td></tr><tr><td align="left">åˆ‡æ¢æ–­ç‚¹</td><td align="left"><code>F9</code></td><td align="left"><code>F9</code></td></tr></tbody></table><hr><h3 id="6-æœç´¢å’Œå¯¼èˆª"><a href="#6-æœç´¢å’Œå¯¼èˆª" class="headerlink" title="6. æœç´¢å’Œå¯¼èˆª"></a>6. <strong>æœç´¢å’Œå¯¼èˆª</strong></h3><table><thead><tr><th align="left">åŠŸèƒ½</th><th align="left">Windows&#x2F;Linux</th><th align="left">macOS</th></tr></thead><tbody><tr><td align="left">å…¨å±€æœç´¢</td><td align="left"><code>Ctrl+Shift+F</code></td><td align="left"><code>Cmd+Shift+F</code></td></tr><tr><td align="left">è½¬åˆ°å®šä¹‰</td><td align="left"><code>F12</code></td><td align="left"><code>F12</code></td></tr><tr><td align="left">è½¬åˆ°å£°æ˜</td><td align="left"><code>Ctrl+F12</code></td><td align="left"><code>Cmd+F12</code></td></tr><tr><td align="left">æŸ¥æ‰¾å¼•ç”¨</td><td align="left"><code>Shift+F12</code></td><td align="left"><code>Shift+F12</code></td></tr><tr><td align="left">æ˜¾ç¤ºå¤§çº²</td><td align="left"><code>Ctrl+Shift+O</code></td><td align="left"><code>Cmd+Shift+O</code></td></tr><tr><td align="left">è·³è½¬åˆ°ä¸Šä¸€ä¸ªä½ç½®</td><td align="left"><code>Ctrl+Alt+Left</code></td><td align="left"><code>Cmd+Option+Left</code></td></tr><tr><td align="left">è·³è½¬åˆ°ä¸‹ä¸€ä¸ªä½ç½®</td><td align="left"><code>Ctrl+Alt+Right</code></td><td align="left"><code>Cmd+Option+Right</code></td></tr></tbody></table><hr><h3 id="7-ç‰ˆæœ¬æ§åˆ¶"><a href="#7-ç‰ˆæœ¬æ§åˆ¶" class="headerlink" title="7. ç‰ˆæœ¬æ§åˆ¶"></a>7. <strong>ç‰ˆæœ¬æ§åˆ¶</strong></h3><table><thead><tr><th align="left">åŠŸèƒ½</th><th align="left">Windows&#x2F;Linux</th><th align="left">macOS</th></tr></thead><tbody><tr><td align="left">æ‰“å¼€ç‰ˆæœ¬æ§åˆ¶è§†å›¾</td><td align="left"><code>Ctrl+Shift+G</code></td><td align="left"><code>Cmd+Shift+G</code></td></tr><tr><td align="left">æäº¤ä»£ç </td><td align="left"><code>Ctrl+Enter</code></td><td align="left"><code>Cmd+Enter</code></td></tr><tr><td align="left">æŸ¥çœ‹å˜æ›´</td><td align="left"><code>Ctrl+Shift+D</code></td><td align="left"><code>Cmd+Shift+D</code></td></tr></tbody></table><hr><h3 id="8-ç»ˆç«¯æ“ä½œ"><a href="#8-ç»ˆç«¯æ“ä½œ" class="headerlink" title="8. ç»ˆç«¯æ“ä½œ"></a>8. <strong>ç»ˆç«¯æ“ä½œ</strong></h3><table><thead><tr><th align="left">åŠŸèƒ½</th><th align="left">Windows&#x2F;Linux</th><th align="left">macOS</th></tr></thead><tbody><tr><td align="left">æ˜¾ç¤ºé›†æˆç»ˆç«¯</td><td align="left">Ctrl + &#96;</td><td align="left">Ctrl + &#96;</td></tr><tr><td align="left">æ–°å»ºç»ˆç«¯</td><td align="left">&#96;Ctrl+Shift+&#96;&#96;&#96;</td><td align="left">&#96;Cmd+Shift+&#96;&#96;&#96;</td></tr><tr><td align="left">åˆ‡æ¢ç»ˆç«¯</td><td align="left"><code>Ctrl+PageUp/PageDown</code></td><td align="left"><code>Cmd+PageUp/PageDown</code></td></tr><tr><td align="left">å…³é—­ç»ˆç«¯</td><td align="left"><code>Ctrl+Shift+W</code></td><td align="left"><code>Cmd+Shift+W</code></td></tr></tbody></table><h3 id="9-å‘½ä»¤é¢æ¿"><a href="#9-å‘½ä»¤é¢æ¿" class="headerlink" title="9. å‘½ä»¤é¢æ¿"></a>9. å‘½ä»¤é¢æ¿</h3><table><thead><tr><th align="left">æ“ä½œ</th><th align="left">Windows&#x2F;Linux</th><th align="left">macOS</th></tr></thead><tbody><tr><td align="left">æ‰“å¼€å‘½ä»¤é¢æ¿</td><td align="left"><code>Ctrl + Shift + P</code></td><td align="left"><code>Cmd + Shift + P</code></td></tr><tr><td align="left">æ‰“å¼€é”®ç›˜å¿«æ·é”®å‚è€ƒ</td><td align="left"><code>Ctrl + K, Ctrl + S</code></td><td align="left"><code>Cmd + K, Cmd + S</code></td></tr></tbody></table><h3 id="10-æ˜¾ç¤º"><a href="#10-æ˜¾ç¤º" class="headerlink" title="10. æ˜¾ç¤º"></a>10. æ˜¾ç¤º</h3><table><thead><tr><th align="left"><strong>åŠŸèƒ½</strong></th><th align="left"><strong>Windows&#x2F;Linux</strong></th><th align="left"><strong>macOS</strong></th></tr></thead><tbody><tr><td align="left">åˆ‡æ¢å…¨å±</td><td align="left"><code>F11</code></td><td align="left"><code>Cmd + Ctrl + F</code></td></tr><tr><td align="left">æ”¾å¤§&#x2F;ç¼©å°</td><td align="left"><code>Ctrl + = / -</code></td><td align="left"><code>Cmd + = / -</code></td></tr><tr><td align="left">åˆ‡æ¢ä¾§è¾¹æ å¯è§æ€§</td><td align="left"><code>Ctrl + B</code></td><td align="left"><code>Cmd + B</code></td></tr><tr><td align="left">æ˜¾ç¤ºèµ„æºç®¡ç†å™¨</td><td align="left"><code>Ctrl + Shift + E</code></td><td align="left"><code>Cmd + Shift + E</code></td></tr><tr><td align="left">æ˜¾ç¤ºæœç´¢</td><td align="left"><code>Ctrl + Shift + F</code></td><td align="left"><code>Cmd + Shift + F</code></td></tr><tr><td align="left">æ˜¾ç¤ºæºä»£ç æ§åˆ¶</td><td align="left"><code>Ctrl + Shift + G</code></td><td align="left"><code>Cmd + Shift + G</code></td></tr><tr><td align="left">æ˜¾ç¤ºè°ƒè¯•</td><td align="left"><code>Ctrl + Shift + D</code></td><td align="left"><code>Cmd + Shift + D</code></td></tr><tr><td align="left">æ˜¾ç¤ºæ‰©å±•</td><td align="left"><code>Ctrl + Shift + X</code></td><td align="left"><code>Cmd + Shift + X</code></td></tr></tbody></table><h3 id="11-æ‰©å±•æ“ä½œ"><a href="#11-æ‰©å±•æ“ä½œ" class="headerlink" title="11. æ‰©å±•æ“ä½œ"></a>11. æ‰©å±•æ“ä½œ</h3><table><thead><tr><th align="left">æ“ä½œ</th><th align="left">Windows&#x2F;Linux</th><th align="left">macOS</th></tr></thead><tbody><tr><td align="left">å®‰è£…æ‰©å±•</td><td align="left"><code>Ctrl + Shift + X</code></td><td align="left"><code>Cmd + Shift + X</code></td></tr><tr><td align="left">æ‰©å±•ç®¡ç†</td><td align="left"><code>Ctrl + Shift + P</code> â†’ è¾“å…¥ â€œExtensionsâ€</td><td align="left">åŒå·¦</td></tr></tbody></table><h3 id="12-å…¶ä»–"><a href="#12-å…¶ä»–" class="headerlink" title="12. å…¶ä»–"></a>12. å…¶ä»–</h3><table><thead><tr><th align="left"><strong>åŠŸèƒ½</strong></th><th align="left"><strong>Windows&#x2F;Linux</strong></th><th align="left"><strong>macOS</strong></th></tr></thead><tbody><tr><td align="left">æ‰“å¼€ Markdown é¢„è§ˆ</td><td align="left"><code>Ctrl + K, V</code></td><td align="left"><code>Cmd + K, V</code></td></tr><tr><td align="left">ç¦…æ¨¡å¼</td><td align="left"><code>Ctrl + K, Z</code></td><td align="left"><code>Cmd + K, Z</code></td></tr></tbody></table><hr><h2 id="å®˜æ–¹æä¾›çš„å¿«æ·é”®è¯´æ˜"><a href="#å®˜æ–¹æä¾›çš„å¿«æ·é”®è¯´æ˜" class="headerlink" title="å®˜æ–¹æä¾›çš„å¿«æ·é”®è¯´æ˜"></a>å®˜æ–¹æä¾›çš„å¿«æ·é”®è¯´æ˜</h2><h3 id="Windows-å¹³å°"><a href="#Windows-å¹³å°" class="headerlink" title="Windows å¹³å°"></a>Windows å¹³å°</h3><p><img src="/2025/09/03/VSCode%20%E5%BF%AB%E6%8D%B7%E9%94%AE%E5%A4%A7%E5%85%A8/keyboard-shortcuts-win.png" alt="img"></p><h3 id="macOS-å¹³å°"><a href="#macOS-å¹³å°" class="headerlink" title="macOS å¹³å°"></a>macOS å¹³å°</h3><p><img src="/2025/09/03/VSCode%20%E5%BF%AB%E6%8D%B7%E9%94%AE%E5%A4%A7%E5%85%A8/keyboard-shortcuts-macos.png" alt="img"></p><h3 id="Linux-å¹³å°"><a href="#Linux-å¹³å°" class="headerlink" title="Linux å¹³å°"></a>Linux å¹³å°</h3><p><img src="/2025/09/03/VSCode%20%E5%BF%AB%E6%8D%B7%E9%94%AE%E5%A4%A7%E5%85%A8/keyboard-shortcuts-linux.png" alt="img"></p><hr><p>ä»¥ä¸Šå¿«æ·é”®å¯ä»¥é€šè¿‡ <strong>é”®ç»‘å®šè®¾ç½®</strong> è‡ªå®šä¹‰ã€‚åœ¨ VS Code ä¸­ï¼ŒæŒ‰ä¸‹ <code>Ctrl+K Ctrl+S</code>ï¼ˆmacOS ä¸Š <code>Cmd+K Cmd+S</code>ï¼‰æ‰“å¼€é”®ç»‘å®šé¡µé¢ï¼Œæ–¹ä¾¿æŸ¥è¯¢å’Œä¿®æ”¹å¿«æ·é”®ã€‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;VSCode-å¿«æ·é”®å¤§å…¨&quot;&gt;&lt;a href=&quot;#VSCode-å¿«æ·é”®å¤§å…¨&quot; class=&quot;headerlink&quot; title=&quot;VSCode å¿«æ·é”®å¤§å…¨&quot;&gt;&lt;/a&gt;VSCode å¿«æ·é”®å¤§å…¨&lt;/h1&gt;&lt;blockquote&gt;
&lt;p&gt;è½¬è½½ä¸€ç¯‡æ¥è‡ªèœé¸Ÿæ•™ç¨‹çš„æ–‡ç« ï¼Œæ–¹ä¾¿è‡ª</summary>
      
    
    
    
    <category term="æ•™ç¨‹" scheme="https://wenjiew-astro.github.io/categories/%E6%95%99%E7%A8%8B/"/>
    
    <category term="VSCode" scheme="https://wenjiew-astro.github.io/categories/%E6%95%99%E7%A8%8B/VSCode/"/>
    
    
    <category term="VSCode" scheme="https://wenjiew-astro.github.io/tags/VSCode/"/>
    
    <category term="æ•™ç¨‹" scheme="https://wenjiew-astro.github.io/tags/%E6%95%99%E7%A8%8B/"/>
    
  </entry>
  
  <entry>
    <title>hexoé…ç½®å®‰çŸ¥é±¼éŸ³ä¹é¡µé¢</title>
    <link href="https://wenjiew-astro.github.io/2025/09/01/hexo%E9%85%8D%E7%BD%AE%E5%AE%89%E7%9F%A5%E9%B1%BC%E9%9F%B3%E4%B9%90%E9%A1%B5%E9%9D%A2/"/>
    <id>https://wenjiew-astro.github.io/2025/09/01/hexo%E9%85%8D%E7%BD%AE%E5%AE%89%E7%9F%A5%E9%B1%BC%E9%9F%B3%E4%B9%90%E9%A1%B5%E9%9D%A2/</id>
    <published>2025-08-31T16:00:00.000Z</published>
    <updated>2025-09-01T13:41:41.775Z</updated>
    
    <content type="html"><![CDATA[<h1 id="hexoé…ç½®å®‰çŸ¥é±¼éŸ³ä¹é¡µé¢"><a href="#hexoé…ç½®å®‰çŸ¥é±¼éŸ³ä¹é¡µé¢" class="headerlink" title="hexoé…ç½®å®‰çŸ¥é±¼éŸ³ä¹é¡µé¢"></a>hexoé…ç½®å®‰çŸ¥é±¼éŸ³ä¹é¡µé¢</h1><p>ç”¨ç°æˆçš„ <code>hexo-anzhiyu-music</code> é€‚é…è„šæœ¬ï¼Œæ ·å¼ã€å¸ƒå±€ã€‚</p><p><strong>1ï¼‰å®‰è£…è„šæœ¬</strong></p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># åœ¨åšå®¢æ ¹ç›®å½•æ‰§è¡Œ</span><br><span class="line"></span><br><span class="line">npm i hexo-anzhiyu-music --save</span><br></pre></td></tr></table></figure><p> <strong>2ï¼‰åœ¨ç«™ç‚¹é…ç½®æˆ–ä¸»é¢˜é…ç½®é‡ŒåŠ ä¸Šï¼š</strong></p><p> ï¼ˆä»»é€‰å…¶ä¸€ï¼š<code>_config.yml</code> æˆ– <code>_config.butterfly.yml</code>ï¼‰</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># éŸ³ä¹é¦†</span><br><span class="line">anzhiyu_music:</span><br><span class="line">  enable: true</span><br><span class="line">  id: &quot;826250135&quot;    # ä½ çš„ç½‘æ˜“äº‘æ­Œå•ID</span><br><span class="line">  server: netease</span><br><span class="line">  customJS:</span><br><span class="line">  customCSS:</span><br><span class="line">  front_matter: |</span><br><span class="line">    title: éŸ³ä¹é¦†</span><br><span class="line">    type: music</span><br><span class="line">    aplayer: true</span><br><span class="line">    top_img: false</span><br><span class="line">    comments: false</span><br><span class="line">    aside: false</span><br></pre></td></tr></table></figure><p> <strong>3ï¼‰ç”¨ Butterfly çš„ <code>inject</code> æ³¨å…¥ APlayer å’Œ Meting2ï¼ˆå…³é”®ï¼‰</strong></p><p>æ‰“å¼€ <code>themes/butterfly/_config.yml</code>ï¼Œå¢åŠ ï¼ˆæˆ–åˆå¹¶åˆ°ä½ è‡ªå·±çš„ injectï¼‰ï¼š</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">inject:</span><br><span class="line">  head:</span><br><span class="line">    - &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/aplayer/APlayer.min.css&quot;&gt;</span><br><span class="line">  bottom:</span><br><span class="line">    - &lt;script src=&quot;https://cdn.cbd.int/anzhiyu-blog-static@1.0.1/js/APlayer.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    - &lt;script src=&quot;https://npm.elemecdn.com/hexo-anzhiyu-music@1.0.1/assets/js/Meting2.min.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure><blockquote><p> å¤‡ç”¨é•œåƒï¼ˆä¸‡ä¸€è¢«å¢™&#x2F;æŠ½é£ï¼‰ï¼š</p><ul><li><code>https://cdn.jsdelivr.net/npm/hexo-anzhiyu-music@1.0.1/assets/js/Meting2.min.js</code></li><li><code>https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js</code></li><li><code>https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css</code></li></ul></blockquote><p> <strong>4ï¼‰æ–°å»ºé¡µé¢ï¼ˆå¦‚æœè¿˜æ²¡å»ºï¼‰ï¼š</strong></p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo new page music</span><br></pre></td></tr></table></figure><p>æŠŠ <code>source/music/index.md</code> å†™æˆå¦‚ä¸‹è¿™æ ·ï¼š</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: éŸ³ä¹é¦†</span><br><span class="line">type: music</span><br><span class="line">comments: false</span><br><span class="line">aside: false</span><br><span class="line">aplayer: true</span><br><span class="line">top_img: false</span><br><span class="line"># å¦‚æœä½ å¼€äº† pjaxï¼Œå¼ºçƒˆå»ºè®®å…³æ‰ï¼Œå¦åˆ™å¯èƒ½ä¸æ‰§è¡Œåˆå§‹åŒ–</span><br><span class="line">pjax: false</span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">&lt;meting-js</span><br><span class="line">  server=&quot;netease&quot;</span><br><span class="line">  type=&quot;playlist&quot;</span><br><span class="line">  id=&quot;826250135&quot;</span><br><span class="line">  fixed=&quot;false&quot;</span><br><span class="line">  autoplay=&quot;false&quot;</span><br><span class="line">  order=&quot;list&quot;</span><br><span class="line">  list-folded=&quot;false&quot;</span><br><span class="line">  lrc-type=&quot;1&quot;&gt;</span><br><span class="line">&lt;/meting-js&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p> ç„¶åï¼š</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo clean &amp;&amp; hexo g &amp;&amp; hexo s</span><br></pre></td></tr></table></figure><p><strong>5ï¼‰é—®é¢˜ï¼šå‘ç°è¿™æ ·è¿›åº¦æ¡æœ‰ç‚¹é«˜ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢è¿™æ ·çš„æ–¹æ¡ˆè§£å†³</strong></p><p>åœ¨ <code>themes/butterfly/_config.yml</code> é‡Œï¼ŒæŠŠä¹‹å‰æˆ‘è®©ä½ åŠ çš„ <code>&lt;style id=&quot;music-fix&quot;&gt;...&lt;/style&gt;</code> åˆ é™¤ï¼›ç„¶ååœ¨ <code>inject.head</code> é‡ŒåŠ å…¥è¿™æ®µæç®€æ ·å¼ï¼š</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">inject:</span><br><span class="line">head:</span><br><span class="line">    - &lt;style id=&quot;music-bar-lower&quot;&gt;</span><br><span class="line">        /* ä»…æŠŠæ§åˆ¶æ¡æ•´ä½“å¾€ä¸‹æŒªä¸€ç‚¹ */</span><br><span class="line">        .aplayer .aplayer-controller&#123;</span><br><span class="line">          transform: translateY(12px);   /* æ•°å€¼è¶Šå¤§è¶Šé ä¸‹ï¼Œè‡ªå·±è°ƒ */</span><br><span class="line">        &#125;</span><br><span class="line">        /* é˜²æ­¢è¢«è£åˆ‡/æŒ¡ä½ï¼Œç»™ä¿¡æ¯åŒºç•™ä¸€ç‚¹åº•éƒ¨ç©ºé—´ */</span><br><span class="line">        .aplayer .aplayer-info&#123;</span><br><span class="line">          padding-bottom: 12px;</span><br><span class="line">        &#125;</span><br><span class="line">      &lt;/style&gt;</span><br></pre></td></tr></table></figure><p>æƒ³å†ä½ä¸€ç‚¹ï¼Œå°±æŠŠ <code>12px</code> è°ƒæˆ <code>16px / 20px</code> è¯•è¯•ï¼›ä¸å½±å“æ­Œè¯æ ·å¼ï¼Œä¹Ÿä¸ä¼šæ”¹è¿›åº¦æ¡çš„ç²—ç»†ã€‚</p><blockquote><p><strong>ä½†æ˜¯è¿˜æœ‰ä¸€ä¸ªé—ç•™é—®é¢˜ï¼Œæ­Œè¯æ»šåŠ¨ä¸æ­£å¸¸ï¼Œæš‚æ—¶æ²¡æœ‰æ›´å¥½çš„è§£å†³æ–¹æ¡ˆï¼Œå°±å…ˆè¿™æ ·å§ï¼Œä¹‹åæœ‰æ—¶é—´å†è§£å†³ä¸€ä¸‹ï¼ï¼</strong></p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;hexoé…ç½®å®‰çŸ¥é±¼éŸ³ä¹é¡µé¢&quot;&gt;&lt;a href=&quot;#hexoé…ç½®å®‰çŸ¥é±¼éŸ³ä¹é¡µé¢&quot; class=&quot;headerlink&quot; title=&quot;hexoé…ç½®å®‰çŸ¥é±¼éŸ³ä¹é¡µé¢&quot;&gt;&lt;/a&gt;hexoé…ç½®å®‰çŸ¥é±¼éŸ³ä¹é¡µé¢&lt;/h1&gt;&lt;p&gt;ç”¨ç°æˆçš„ &lt;code&gt;hexo-anzhiyu-mu</summary>
      
    
    
    
    <category term="æ•™ç¨‹" scheme="https://wenjiew-astro.github.io/categories/%E6%95%99%E7%A8%8B/"/>
    
    <category term="Hexo" scheme="https://wenjiew-astro.github.io/categories/%E6%95%99%E7%A8%8B/Hexo/"/>
    
    
    <category term="æ•™ç¨‹" scheme="https://wenjiew-astro.github.io/tags/%E6%95%99%E7%A8%8B/"/>
    
    <category term="Hexo" scheme="https://wenjiew-astro.github.io/tags/Hexo/"/>
    
  </entry>
  
  <entry>
    <title>hexoé…ç½®å‹é“¾</title>
    <link href="https://wenjiew-astro.github.io/2025/09/01/hexo%E9%85%8D%E7%BD%AE%E5%8F%8B%E9%93%BE/"/>
    <id>https://wenjiew-astro.github.io/2025/09/01/hexo%E9%85%8D%E7%BD%AE%E5%8F%8B%E9%93%BE/</id>
    <published>2025-08-31T16:00:00.000Z</published>
    <updated>2025-09-01T06:28:26.006Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p> æ•ˆæœå›¾å¯ä»¥æŸ¥çœ‹æˆ‘çš„åšå®¢<code>å‹äººå¸</code>é¡µé¢</p></blockquote><h2 id="æ•°æ®-ï¼ˆç»Ÿä¸€å†™-JSONï¼Œå’Œ-Matery-åŒæ¬¾å­—æ®µï¼Œåç»­å¯è¿ç§»å¾ˆæ–¹ä¾¿ï¼‰"><a href="#æ•°æ®-ï¼ˆç»Ÿä¸€å†™-JSONï¼Œå’Œ-Matery-åŒæ¬¾å­—æ®µï¼Œåç»­å¯è¿ç§»å¾ˆæ–¹ä¾¿ï¼‰" class="headerlink" title="æ•°æ® ï¼ˆç»Ÿä¸€å†™ JSONï¼Œå’Œ Matery åŒæ¬¾å­—æ®µï¼Œåç»­å¯è¿ç§»å¾ˆæ–¹ä¾¿ï¼‰"></a><strong>æ•°æ®</strong> ï¼ˆç»Ÿä¸€å†™ JSONï¼Œå’Œ Matery åŒæ¬¾å­—æ®µï¼Œåç»­å¯è¿ç§»å¾ˆæ–¹ä¾¿ï¼‰</h2><p>æ–°å»º <code>source/_data/friends.json</code>ï¼š</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;avatar&quot;: &quot;https://files.catbox.moe/zepnb3.jpg&quot;,</span><br><span class="line">        &quot;name&quot;: &quot;çˆ±éª‘æ‰«æŠŠçš„ç‹åŒå­¦&quot;,</span><br><span class="line">        &quot;introduction&quot;: &quot;æµ·æ˜¯å€’è¿‡æ¥çš„å¤©&quot;,</span><br><span class="line">        &quot;url&quot;: &quot;https://wenjiew-astro.github.io/&quot;,</span><br><span class="line">        &quot;title&quot;: &quot;æˆ‘çš„åœ°ç›˜&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;avatar&quot;: &quot;https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg&quot;,</span><br><span class="line">        &quot;name&quot;: &quot;Hexo&quot;,</span><br><span class="line">        &quot;introduction&quot;: &quot;å¿«é€Ÿã€ç®€å•ä¸”å¼ºå¤§çš„ç½‘ç«™æ¡†æ¶&quot;,</span><br><span class="line">        &quot;url&quot;: &quot;https://hexo.io/zh-tw/&quot;,</span><br><span class="line">        &quot;title&quot;: &quot;è®¿é—®å®˜ç½‘&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;avatar&quot;: &quot;https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg&quot;,</span><br><span class="line">        &quot;name&quot;: &quot;å®‰çŸ¥é±¼&quot;,</span><br><span class="line">        &quot;introduction&quot;: &quot;ç”Ÿæ´»æ˜æœ—ï¼Œä¸‡ç‰©å¯çˆ±&quot;,</span><br><span class="line">        &quot;url&quot;: &quot;https://blog.anheyu.com/&quot;,</span><br><span class="line">        &quot;title&quot;: &quot;å¿«å»æˆ³ä»–&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;name&quot;: &quot;Kezade&quot;,</span><br><span class="line">        &quot;avatar&quot;: &quot;https://zyxelva.github.io/medias/avatar.png&quot;,</span><br><span class="line">        &quot;url&quot;: &quot;https://zyxelva.github.io&quot;,</span><br><span class="line">        &quot;introduction&quot;: &quot;å…¨æ ˆå¼€å‘ï¼Œæ¶æ„å¸ˆï¼Œå‘å¾€èººå¹³&quot;,</span><br><span class="line">        &quot;title&quot;: &quot;è®¿é—®ä»–çš„ä¸»é¡µ&quot;</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="æ¨¡æ¿ï¼ˆPugï¼‰"><a href="#æ¨¡æ¿ï¼ˆPugï¼‰" class="headerlink" title="æ¨¡æ¿ï¼ˆPugï¼‰"></a><strong>æ¨¡æ¿ï¼ˆPugï¼‰</strong></h2><p> åœ¨ <code>themes/butterfly/layout/ æ–°å»º </code>  <strong>friends-matery.pug</strong>ï¼š</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">//- themes/butterfly/layout/friends-matery.pug</span><br><span class="line">extends includes/layout.pug</span><br><span class="line"></span><br><span class="line">block content</span><br><span class="line">  .page#page</span><br><span class="line">    // é¡¶éƒ¨æ ‡é¢˜</span><br><span class="line">    if page.title</span><br><span class="line">      .friends-hero</span><br><span class="line">        h1= page.title</span><br><span class="line"></span><br><span class="line">    // å‹é“¾å¡ç‰‡</span><br><span class="line">    .friends-grid(class=page.gradient ? &#x27;gradient&#x27; : &#x27;&#x27;)</span><br><span class="line">      - const list = site.data.friends || []</span><br><span class="line">      each f in list</span><br><span class="line">        article.friend-card</span><br><span class="line">          img.avatar(</span><br><span class="line">            src=f.avatar,</span><br><span class="line">            alt=f.name,</span><br><span class="line">            loading=&quot;lazy&quot;,</span><br><span class="line">            decoding=&quot;async&quot;,</span><br><span class="line">            referrerpolicy=&quot;no-referrer&quot;,</span><br><span class="line">            onerror=&quot;this.src=&#x27;/img/avatar-fallback.png&#x27;&quot;</span><br><span class="line">          )</span><br><span class="line">          .meta</span><br><span class="line">            h3= f.name</span><br><span class="line">            .title-line</span><br><span class="line">            if f.introduction</span><br><span class="line">              p= f.introduction</span><br><span class="line">          a.btn(href=f.url, target=&quot;_blank&quot;, rel=&quot;noopener&quot;)= f.title || &#x27;è®¿é—®&#x27;</span><br><span class="line"></span><br><span class="line">    // é¡µé¢æ­£æ–‡ï¼ˆä¿æŒä½ å·²æœ‰çš„ï¼‰</span><br><span class="line">    if page.content</span><br><span class="line">    .post-content!= page.content</span><br><span class="line">    </span><br><span class="line">    // è¯„è®ºï¼ˆæŒ‰ Butterfly çš„è¯„è®ºç³»ç»Ÿè®¾ç½®æ˜¾ç¤ºï¼‰</span><br><span class="line">    if page.comments !== false</span><br><span class="line">      include includes/third-party/comments/index.pug</span><br><span class="line"></span><br><span class="line">    // ===== ç›´æ¥å†…åµŒ giscusï¼ˆä¸å†ä¾èµ–ä¸»é¢˜çš„ comments å…¥å£ï¼‰ =====</span><br><span class="line">    if page.comments !== false</span><br><span class="line">    - const g = theme.giscus || &#123;&#125;;</span><br><span class="line">    - const repo      = g.repo;</span><br><span class="line">    - const repoId    = g[&#x27;repo-id&#x27;] || g.repo_id;</span><br><span class="line">    - const category  = g.category;</span><br><span class="line">    - const catId     = g[&#x27;category-id&#x27;] || g.category_id;</span><br><span class="line">    - const mapping   = g.mapping || &#x27;pathname&#x27;;</span><br><span class="line">    - const strict    = (g.strict === 1 || g.strict === &#x27;1&#x27;) ? &#x27;1&#x27; : &#x27;0&#x27;;</span><br><span class="line">    - const reactions = g[&#x27;reactions-enabled&#x27;] || g.reactions_enabled || &#x27;1&#x27;;</span><br><span class="line">    - const emitMeta  = g[&#x27;emit-metadata&#x27;] || g.emit_metadata || &#x27;0&#x27;;</span><br><span class="line">    - const inputPos  = g[&#x27;input-position&#x27;] || g.input_position || &#x27;bottom&#x27;;</span><br><span class="line">    - const lang      = g.lang || &#x27;zh-CN&#x27;;</span><br><span class="line">    - const themeName = g.theme || &#x27;preferred_color_scheme&#x27;;</span><br><span class="line"></span><br><span class="line">    .giscus</span><br><span class="line">    script(</span><br><span class="line">        src=&quot;https://giscus.app/client.js&quot;</span><br><span class="line">        async</span><br><span class="line">        crossorigin=&quot;anonymous&quot;</span><br><span class="line">        data-repo=repo</span><br><span class="line">        data-repo-id=repoId</span><br><span class="line">        data-category=category</span><br><span class="line">        data-category-id=catId</span><br><span class="line">        data-mapping=mapping</span><br><span class="line">        data-strict=strict</span><br><span class="line">        data-reactions-enabled=reactions</span><br><span class="line">        data-emit-metadata=emitMeta</span><br><span class="line">        data-input-position=inputPos</span><br><span class="line">        data-lang=lang</span><br><span class="line">        data-theme=themeName</span><br><span class="line">    )</span><br></pre></td></tr></table></figure><h2 id="æ ·å¼"><a href="#æ ·å¼" class="headerlink" title="æ ·å¼"></a><strong>æ ·å¼</strong></h2><p> æŠŠä¸‹é¢è¿™æ®µä¿å­˜ä¸º <code>source/css/friends-matery.css</code>ï¼Œå¹¶åœ¨ <code>themes/butterfly/_config.butterfly.yml</code> é‡Œæ³¨å…¥ï¼š</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/* ========== friends-matery.css (clean) ========== */</span><br><span class="line"></span><br><span class="line">/* é¡¶éƒ¨æ ‡é¢˜ */</span><br><span class="line">.friends-hero&#123;margin:16px 0 24px;text-align:center&#125;</span><br><span class="line">.friends-hero h1&#123;font-size:2rem;margin:0&#125;</span><br><span class="line"></span><br><span class="line">/* ç½‘æ ¼å®¹å™¨ */</span><br><span class="line">.friends-grid&#123;</span><br><span class="line">  display:grid;</span><br><span class="line">  grid-template-columns:repeat(auto-fill,minmax(280px,1fr));</span><br><span class="line">  gap:18px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* å¡ç‰‡åŸºç¡€ï¼ˆç™½å¡ï¼‰ */</span><br><span class="line">.friend-card&#123;</span><br><span class="line">  position:relative;</span><br><span class="line">  padding:20px;</span><br><span class="line">  border-radius:20px;</span><br><span class="line">  border:1px solid var(--card-border,rgba(0,0,0,.06));</span><br><span class="line">  background:var(--card-bg,rgba(255,255,255,.6));</span><br><span class="line">  box-shadow:0 8px 26px rgba(0,0,0,.08);</span><br><span class="line">  backdrop-filter:saturate(1.05) blur(2px);</span><br><span class="line">  will-change:transform;</span><br><span class="line">  transition:transform .18s ease, box-shadow .18s ease, border-color .18s ease;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* æ‚¬åœåŠ¨æ•ˆ */</span><br><span class="line">.friend-card:hover&#123;transform:translateY(-4px);box-shadow:0 14px 36px rgba(0,0,0,.12)&#125;</span><br><span class="line"></span><br><span class="line">/* â€”â€” å¸ƒå±€ï¼šå·¦å›¾å³æ–‡ + æŒ‰é’®å¸åº• â€”â€” */</span><br><span class="line">.friend-card&#123;</span><br><span class="line">  display:grid;</span><br><span class="line">  grid-template-columns:84px minmax(0,1fr);  /* å·¦å¤´åƒ / å³å†…å®¹ */</span><br><span class="line">  grid-template-rows:auto 1fr auto;          /* æ ‡é¢˜ | æè¿° | æŒ‰é’® */</span><br><span class="line">  column-gap:16px;</span><br><span class="line">  row-gap:8px;</span><br><span class="line">  align-items:start;</span><br><span class="line">  min-height:190px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* å¤´åƒ */</span><br><span class="line">.friend-card .avatar&#123;</span><br><span class="line">  grid-column:1; grid-row:1 / span 3;</span><br><span class="line">  width:84px;height:84px;border-radius:50%;</span><br><span class="line">  border:3px solid transparent;object-fit:cover;align-self:center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* å³ä¾§ä¿¡æ¯åŒº */</span><br><span class="line">.friend-card .meta&#123;grid-column:2;grid-row:1 / span 2;min-width:0;display:flex;flex-direction:column&#125;</span><br><span class="line"></span><br><span class="line">/* æ ‡é¢˜æ›´å¤§ */</span><br><span class="line">.friend-card h3&#123;</span><br><span class="line">  margin:0;</span><br><span class="line">  font-weight:800;</span><br><span class="line">  font-size:1.5rem;</span><br><span class="line">  line-height:1.25;</span><br><span class="line">  letter-spacing:.2px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* åˆ†éš”çº¿ï¼ˆç™½å¡ä¸‹ä¸ºæµ…ç°ï¼Œæ¸å˜æ¨¡å¼ä¸‹ä¼šè‡ªåŠ¨å˜æµ…ç™½ï¼‰ */</span><br><span class="line">.friend-card .title-line&#123;</span><br><span class="line">  width:56px;height:3px;border-radius:2px;</span><br><span class="line">  background:rgba(0,0,0,.12);</span><br><span class="line">  margin:6px 0 8px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* æè¿°ï¼Œä¸¤è¡Œçœç•¥ */</span><br><span class="line">.friend-card p&#123;</span><br><span class="line">  margin:0;opacity:.9;</span><br><span class="line">  display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;</span><br><span class="line">  overflow:hidden;white-space:normal;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* æŒ‰é’®å¸åº• */</span><br><span class="line">.friend-card .btn&#123;</span><br><span class="line">  grid-column:2;grid-row:3;justify-self:center; /* å±…ä¸­æ”¹ä¸º center */</span><br><span class="line">  margin:0;border-radius:999px;</span><br><span class="line">  padding:.5rem .9rem;</span><br><span class="line">  border:1px solid rgba(0,0,0,.08);</span><br><span class="line">  font-weight:700;line-height:1;text-decoration:none;</span><br><span class="line">&#125;</span><br><span class="line">.friend-card .btn:hover&#123;box-shadow:0 6px 18px rgba(0,0,0,.12)&#125;</span><br><span class="line"></span><br><span class="line">/* é”®ç›˜å¯è§ç„¦ç‚¹ */</span><br><span class="line">.friend-card:focus-within&#123;outline:3px solid rgba(59,130,246,.5);outline-offset:2px&#125;</span><br><span class="line"></span><br><span class="line">/* æ·±è‰²æ¨¡å¼ */</span><br><span class="line">:root[theme=&#x27;dark&#x27;] .friend-card&#123;</span><br><span class="line">  --card-bg:rgba(18,18,18,.65);</span><br><span class="line">  --card-border:rgba(255,255,255,.08);</span><br><span class="line">  box-shadow:0 10px 30px rgba(0,0,0,.45);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* ä½åŠ¨æ•ˆåå¥½ */</span><br><span class="line">@media (prefers-reduced-motion: reduce)&#123;</span><br><span class="line">  .friend-card,.friend-card:hover&#123;transform:none&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* ===== æ¸å˜å½©å¡ï¼ˆåœ¨å®¹å™¨ .friends-grid ä¸ŠåŠ  .gradient å³å¯å¯ç”¨ï¼‰ ===== */</span><br><span class="line">.friends-grid.gradient .friend-card&#123;</span><br><span class="line">  border:none;background:transparent;color:#fff;box-shadow:0 16px 36px rgba(0,0,0,.25);</span><br><span class="line">&#125;</span><br><span class="line">.friends-grid.gradient .friend-card::before&#123;</span><br><span class="line">  content:&quot;&quot;;position:absolute;inset:0;border-radius:inherit;z-index:0;</span><br><span class="line">  background:linear-gradient(135deg,var(--g1,#00c6ff),var(--g2,#0072ff));</span><br><span class="line">&#125;</span><br><span class="line">.friends-grid.gradient .friend-card &gt; *&#123;position:relative;z-index:1&#125;</span><br><span class="line">.friends-grid.gradient .title-line&#123;background:rgba(255,255,255,.35)&#125;</span><br><span class="line">.friends-grid.gradient .avatar&#123;border-color:rgba(255,255,255,.75)&#125;</span><br><span class="line">.friends-grid.gradient .btn&#123;background:rgba(255,255,255,.95);color:#111;border-color:transparent&#125;</span><br><span class="line">.friends-grid.gradient .btn:hover&#123;box-shadow:0 10px 24px rgba(0,0,0,.28)&#125;</span><br><span class="line"></span><br><span class="line">/* 6 ç»„è½®æ¢æ¸å˜è‰²ï¼ˆå¯æŒ‰éœ€æ”¹ï¼‰ */</span><br><span class="line">.friends-grid.gradient .friend-card:nth-child(6n+1)&#123;--g1:#00c6ff;--g2:#0072ff&#125;</span><br><span class="line">.friends-grid.gradient .friend-card:nth-child(6n+2)&#123;--g1:#7f00ff;--g2:#e100ff&#125;</span><br><span class="line">.friends-grid.gradient .friend-card:nth-child(6n+3)&#123;--g1:#f093fb;--g2:#f5576c&#125;</span><br><span class="line">.friends-grid.gradient .friend-card:nth-child(6n+4)&#123;--g1:#36d1dc;--g2:#5b86e5&#125;</span><br><span class="line">.friends-grid.gradient .friend-card:nth-child(6n+5)&#123;--g1:#4facfe;--g2:#00f2fe&#125;</span><br><span class="line">.friends-grid.gradient .friend-card:nth-child(6n)&#123;--g1:#fa709a;--g2:#fee140&#125;</span><br><span class="line"></span><br><span class="line">/* å°å±ä¼˜åŒ– */</span><br><span class="line">@media (max-width:480px)&#123;</span><br><span class="line">  .friend-card&#123;grid-template-columns:72px 1fr;min-height:170px&#125;</span><br><span class="line">  .friend-card .avatar&#123;width:72px;height:72px&#125;</span><br><span class="line">  .friend-card h3&#123;font-size:1.12rem&#125;</span><br><span class="line">&#125;</span><br><span class="line">/* ========== friends-matery.css (clean) ========== */</span><br><span class="line"></span><br><span class="line">/* é¡¶éƒ¨æ ‡é¢˜ */</span><br><span class="line">.friends-hero&#123;margin:16px 0 24px;text-align:center&#125;</span><br><span class="line">.friends-hero h1&#123;font-size:2rem;margin:0&#125;</span><br><span class="line"></span><br><span class="line">/* ç½‘æ ¼å®¹å™¨ */</span><br><span class="line">.friends-grid&#123;</span><br><span class="line">  display:grid;</span><br><span class="line">  grid-template-columns:repeat(auto-fill,minmax(280px,1fr));</span><br><span class="line">  gap:18px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* å¡ç‰‡åŸºç¡€ï¼ˆç™½å¡ï¼‰ */</span><br><span class="line">.friend-card&#123;</span><br><span class="line">  position:relative;</span><br><span class="line">  padding:20px;</span><br><span class="line">  border-radius:20px;</span><br><span class="line">  border:1px solid var(--card-border,rgba(0,0,0,.06));</span><br><span class="line">  background:var(--card-bg,rgba(255,255,255,.6));</span><br><span class="line">  box-shadow:0 8px 26px rgba(0,0,0,.08);</span><br><span class="line">  backdrop-filter:saturate(1.05) blur(2px);</span><br><span class="line">  will-change:transform;</span><br><span class="line">  transition:transform .18s ease, box-shadow .18s ease, border-color .18s ease;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* æ‚¬åœåŠ¨æ•ˆ */</span><br><span class="line">.friend-card:hover&#123;transform:translateY(-4px);box-shadow:0 14px 36px rgba(0,0,0,.12)&#125;</span><br><span class="line"></span><br><span class="line">/* â€”â€” å¸ƒå±€ï¼šå·¦å›¾å³æ–‡ + æŒ‰é’®å¸åº• â€”â€” */</span><br><span class="line">.friend-card&#123;</span><br><span class="line">  display:grid;</span><br><span class="line">  grid-template-columns:84px minmax(0,1fr);  /* å·¦å¤´åƒ / å³å†…å®¹ */</span><br><span class="line">  grid-template-rows:auto 1fr auto;          /* æ ‡é¢˜ | æè¿° | æŒ‰é’® */</span><br><span class="line">  column-gap:16px;</span><br><span class="line">  row-gap:8px;</span><br><span class="line">  align-items:start;</span><br><span class="line">  min-height:190px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* å¤´åƒ */</span><br><span class="line">.friend-card .avatar&#123;</span><br><span class="line">  grid-column:1; grid-row:1 / span 3;</span><br><span class="line">  width:84px;height:84px;border-radius:50%;</span><br><span class="line">  border:3px solid transparent;object-fit:cover;align-self:center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* å³ä¾§ä¿¡æ¯åŒº */</span><br><span class="line">.friend-card .meta&#123;grid-column:2;grid-row:1 / span 2;min-width:0;display:flex;flex-direction:column&#125;</span><br><span class="line"></span><br><span class="line">/* æ ‡é¢˜æ›´å¤§ */</span><br><span class="line">.friend-card h3&#123;</span><br><span class="line">  margin:0;</span><br><span class="line">  font-weight:800;</span><br><span class="line">  font-size:1.25rem;</span><br><span class="line">  line-height:1.25;</span><br><span class="line">  letter-spacing:.2px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* åˆ†éš”çº¿ï¼ˆç™½å¡ä¸‹ä¸ºæµ…ç°ï¼Œæ¸å˜æ¨¡å¼ä¸‹ä¼šè‡ªåŠ¨å˜æµ…ç™½ï¼‰ */</span><br><span class="line">.friend-card .title-line&#123;</span><br><span class="line">  width:56px;height:3px;border-radius:2px;</span><br><span class="line">  background:rgba(0,0,0,.12);</span><br><span class="line">  margin:6px 0 8px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* æè¿°ï¼Œä¸¤è¡Œçœç•¥ */</span><br><span class="line">.friend-card p&#123;</span><br><span class="line">  margin:0;opacity:.9;</span><br><span class="line">  display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;</span><br><span class="line">  overflow:hidden;white-space:normal;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* æŒ‰é’®å¸åº• */</span><br><span class="line">.friend-card .btn&#123;</span><br><span class="line">  grid-column:2;grid-row:3;justify-self:start; /* å±…ä¸­æ”¹ä¸º center */</span><br><span class="line">  margin:0;border-radius:999px;</span><br><span class="line">  padding:.5rem .9rem;</span><br><span class="line">  border:1px solid rgba(0,0,0,.08);</span><br><span class="line">  font-weight:700;line-height:1;text-decoration:none;</span><br><span class="line">&#125;</span><br><span class="line">.friend-card .btn:hover&#123;box-shadow:0 6px 18px rgba(0,0,0,.12)&#125;</span><br><span class="line"></span><br><span class="line">/* é”®ç›˜å¯è§ç„¦ç‚¹ */</span><br><span class="line">.friend-card:focus-within&#123;outline:3px solid rgba(59,130,246,.5);outline-offset:2px&#125;</span><br><span class="line"></span><br><span class="line">/* æ·±è‰²æ¨¡å¼ */</span><br><span class="line">:root[theme=&#x27;dark&#x27;] .friend-card&#123;</span><br><span class="line">  --card-bg:rgba(18,18,18,.65);</span><br><span class="line">  --card-border:rgba(255,255,255,.08);</span><br><span class="line">  box-shadow:0 10px 30px rgba(0,0,0,.45);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* ä½åŠ¨æ•ˆåå¥½ */</span><br><span class="line">@media (prefers-reduced-motion: reduce)&#123;</span><br><span class="line">  .friend-card,.friend-card:hover&#123;transform:none&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* ===== æ¸å˜å½©å¡ï¼ˆåœ¨å®¹å™¨ .friends-grid ä¸ŠåŠ  .gradient å³å¯å¯ç”¨ï¼‰ ===== */</span><br><span class="line">.friends-grid.gradient .friend-card&#123;</span><br><span class="line">  border:none;background:transparent;color:#fff;box-shadow:0 16px 36px rgba(0,0,0,.25);</span><br><span class="line">&#125;</span><br><span class="line">.friends-grid.gradient .friend-card::before&#123;</span><br><span class="line">  content:&quot;&quot;;position:absolute;inset:0;border-radius:inherit;z-index:0;</span><br><span class="line">  background:linear-gradient(135deg,var(--g1,#00c6ff),var(--g2,#0072ff));</span><br><span class="line">&#125;</span><br><span class="line">.friends-grid.gradient .friend-card &gt; *&#123;position:relative;z-index:1&#125;</span><br><span class="line">.friends-grid.gradient .title-line&#123;background:rgba(255,255,255,.35)&#125;</span><br><span class="line">.friends-grid.gradient .avatar&#123;border-color:rgba(255,255,255,.75)&#125;</span><br><span class="line">.friends-grid.gradient .btn&#123;background:rgba(255,255,255,.95);color:#111;border-color:transparent&#125;</span><br><span class="line">.friends-grid.gradient .btn:hover&#123;box-shadow:0 10px 24px rgba(0,0,0,.28)&#125;</span><br><span class="line"></span><br><span class="line">/* 6 ç»„è½®æ¢æ¸å˜è‰²ï¼ˆå¯æŒ‰éœ€æ”¹ï¼‰ */</span><br><span class="line">.friends-grid.gradient .friend-card:nth-child(6n+1)&#123;--g1:#00c6ff;--g2:#0072ff&#125;</span><br><span class="line">.friends-grid.gradient .friend-card:nth-child(6n+2)&#123;--g1:#7f00ff;--g2:#e100ff&#125;</span><br><span class="line">.friends-grid.gradient .friend-card:nth-child(6n+3)&#123;--g1:#f093fb;--g2:#f5576c&#125;</span><br><span class="line">.friends-grid.gradient .friend-card:nth-child(6n+4)&#123;--g1:#36d1dc;--g2:#5b86e5&#125;</span><br><span class="line">.friends-grid.gradient .friend-card:nth-child(6n+5)&#123;--g1:#4facfe;--g2:#00f2fe&#125;</span><br><span class="line">.friends-grid.gradient .friend-card:nth-child(6n)&#123;--g1:#fa709a;--g2:#fee140&#125;</span><br><span class="line"></span><br><span class="line">/* å°å±ä¼˜åŒ– */</span><br><span class="line">@media (max-width:480px)&#123;</span><br><span class="line">  .friend-card&#123;grid-template-columns:72px 1fr;min-height:170px&#125;</span><br><span class="line">  .friend-card .avatar&#123;width:72px;height:72px&#125;</span><br><span class="line">  .friend-card h3&#123;font-size:1.12rem&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">/* â€”â€” å¸ƒå±€ä¸é—´è·å¾®è°ƒ â€”â€” */</span><br><span class="line">.friends-grid&#123;</span><br><span class="line">  grid-template-columns:repeat(auto-fill,minmax(280px,1fr)); /* å¡ç‰‡æ›´ç¨³ */</span><br><span class="line">  gap:18px;</span><br><span class="line">&#125;</span><br><span class="line">.friend-card&#123;</span><br><span class="line">  padding:20px;</span><br><span class="line">  border-radius:20px;</span><br><span class="line">  display:flex;              /* ç»Ÿä¸€å¡ç‰‡é«˜åº¦ */</span><br><span class="line">  flex-direction:column;</span><br><span class="line">  min-height:190px;</span><br><span class="line">  will-change:transform;</span><br><span class="line">  transition:transform .18s ease, box-shadow .18s ease, border-color .18s ease;</span><br><span class="line">  border:1px solid var(--card-border, rgba(0,0,0,.06));</span><br><span class="line">  box-shadow:0 8px 26px rgba(0,0,0,.08);</span><br><span class="line">&#125;</span><br><span class="line">.friend-card:hover&#123;</span><br><span class="line">  transform:translateY(-4px);</span><br><span class="line">  box-shadow:0 14px 36px rgba(0,0,0,.12);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* â€”â€” å¤´åƒã€æ ‡é¢˜ã€æè¿° â€”â€” */</span><br><span class="line">.friend-card .avatar&#123;</span><br><span class="line">  width:80px; height:80px;</span><br><span class="line">  margin:2px 0 12px;</span><br><span class="line">  border-radius:50%;</span><br><span class="line">  border:3px solid transparent;</span><br><span class="line">&#125;</span><br><span class="line">.friend-card h3&#123;</span><br><span class="line">  margin:.1rem 0 .35rem;</span><br><span class="line">  font-weight:800;</span><br><span class="line">  letter-spacing:.2px;</span><br><span class="line">&#125;</span><br><span class="line">.friend-card p&#123;</span><br><span class="line">  margin:0 0 1rem;</span><br><span class="line">  opacity:.9;</span><br><span class="line">  /* æè¿°ä¸¤è¡Œçœç•¥ */</span><br><span class="line">  display:-webkit-box;</span><br><span class="line">  -webkit-line-clamp:2;</span><br><span class="line">  -webkit-box-orient:vertical;</span><br><span class="line">  overflow:hidden;</span><br><span class="line">  white-space:normal;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* â€”â€” æŒ‰é’®å¼ºåŒ–ï¼Œè´´åº• â€”â€” */</span><br><span class="line">.friend-card .btn&#123;</span><br><span class="line">  margin-top:auto;</span><br><span class="line">  border-radius:999px;</span><br><span class="line">  padding:.5rem .9rem;</span><br><span class="line">  border:1px solid rgba(0,0,0,.08);</span><br><span class="line">  font-weight:700;</span><br><span class="line">&#125;</span><br><span class="line">.friend-card .btn:hover&#123; box-shadow:0 6px 18px rgba(0,0,0,.12); &#125;</span><br><span class="line"></span><br><span class="line">/* â€”â€” å¯è§ç„¦ç‚¹ï¼ˆé”®ç›˜æ— éšœç¢ï¼‰ â€”â€” */</span><br><span class="line">.friend-card:focus-within&#123;</span><br><span class="line">  outline:3px solid rgba(59,130,246,.5);</span><br><span class="line">  outline-offset:2px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* â€”â€” æ·±è‰²æ¨¡å¼å¯¹æ¯”åº¦ â€”â€” */</span><br><span class="line">:root[theme=&#x27;dark&#x27;] .friend-card&#123;</span><br><span class="line">  --card-bg:rgba(18,18,18,.65);</span><br><span class="line">  --card-border:rgba(255,255,255,.08);</span><br><span class="line">  box-shadow:0 10px 30px rgba(0,0,0,.45);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* â€”â€” ä½åŠ¨æ•ˆåå¥½ â€”â€” */</span><br><span class="line">@media (prefers-reduced-motion: reduce)&#123;</span><br><span class="line">  .friend-card, .friend-card:hover&#123; transform:none; &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* =========================</span><br><span class="line">   å¯é€‰ï¼šæ¸å˜å½©å¡é£æ ¼ï¼ˆå¼€å…³è§ç¬¬ 3 éƒ¨åˆ†ï¼‰</span><br><span class="line">   ========================= */</span><br><span class="line">.friends-grid.gradient .friend-card&#123;</span><br><span class="line">  position:relative;</span><br><span class="line">  border:none;</span><br><span class="line">  color:#fff;</span><br><span class="line">  background:transparent;</span><br><span class="line">  box-shadow:0 16px 36px rgba(0,0,0,.25);</span><br><span class="line">&#125;</span><br><span class="line">.friends-grid.gradient .friend-card::before&#123;</span><br><span class="line">  content:&quot;&quot;;</span><br><span class="line">  position:absolute; inset:0; z-index:0; border-radius:inherit;</span><br><span class="line">  background:linear-gradient(135deg,var(--g1,#00c6ff),var(--g2,#0072ff));</span><br><span class="line">&#125;</span><br><span class="line">.friends-grid.gradient .friend-card &gt; *&#123; position:relative; z-index:1; &#125;</span><br><span class="line">.friends-grid.gradient .avatar&#123; border-color:rgba(255,255,255,.7); &#125;</span><br><span class="line">.friends-grid.gradient .btn&#123;</span><br><span class="line">  background:rgba(255,255,255,.92);</span><br><span class="line">  color:#111; border-color:transparent;</span><br><span class="line">&#125;</span><br><span class="line">.friends-grid.gradient .btn:hover&#123; box-shadow:0 10px 24px rgba(0,0,0,.28); &#125;</span><br><span class="line"></span><br><span class="line">/* è‡ªåŠ¨é…è‰²ï¼ˆ6è‰²è½®æ›¿ï¼‰ï¼Œæƒ³è¦æ›´ä¸ªæ€§å¯ä»¥è‡ªè¡Œæ”¹è‰²å€¼ */</span><br><span class="line">.friends-grid.gradient .friend-card:nth-child(6n+1)&#123; --g1:#00c6ff; --g2:#0072ff; &#125;</span><br><span class="line">.friends-grid.gradient .friend-card:nth-child(6n+2)&#123; --g1:#7f00ff; --g2:#e100ff; &#125;</span><br><span class="line">.friends-grid.gradient .friend-card:nth-child(6n+3)&#123; --g1:#f093fb; --g2:#f5576c; &#125;</span><br><span class="line">.friends-grid.gradient .friend-card:nth-child(6n+4)&#123; --g1:#36d1dc; --g2:#5b86e5; &#125;</span><br><span class="line">.friends-grid.gradient .friend-card:nth-child(6n+5)&#123; --g1:#4facfe; --g2:#00f2fe; &#125;</span><br><span class="line">.friends-grid.gradient .friend-card:nth-child(6n)&#123;   --g1:#fa709a; --g2:#fee140; &#125;</span><br><span class="line"></span><br><span class="line">/* â€”â€” æŒ‰é’®åŠ é•¿ï¼ˆè¦†ç›–å‰é¢çš„è§„åˆ™ï¼‰ â€”â€” */</span><br><span class="line">.friends-grid .friend-card .btn&#123;</span><br><span class="line">  min-width: 250px;      /* æƒ³å†é•¿ä¸€ç‚¹å°±è°ƒæˆ 180/200px */</span><br><span class="line">  padding: .6rem 1.2rem; /* ç¨åŠ ç²—æ‰‹æ„Ÿ */</span><br><span class="line">  font-size: .95rem;</span><br><span class="line">  letter-spacing: .2px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* å°å±ç•¥æ”¶ä¸€ç‚¹ */</span><br><span class="line">@media (max-width: 480px)&#123;</span><br><span class="line">  .friends-grid .friend-card .btn&#123; min-width: 140px; &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="é¡µé¢-Front-Matter"><a href="#é¡µé¢-Front-Matter" class="headerlink" title="é¡µé¢ Front-Matter"></a><strong>é¡µé¢ Front-Matter</strong></h2><p> æŠŠä½ çš„å‹é“¾é¡µï¼ˆ<code>source/link/index.md</code> æˆ– <code>source/friends/index.md</code>ï¼‰å¤´éƒ¨å†™æˆï¼š</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: å‹äººå¸</span><br><span class="line">layout: friends-matery</span><br><span class="line">gradient: true   # â† æƒ³å…³é—­æ¸å˜å°±åˆ æ‰è¿™ä¸€è¡Œæˆ–è®¾ä¸º false</span><br><span class="line">comments: true</span><br><span class="line">---</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt; æ•ˆæœå›¾å¯ä»¥æŸ¥çœ‹æˆ‘çš„åšå®¢&lt;code&gt;å‹äººå¸&lt;/code&gt;é¡µé¢&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;æ•°æ®-ï¼ˆç»Ÿä¸€å†™-JSONï¼Œå’Œ-Matery-åŒæ¬¾å­—æ®µï¼Œåç»­å¯è¿ç§»å¾ˆæ–¹ä¾¿ï¼‰&quot;&gt;&lt;a href=&quot;#æ•°æ®-ï¼ˆç»Ÿä¸€å†™-JSONï¼Œå’Œ-Mate</summary>
      
    
    
    
    <category term="æ•™ç¨‹" scheme="https://wenjiew-astro.github.io/categories/%E6%95%99%E7%A8%8B/"/>
    
    <category term="Hexo" scheme="https://wenjiew-astro.github.io/categories/%E6%95%99%E7%A8%8B/Hexo/"/>
    
    
    <category term="æ•™ç¨‹" scheme="https://wenjiew-astro.github.io/tags/%E6%95%99%E7%A8%8B/"/>
    
    <category term="Hexo" scheme="https://wenjiew-astro.github.io/tags/Hexo/"/>
    
  </entry>
  
  <entry>
    <title>hexoé…ç½®è¿½ç•ªé¡µé¢ â€” Node.js 22</title>
    <link href="https://wenjiew-astro.github.io/2025/09/01/hexo%E9%85%8D%E7%BD%AE%E8%BF%BD%E7%95%AA%E9%A1%B5%E9%9D%A2%20%E2%80%94%20Node.js%2022/"/>
    <id>https://wenjiew-astro.github.io/2025/09/01/hexo%E9%85%8D%E7%BD%AE%E8%BF%BD%E7%95%AA%E9%A1%B5%E9%9D%A2%20%E2%80%94%20Node.js%2022/</id>
    <published>2025-08-31T16:00:00.000Z</published>
    <updated>2025-09-01T11:07:00.249Z</updated>
    
    <content type="html"><![CDATA[<h1 id="hexoé…ç½®è¿½ç•ªé¡µé¢-â€”-Node-js-22"><a href="#hexoé…ç½®è¿½ç•ªé¡µé¢-â€”-Node-js-22" class="headerlink" title="hexoé…ç½®è¿½ç•ªé¡µé¢ â€” Node.js 22"></a>hexoé…ç½®è¿½ç•ªé¡µé¢ â€” Node.js 22</h1><blockquote><p>hexo å¯ä»¥è¿æ¥bilibiliï¼ŒåŠ ä¸€ä¸ªç•ªå‰§é¡µé¢ï¼Œä½†æ˜¯ç½‘ä¸Šå¾ˆå¤šæ•™ç¨‹éƒ½æ˜¯ä½¿ç”¨ <code>hexo-bilibili-bangumi</code> è¿™ä¸ªæ’ä»¶å®ç°çš„ï¼Œä½†æ˜¯ <code>hexo-bilibili-bangumi</code> åœ¨ Node.js 18+ ä¸‹æ— æ³•ä½¿ç”¨ï¼Œæ‰€ä»¥æˆ‘å°±é‡æ–°åšäº†ä¸€ä¸ªæ–°çš„åŠ è½½æ–¹æ³•ã€‚</p><p>æ•ˆæœå¯ä»¥çœ‹æˆ‘çš„åšå®¢<a href="https://wenjiew-astro.github.io/">Wenjie Wang - æ‹¾å…‰çš„è€äºº</a>ä¸­ <code>ç”Ÿæ´»/è¿½ç•ª</code> é¡µé¢</p></blockquote><h2 id="ä¸€ã€æŠ“å–è„šæœ¬ï¼ˆæ„å»ºæ—¶æ‹‰å–-B-ç«™æ•°æ®ï¼‰"><a href="#ä¸€ã€æŠ“å–è„šæœ¬ï¼ˆæ„å»ºæ—¶æ‹‰å–-B-ç«™æ•°æ®ï¼‰" class="headerlink" title="ä¸€ã€æŠ“å–è„šæœ¬ï¼ˆæ„å»ºæ—¶æ‹‰å– B ç«™æ•°æ®ï¼‰"></a>ä¸€ã€æŠ“å–è„šæœ¬ï¼ˆæ„å»ºæ—¶æ‹‰å– B ç«™æ•°æ®ï¼‰</h2><p>æ–°å»ºæ–‡ä»¶ï¼š<code>source/scripts/fetch_bangumi.cjs</code></p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// source/scripts/fetch_bangumi.cjs</span><br><span class="line">const fs = require(&quot;fs&quot;);</span><br><span class="line">const path = require(&quot;path&quot;);</span><br><span class="line"></span><br><span class="line">// å¿…å¡«ï¼šä½ çš„ B ç«™ UIDï¼ˆçº¯æ•°å­—ï¼‰</span><br><span class="line">const UID = process.env.BILI_UID || &quot;3493143351659309&quot;;</span><br><span class="line">// é€‰å¡«ï¼šè¿½ç•ªåˆ—è¡¨ä¸å…¬å¼€æ—¶éœ€è¦ï¼ˆæµè§ˆå™¨ Cookie ä¸­çš„ SESSDATA å€¼ï¼‰</span><br><span class="line">const SESSDATA = process.env.BILI_SESSDATA || &quot;&quot;;</span><br><span class="line"></span><br><span class="line">const API_BASE = &quot;https://api.bilibili.com/x/space/bangumi/follow/list&quot;;</span><br><span class="line">const PAGE_SIZE = 30; // Bç«™åˆ†é¡µ</span><br><span class="line">const TYPE_NUM = 1;   // 1=ç•ªå‰§ï¼Œ2=è¿½å‰§ï¼ˆå½“å‰åªæŠ“ç•ªå‰§ï¼‰</span><br><span class="line"></span><br><span class="line">async function requestOnce(status, pn) &#123;</span><br><span class="line">  const url = `$&#123;API_BASE&#125;?vmid=$&#123;UID&#125;&amp;type=$&#123;TYPE_NUM&#125;&amp;follow_status=$&#123;status&#125;&amp;ps=$&#123;PAGE_SIZE&#125;&amp;pn=$&#123;pn&#125;`;</span><br><span class="line">  const headers = &#123;</span><br><span class="line">    &quot;User-Agent&quot;: &quot;Mozilla/5.0&quot;,</span><br><span class="line">    &quot;Referer&quot;: &quot;https://www.bilibili.com/&quot;</span><br><span class="line">  &#125;;</span><br><span class="line">  if (SESSDATA) headers[&quot;cookie&quot;] = `SESSDATA=$&#123;SESSDATA&#125;;`;</span><br><span class="line"></span><br><span class="line">  const res = await fetch(url, &#123; headers &#125;);</span><br><span class="line">  if (!res.ok) throw new Error(`HTTP $&#123;res.status&#125;`);</span><br><span class="line">  const data = await res.json();</span><br><span class="line">  if (data.code !== 0) &#123;</span><br><span class="line">    throw new Error(`Bilibili API error: code=$&#123;data.code&#125;, message=$&#123;data.message&#125;`);</span><br><span class="line">  &#125;</span><br><span class="line">  return data.data || &#123; list: [] &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">async function fetchAll(status) &#123;</span><br><span class="line">  let pn = 1;</span><br><span class="line">  const out = [];</span><br><span class="line">  while (true) &#123;</span><br><span class="line">    const data = await requestOnce(status, pn);</span><br><span class="line">    const list = data.list || [];</span><br><span class="line">    for (const b of list) &#123;</span><br><span class="line">      let cover = b?.cover || &quot;&quot;;</span><br><span class="line">      if (cover.startsWith(&quot;http://&quot;)) cover = cover.replace(&quot;http://&quot;, &quot;https://&quot;);</span><br><span class="line">      out.push(&#123;</span><br><span class="line">        title: b?.title ?? &quot;&quot;,</span><br><span class="line">        cover: cover,</span><br><span class="line">        new_ep: b?.new_ep?.title ?? &quot;&quot;,</span><br><span class="line">        total_count: b?.total_count ?? -1,</span><br><span class="line">        media_id: b?.media_id ?? 0,</span><br><span class="line">        season_id: b?.season_id ?? 0,   // â† æ–°å¢ï¼šä¼˜å…ˆç›´è¾¾æ’­æ”¾é¡µ</span><br><span class="line">        area: b?.areas?.[0]?.name ?? &quot;&quot;,</span><br><span class="line">        type_name: b?.season_type_name ?? &quot;&quot;,</span><br><span class="line">        evaluate: b?.evaluate ?? &quot;&quot;,</span><br><span class="line">        stat: b?.stat ?? &#123;&#125;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    if (list.length &lt; PAGE_SIZE) break;</span><br><span class="line">    pn += 1;</span><br><span class="line">  &#125;</span><br><span class="line">  return out;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">(async () =&gt; &#123;</span><br><span class="line">  if (!/^\d+$/.test(UID)) &#123;</span><br><span class="line">    throw new Error(&quot;è¯·è®¾ç½®ç¯å¢ƒå˜é‡ BILI_UID ä¸ºä½ çš„ B ç«™ UIDï¼ˆçº¯æ•°å­—ï¼‰ã€‚&quot;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  console.log(`[bangumi] Fetching UID=$&#123;UID&#125; ...`);</span><br><span class="line">  const wantWatch = await fetchAll(1); // æƒ³çœ‹</span><br><span class="line">  const watching  = await fetchAll(2); // åœ¨çœ‹</span><br><span class="line">  const watched   = await fetchAll(3); // å·²çœ‹</span><br><span class="line"></span><br><span class="line">  const outDir = path.resolve(process.cwd(), &quot;source/bangumi&quot;);</span><br><span class="line">  fs.mkdirSync(outDir, &#123; recursive: true &#125;);</span><br><span class="line">  const outPath = path.join(outDir, &quot;data.json&quot;);</span><br><span class="line">  fs.writeFileSync(outPath, JSON.stringify(&#123; wantWatch, watching, watched &#125;, null, 2), &quot;utf-8&quot;);</span><br><span class="line">  console.log(`[bangumi] Saved $&#123;wantWatch.length + watching.length + watched.length&#125; items -&gt; $&#123;outPath&#125;`);</span><br><span class="line">&#125;)().catch(err =&gt; &#123;</span><br><span class="line">  console.error(&quot;[bangumi] Failed:&quot;, err);</span><br><span class="line">  process.exit(1);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>è‹¥ä½ çš„è¿½ç•ªåˆ—è¡¨æ˜¯<strong>éå…¬å¼€</strong>ï¼Œè¦åœ¨ç³»ç»Ÿé‡Œè®¾ç½®ç¯å¢ƒå˜é‡ <code>BILI_SESSDATA</code>ï¼ˆä»æµè§ˆå™¨ Cookie é‡Œå¤åˆ¶è‡ªå·±çš„ <code>SESSDATA</code> å€¼ï¼‰ï¼Œå¦åˆ™æ¥å£å¯èƒ½è¿”å›ç©ºæ•°ç»„ã€‚</p></blockquote><h2 id="äºŒã€é¡µé¢ï¼ˆè¯»å–æœ¬åœ°-JSON-æ¸²æŸ“ä¸‰ä¸ªæ ‡ç­¾ï¼‰"><a href="#äºŒã€é¡µé¢ï¼ˆè¯»å–æœ¬åœ°-JSON-æ¸²æŸ“ä¸‰ä¸ªæ ‡ç­¾ï¼‰" class="headerlink" title="äºŒã€é¡µé¢ï¼ˆè¯»å–æœ¬åœ° JSON æ¸²æŸ“ä¸‰ä¸ªæ ‡ç­¾ï¼‰"></a>äºŒã€é¡µé¢ï¼ˆè¯»å–æœ¬åœ° JSON æ¸²æŸ“ä¸‰ä¸ªæ ‡ç­¾ï¼‰</h2><p>æ–°å»ºæ–‡ä»¶ï¼š<code>source/bangumi/index.md</code></p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: è°ä¸çƒ­çˆ±è¿½ç•ªå‘¢</span><br><span class="line">date: 2025-09-01</span><br><span class="line">layout: page</span><br><span class="line">comments: false</span><br><span class="line">top_img: img/top_img/bangumi.png</span><br><span class="line">---</span><br><span class="line">&lt;div id=&quot;bangumi-root&quot;&gt;</span><br><span class="line">  &lt;style&gt;</span><br><span class="line">    /* :root &#123; --card:#fff; --muted:#6b7280; --border:#e5e7eb; --bg:#f8fafc; &#125; */</span><br><span class="line">    #bangumi-root &#123; margin:0; &#125;</span><br><span class="line">    .bangumi-header &#123; padding:24px 16px; text-align:center; background:var(--bg); &#125;</span><br><span class="line">    .bangumi-title &#123; margin:0 0 8px; font-size:30px; &#125;</span><br><span class="line">    .tabs &#123; display:flex; justify-content:center; gap:8px; flex-wrap:wrap; &#125;</span><br><span class="line">    .tab &#123; padding:8px 14px; border:1px solid var(--border); background:#fff; border-radius:10px; cursor:pointer; &#125;</span><br><span class="line">    .tab.active &#123; border-color:#3b82f6; color:#1f2937; box-shadow:0 1px 2px rgba(0,0,0,.06); &#125;</span><br><span class="line">    .bangumi-main &#123; padding:16px; max-width:1100px; margin:0 auto; &#125;</span><br><span class="line">    .grid &#123; display:grid; grid-template-columns:repeat(auto-fill,minmax(180px,1fr)); gap:14px; &#125;</span><br><span class="line">    .card &#123; background:var(--card); border:1px solid var(--border); border-radius:12px; overflow:hidden; transition:transform .15s ease; &#125;</span><br><span class="line">    .card:hover &#123; transform:translateY(-2px); &#125;</span><br><span class="line">    .thumb &#123; display:block; width:100%; aspect-ratio:10/14; object-fit:cover; background:#eef2f7; &#125;</span><br><span class="line">    .content &#123; padding:10px; &#125;</span><br><span class="line">    .title &#123; margin:0 0 6px; font-size:14px; line-height:1.35; &#125;</span><br><span class="line">    .meta &#123; margin:0; font-size:12px; color:var(--muted); &#125;</span><br><span class="line">    .empty &#123; text-align:center; color:var(--muted); padding:40px 0; &#125;</span><br><span class="line">  &lt;/style&gt;</span><br><span class="line"></span><br><span class="line">&lt;div class=&quot;bangumi-header&quot;&gt;</span><br><span class="line">    &lt;h1 class=&quot;bangumi-title&quot;&gt;ğŸ“º æˆ‘çš„è¿½ç•ª&lt;/h1&gt;</span><br><span class="line">    &lt;div class=&quot;tabs&quot;&gt;</span><br><span class="line">      &lt;button class=&quot;tab&quot; data-key=&quot;watching&quot;&gt;åœ¨çœ‹&lt;/button&gt;</span><br><span class="line">      &lt;button class=&quot;tab active&quot; data-key=&quot;wantWatch&quot;&gt;æƒ³çœ‹&lt;/button&gt;</span><br><span class="line">      &lt;button class=&quot;tab&quot; data-key=&quot;watched&quot;&gt;å·²çœ‹&lt;/button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;div class=&quot;bangumi-main&quot;&gt;</span><br><span class="line">    &lt;div id=&quot;grid&quot; class=&quot;grid&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;div id=&quot;empty&quot; class=&quot;empty&quot; style=&quot;display:none;&quot;&gt;æš‚æ— æ•°æ®ï¼Œè¯·å…ˆæ‰§è¡ŒæŠ“å–è„šæœ¬ã€‚&lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">(function () &#123;</span><br><span class="line">  const PROXY_ON = true; // è‹¥å°é¢ä¸æ˜¾ç¤ºï¼Œä¿æŒ true é€šè¿‡ä»£ç†åŠ è½½ï¼›è‹¥ä½ ä¸æƒ³ä»£ç†ï¼Œå¯æ”¹ä¸º false</span><br><span class="line">  const PROXY = (url) =&gt; &#123;</span><br><span class="line">    try &#123;</span><br><span class="line">      if (!url) return &quot;&quot;;</span><br><span class="line">      // ç»Ÿä¸€æˆ https</span><br><span class="line">      if (url.startsWith(&quot;//&quot;)) url = &quot;https:&quot; + url;</span><br><span class="line">      if (url.startsWith(&quot;http://&quot;)) url = url.replace(&quot;http://&quot;, &quot;https://&quot;);</span><br><span class="line">      if (!PROXY_ON) return url;</span><br><span class="line">      // èµ°å…¬å¼€é•œåƒï¼Œé¿å…é˜²ç›—é“¾ï¼ˆä¸å¸¦åè®®çš„åŸŸåï¼‰</span><br><span class="line">      const clean = url.replace(/^https?:\/\//, &quot;&quot;);</span><br><span class="line">      return &quot;https://images.weserv.nl/?url=&quot; + encodeURIComponent(clean);</span><br><span class="line">    &#125; catch (e) &#123; return url || &quot;&quot;; &#125;</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  const GRID  = document.getElementById(&quot;grid&quot;);</span><br><span class="line">  const EMPTY = document.getElementById(&quot;empty&quot;);</span><br><span class="line">  const TABS  = Array.from(document.querySelectorAll(&quot;.tab&quot;));</span><br><span class="line">  let DATA = &#123; wantWatch:[], watching:[], watched:[] &#125;;</span><br><span class="line">  let currentKey = &quot;watching&quot;;</span><br><span class="line"></span><br><span class="line">  function fmtTotal(n) &#123;</span><br><span class="line">    if (n === -1) return &quot;æœªå®Œç»“&quot;;</span><br><span class="line">    if (!n || n &lt;= 0) return &quot;&quot;;</span><br><span class="line">    return `å…¨$&#123;n&#125;è¯`;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  function render(key) &#123;</span><br><span class="line">    GRID.innerHTML = &quot;&quot;;</span><br><span class="line">    const list = DATA[key] || [];</span><br><span class="line">    if (!list.length) &#123; EMPTY.style.display = &quot;block&quot;; return; &#125;</span><br><span class="line">    EMPTY.style.display = &quot;none&quot;;</span><br><span class="line"></span><br><span class="line">    const frag = document.createDocumentFragment();</span><br><span class="line">    list.forEach(b =&gt; &#123;</span><br><span class="line">      const card = document.createElement(&quot;article&quot;);</span><br><span class="line">      card.className = &quot;card&quot;;</span><br><span class="line"></span><br><span class="line">      // è®¡ç®—è·³è½¬é“¾æ¥ï¼šä¼˜å…ˆ season_idï¼ˆæ’­æ”¾é¡µï¼‰ï¼Œå¦åˆ™ media_idï¼ˆåª’ä½“é¡µï¼‰</span><br><span class="line">      const href =</span><br><span class="line">        (b.season_id &amp;&amp; `https://www.bilibili.com/bangumi/play/ss$&#123;b.season_id&#125;`) ||</span><br><span class="line">        (b.media_id  &amp;&amp; `https://www.bilibili.com/bangumi/media/md$&#123;b.media_id&#125;`) ||</span><br><span class="line">        &quot;&quot;;</span><br><span class="line"></span><br><span class="line">      // å°é¢ï¼ˆåŠ é“¾æ¥ï¼‰</span><br><span class="line">      const img = document.createElement(&quot;img&quot;);</span><br><span class="line">      img.className = &quot;thumb&quot;;</span><br><span class="line">      img.loading = &quot;lazy&quot;;</span><br><span class="line">      img.referrerPolicy = &quot;no-referrer&quot;;</span><br><span class="line">      img.alt = b.title || &quot;&quot;;</span><br><span class="line">      img.src = PROXY(b.cover);</span><br><span class="line">      img.onerror = () =&gt; &#123; img.onerror = null; img.src = (b.cover || &quot;&quot;).replace(/^http:\/\//,&quot;https://&quot;); &#125;;</span><br><span class="line"></span><br><span class="line">      if (href) &#123;</span><br><span class="line">        const aImg = document.createElement(&quot;a&quot;);</span><br><span class="line">        aImg.href = href; aImg.target = &quot;_blank&quot;; aImg.rel = &quot;noopener noreferrer&quot;;</span><br><span class="line">        aImg.appendChild(img);</span><br><span class="line">        card.appendChild(aImg);</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">        card.appendChild(img);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      // æ–‡æœ¬åŒº</span><br><span class="line">      const box = document.createElement(&quot;div&quot;);</span><br><span class="line">      box.className = &quot;content&quot;;</span><br><span class="line"></span><br><span class="line">      // æ ‡é¢˜ï¼ˆåŠ é“¾æ¥ï¼‰</span><br><span class="line">      const h3 = document.createElement(&quot;h3&quot;);</span><br><span class="line">      h3.className = &quot;title&quot;;</span><br><span class="line">      if (href) &#123;</span><br><span class="line">        const aTitle = document.createElement(&quot;a&quot;);</span><br><span class="line">        aTitle.href = href; aTitle.target = &quot;_blank&quot;; aTitle.rel = &quot;noopener noreferrer&quot;;</span><br><span class="line">        aTitle.textContent = b.title || &quot;æœªå‘½å&quot;;</span><br><span class="line">        h3.appendChild(aTitle);</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">        h3.textContent = b.title || &quot;æœªå‘½å&quot;;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      const p = document.createElement(&quot;p&quot;);</span><br><span class="line">      p.className = &quot;meta&quot;;</span><br><span class="line">      const items = [</span><br><span class="line">        b.new_ep ? `è¿›åº¦ï¼š$&#123;b.new_ep&#125;` : &quot;&quot;,</span><br><span class="line">        (b.total_count === -1) ? &quot;æœªå®Œç»“&quot; : (b.total_count &gt; 0 ? `å…¨$&#123;b.total_count&#125;è¯` : &quot;&quot;),</span><br><span class="line">        b.area ? `åœ°åŒºï¼š$&#123;b.area&#125;` : &quot;&quot;</span><br><span class="line">      ].filter(Boolean);</span><br><span class="line">      p.textContent = items.join(&quot; Â· &quot;);</span><br><span class="line"></span><br><span class="line">      box.appendChild(h3);</span><br><span class="line">      box.appendChild(p);</span><br><span class="line">      card.appendChild(box);</span><br><span class="line"></span><br><span class="line">      frag.appendChild(card);</span><br><span class="line">    &#125;);</span><br><span class="line">    GRID.appendChild(frag);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  async function boot() &#123;</span><br><span class="line">    try &#123;</span><br><span class="line">      const res = await fetch(&quot;./data.json?_t=&quot; + Date.now());</span><br><span class="line">      if (!res.ok) throw new Error(&quot;data.json not found&quot;);</span><br><span class="line">      DATA = await res.json();</span><br><span class="line">    &#125; catch (e) &#123;</span><br><span class="line">      console.error(e);</span><br><span class="line">      DATA = &#123; wantWatch:[], watching:[], watched:[] &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    render(currentKey);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  TABS.forEach(tab =&gt; &#123;</span><br><span class="line">    tab.addEventListener(&quot;click&quot;, () =&gt; &#123;</span><br><span class="line">      TABS.forEach(t =&gt; t.classList.remove(&quot;active&quot;));</span><br><span class="line">      tab.classList.add(&quot;active&quot;);</span><br><span class="line">      currentKey = tab.dataset.key;</span><br><span class="line">      render(currentKey);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  boot();</span><br><span class="line">&#125;)();</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="ä¸‰ã€æŠŠå®ƒæ¥å…¥-Hexo"><a href="#ä¸‰ã€æŠŠå®ƒæ¥å…¥-Hexo" class="headerlink" title="ä¸‰ã€æŠŠå®ƒæ¥å…¥ Hexo"></a>ä¸‰ã€æŠŠå®ƒæ¥å…¥ Hexo</h2><ol><li>å®‰è£…ä¾èµ–ï¼š</li></ol><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm i axios --save</span><br></pre></td></tr></table></figure><ol start="2"><li>åœ¨ <code>package.json</code> æ›¿æ¢æˆå¦‚ä¸‹ä»£ç ï¼š</li></ol><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;name&quot;: &quot;hexo-site&quot;,</span><br><span class="line">  &quot;version&quot;: &quot;0.0.0&quot;,</span><br><span class="line">  &quot;private&quot;: true,</span><br><span class="line">  &quot;scripts&quot;: &#123;</span><br><span class="line">    &quot;bangumi:fetch&quot;: &quot;node source/scripts/fetch_bangumi.cjs&quot;,</span><br><span class="line">    &quot;prebuild&quot;: &quot;npm run bangumi:fetch&quot;,</span><br><span class="line">    &quot;preserver&quot;: &quot;npm run bangumi:fetch&quot;,</span><br><span class="line">    &quot;predeploy&quot;: &quot;npm run bangumi:fetch &amp;&amp; hexo generate&quot;,</span><br><span class="line">    &quot;build&quot;: &quot;hexo generate&quot;,</span><br><span class="line">    &quot;clean&quot;: &quot;hexo clean&quot;,</span><br><span class="line">    &quot;deploy&quot;: &quot;hexo deploy&quot;,</span><br><span class="line">    &quot;server&quot;: &quot;hexo server&quot;,</span><br><span class="line">    &quot;start&quot;: &quot;npm run server&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;hexo&quot;: &#123;</span><br><span class="line">    &quot;version&quot;: &quot;7.3.0&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;dependencies&quot;: &#123;</span><br><span class="line">    &quot;add&quot;: &quot;^2.0.6&quot;,</span><br><span class="line">    &quot;axios&quot;: &quot;^1.11.0&quot;,</span><br><span class="line">    &quot;hexo&quot;: &quot;^7.3.0&quot;,</span><br><span class="line">    &quot;hexo-butterfly-artitalk&quot;: &quot;^1.0.5&quot;,</span><br><span class="line">    &quot;hexo-butterfly-categories-card&quot;: &quot;^1.0.0&quot;,</span><br><span class="line">    &quot;hexo-butterfly-envelope&quot;: &quot;^1.0.15&quot;,</span><br><span class="line">    &quot;hexo-butterfly-hpptalk&quot;: &quot;^1.0.4&quot;,</span><br><span class="line">    &quot;hexo-deployer-git&quot;: &quot;^4.0.0&quot;,</span><br><span class="line">    &quot;hexo-generator-archive&quot;: &quot;^2.0.0&quot;,</span><br><span class="line">    &quot;hexo-generator-category&quot;: &quot;^2.0.0&quot;,</span><br><span class="line">    &quot;hexo-generator-feed&quot;: &quot;^3.0.0&quot;,</span><br><span class="line">    &quot;hexo-generator-index&quot;: &quot;^4.0.0&quot;,</span><br><span class="line">    &quot;hexo-generator-search&quot;: &quot;^2.4.3&quot;,</span><br><span class="line">    &quot;hexo-generator-tag&quot;: &quot;^2.0.0&quot;,</span><br><span class="line">    &quot;hexo-helper-live2d&quot;: &quot;^3.1.0&quot;,</span><br><span class="line">    &quot;hexo-next-giscus&quot;: &quot;^1.3.0&quot;,</span><br><span class="line">    &quot;hexo-renderer-ejs&quot;: &quot;^2.0.0&quot;,</span><br><span class="line">    &quot;hexo-renderer-marked&quot;: &quot;^7.0.0&quot;,</span><br><span class="line">    &quot;hexo-renderer-pug&quot;: &quot;^3.0.0&quot;,</span><br><span class="line">    &quot;hexo-renderer-stylus&quot;: &quot;^3.0.1&quot;,</span><br><span class="line">    &quot;hexo-server&quot;: &quot;^3.0.0&quot;,</span><br><span class="line">    &quot;hexo-tag-plugins&quot;: &quot;^1.0.5&quot;,</span><br><span class="line">    &quot;hexo-theme-landscape&quot;: &quot;^1.0.0&quot;,</span><br><span class="line">    &quot;hexo-wordcount&quot;: &quot;^6.0.1&quot;,</span><br><span class="line">    &quot;i&quot;: &quot;^0.3.7&quot;,</span><br><span class="line">    &quot;image-size&quot;: &quot;^2.0.2&quot;,</span><br><span class="line">    &quot;install&quot;: &quot;^0.13.0&quot;,</span><br><span class="line">    &quot;live2d-widget-model-koharu&quot;: &quot;^1.0.5&quot;,</span><br><span class="line">    &quot;live2d-widget-model-miku&quot;: &quot;^1.0.5&quot;,</span><br><span class="line">    &quot;live2d-widget-model-wanko&quot;: &quot;^1.0.5&quot;,</span><br><span class="line">    &quot;or&quot;: &quot;^0.2.0&quot;,</span><br><span class="line">    &quot;yarn&quot;: &quot;^1.22.22&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>å…¶å®å°±æ˜¯æŠŠä¸‹é¢è¿™ä¸€éƒ¨åˆ†ä»£ç åŠ è¿›å»</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;scripts&quot;: &#123;</span><br><span class="line">    &quot;bangumi:fetch&quot;: &quot;node scripts/fetch_bangumi.mjs&quot;,</span><br><span class="line">    &quot;build&quot;: &quot;npm run bangumi:fetch &amp;&amp; hexo g&quot;,</span><br><span class="line">    &quot;start&quot;: &quot;npm run bangumi:fetch &amp;&amp; hexo s&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><ol start="3"><li>è®¾ç½®ä½ çš„ UIDï¼ˆä»¥åŠå¯é€‰çš„ SESSDATAï¼‰åè¿è¡Œï¼š</li></ol><ul><li><p>PowerShellï¼ˆWindowsï¼‰ï¼š</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$env:BILI_UID=&quot;ä½ çš„Bç«™UID&quot;</span><br><span class="line"># è‹¥è¿½ç•ªæ˜¯ç§å¯†çš„ï¼Œè¿˜éœ€è¦ï¼š</span><br><span class="line"># $env:BILI_SESSDATA=&quot;ä½ çš„SESSDATA&quot;</span><br><span class="line"></span><br><span class="line">npm run build   # ä¼šå…ˆè‡ªåŠ¨æŠ“å– -&gt; ç”Ÿæˆ data.json -&gt; å†ç”Ÿæˆç«™ç‚¹</span><br><span class="line">npm run server  # é¢„è§ˆ http://localhost:4000/bangumi/</span><br></pre></td></tr></table></figure></li><li><p>æˆ–è€…ä¸´æ—¶å‰ç¼€ï¼ˆGit Bash&#x2F;CMDï¼‰ï¼š</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">BILI_UID=ä½ çš„UID npm run start</span><br><span class="line"># å¯é€‰ï¼šBILI_SESSDATA=ä½ çš„SESSDATA npm run start</span><br></pre></td></tr></table></figure></li></ul><p>è„šæœ¬ä¼šç”Ÿæˆï¼š<code>source/bangumi/data.json</code><br>ç„¶åä½ çš„ <code>source/bangumi/index.md</code> é¡µé¢ï¼ˆæˆ‘ä¹‹å‰ç»™çš„é‚£ä¸ªï¼‰ä¼šä»åŒç›®å½•è¯»å– <code>data.json</code>ï¼Œä¸‰ä¸ªæ ‡ç­¾ã€Œæƒ³çœ‹&#x2F;åœ¨çœ‹&#x2F;å·²çœ‹ã€å°±ä¼šæœ‰å†…å®¹äº†ã€‚</p><h2 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h2><p>ä»¥åä½¿ç”¨çš„è¯è¦å…ˆè¿è¡Œ</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm run build   # è‡ªåŠ¨æŠ“å– -&gt; ç”Ÿæˆ data.json -&gt; å†ç”Ÿæˆç«™ç‚¹</span><br></pre></td></tr></table></figure><p>ä¹‹åæ­£å¸¸è¿è¡Œ</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo clean &amp;&amp; hexo g &amp;&amp; hexo s</span><br></pre></td></tr></table></figure><p>é¢„è§ˆ <a href="http://localhost:4000/">http://localhost:4000</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;hexoé…ç½®è¿½ç•ªé¡µé¢-â€”-Node-js-22&quot;&gt;&lt;a href=&quot;#hexoé…ç½®è¿½ç•ªé¡µé¢-â€”-Node-js-22&quot; class=&quot;headerlink&quot; title=&quot;hexoé…ç½®è¿½ç•ªé¡µé¢ â€” Node.js 22&quot;&gt;&lt;/a&gt;hexoé…ç½®è¿½ç•ªé¡µé¢ â€” Node</summary>
      
    
    
    
    <category term="æ•™ç¨‹" scheme="https://wenjiew-astro.github.io/categories/%E6%95%99%E7%A8%8B/"/>
    
    <category term="Hexo" scheme="https://wenjiew-astro.github.io/categories/%E6%95%99%E7%A8%8B/Hexo/"/>
    
    
    <category term="æ•™ç¨‹" scheme="https://wenjiew-astro.github.io/tags/%E6%95%99%E7%A8%8B/"/>
    
    <category term="Hexo" scheme="https://wenjiew-astro.github.io/tags/Hexo/"/>
    
    <category term="åšå®¢" scheme="https://wenjiew-astro.github.io/tags/%E5%8D%9A%E5%AE%A2/"/>
    
  </entry>
  
  <entry>
    <title>hexoé…ç½®ç›¸å†Œé¡µé¢</title>
    <link href="https://wenjiew-astro.github.io/2025/09/01/hexo%E9%85%8D%E7%BD%AE%E7%9B%B8%E5%86%8C%E9%A1%B5%E9%9D%A2/"/>
    <id>https://wenjiew-astro.github.io/2025/09/01/hexo%E9%85%8D%E7%BD%AE%E7%9B%B8%E5%86%8C%E9%A1%B5%E9%9D%A2/</id>
    <published>2025-08-31T16:00:00.000Z</published>
    <updated>2025-09-01T14:52:39.195Z</updated>
    
    <content type="html"><![CDATA[<h1 id="hexoé…ç½®ç›¸å†Œé¡µé¢"><a href="#hexoé…ç½®ç›¸å†Œé¡µé¢" class="headerlink" title="hexoé…ç½®ç›¸å†Œé¡µé¢"></a>hexoé…ç½®ç›¸å†Œé¡µé¢</h1><blockquote><p>ç›¸å†Œæ¼”ç¤ºåœ°å€:<a href="https://wenjiew-astro.github.io/photos/">å…‰å½±æµå¹´ | Wenjie Wang</a> ã€‚æœ¬æ–‡æ˜¯åŸºäºHexo 7.3.0å¼€å‘ï¼ï¼ä¸»è¦å®ç°ç›¸å†Œé›†ä»¥åŠç›¸å†Œé¡µé¢åŠŸèƒ½ã€‚</p></blockquote><h2 id="1-åˆ›å»ºç›¸å†Œé¡µé¢"><a href="#1-åˆ›å»ºç›¸å†Œé¡µé¢" class="headerlink" title="1.åˆ›å»ºç›¸å†Œé¡µé¢"></a>1.åˆ›å»ºç›¸å†Œé¡µé¢</h2><p>åœ¨è‡ªå·±çš„åšå®¢é¡¹ç›®ä¸‹ï¼Œæ–°å»ºç›¸å†Œé¡µ</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo new page photos</span><br></pre></td></tr></table></figure><p>ç¼–è¾‘ &#x2F;source&#x2F;photos&#x2F;index.mdï¼Œè¾“å…¥ä»¥ä¸‹å†…å®¹</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: å…‰å½±æµå¹´</span><br><span class="line">date: 2025-08-25</span><br><span class="line">layout: photo</span><br><span class="line">top_img: img/top_img/photo.png</span><br><span class="line">---</span><br><span class="line">&lt;!-- åˆ†ç»„å°é¢ç´¢å¼• --&gt;</span><br><span class="line"></span><br><span class="line">&lt;div id=&quot;galleryIntro&quot; class=&quot;gallery-intro&quot;&gt;â€œ è¿™é‡Œæœ‰å…‰å½±æµå¹´ï¼Œè¿˜æŠŠå–œæ¬¢è£…è¿›äº‘æœµï¼Œç›¸æ‹¥åœ¨æ˜å¤©çš„æ²³å²¸ã€‚ â€&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;div id=&quot;galleryIndex&quot; class=&quot;gallery-index&quot;&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure><p>æ–°å»º &#x2F;source&#x2F;gallery&#x2F;index.mdï¼Œè¾“å…¥ä»¥ä¸‹å†…å®¹</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">comments: false</span><br><span class="line">---</span><br><span class="line">&lt;div class=&quot;ImageGrid&quot;&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure><p>æ–°å»º &#x2F;source&#x2F;galleries&#x2F;index.mdï¼Œè¾“å…¥ä»¥ä¸‹å†…å®¹</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: å…‰å½±æµå¹´</span><br><span class="line">comments: false</span><br><span class="line">---</span><br><span class="line">&lt;div id=&quot;galleryIntro&quot; class=&quot;gallery-intro&quot;&gt;â€œ è¿™é‡Œæœ‰å…‰å½±æµå¹´ï¼Œè¿˜æŠŠå–œæ¬¢è£…è¿›äº‘æœµï¼Œç›¸æ‹¥åœ¨æ˜å¤©çš„æ²³å²¸ã€‚ â€&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;div id=&quot;galleryIndex&quot; class=&quot;gallery-index&quot;&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure><h2 id="2-å¤„ç†å›¾ç‰‡ä¿¡æ¯"><a href="#2-å¤„ç†å›¾ç‰‡ä¿¡æ¯" class="headerlink" title="2.å¤„ç†å›¾ç‰‡ä¿¡æ¯"></a>2.å¤„ç†å›¾ç‰‡ä¿¡æ¯</h2><p>è¿™é‡Œéœ€è¦åˆ›å»ºè‡ªå·±çš„githubç›¸å†Œï¼Œåˆ›å»ºä¸€ä¸ªgalleryé¡¹ç›®ï¼Œå»ºä¸€ä¸ªgalleryçš„æ–‡ä»¶å¤¹ï¼Œåœ¨è¿™ä¸ªæ–‡ä»¶å¤¹é‡Œå°±å¯ä»¥æ”¾ä½ æƒ³è¦çš„ç…§ç‰‡äº†ã€‚PSï¼šå¯ä»¥æ”¾æ–‡ä»¶å¤¹ï¼Œä¸€ä¸ªæ–‡ä»¶å¤¹å°±åœ¨ä½ çš„åšå®¢ä¸­æ˜¾ç¤ºçš„æ˜¯ä¸€ä¸ªç…§ç‰‡é›†ã€‚</p><p>è¿™é‡Œä¸»è¦æ˜¯ä¸ºäº†åŠ å¿«å›¾ç‰‡çš„åŠ è½½é€Ÿåº¦, åˆ©ç”¨GitHub +jsDelivrçš„æ–¹å¼ã€‚</p><blockquote><p>æŠŠè¿™ä¸ªé¡¹ç›®cloneåˆ°æœ¬åœ°ï¼Œä¸‹é¢çš„æ“ä½œæ˜¯å¯¹è¿™ä¸ªé¡¹ç›®è¿›è¡Œçš„ã€‚</p></blockquote><p>è¿™é‡Œæ²¡æœ‰å®‰è£… image-sizeï¼Œéœ€è¦npmå®‰è£…ä¸‹</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm i -S image-size</span><br></pre></td></tr></table></figure><p>åœ¨githubç›¸å†Œç›®å½•ä¸‹ï¼Œæ‰§è¡Œcreatejsï¼Œ</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">node createjs.js </span><br></pre></td></tr></table></figure><p>createjs.js è„šæœ¬å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">const fs = require(&#x27;fs-extra&#x27;);</span><br><span class="line">const path = require(&#x27;path&#x27;);</span><br><span class="line"></span><br><span class="line">// å…¼å®¹å„ç§å¯¼å‡ºå½¢å¼ï¼šfunction / &#123; imageSize &#125; / &#123; default &#125;</span><br><span class="line">const imgMod = require(&#x27;image-size&#x27;);</span><br><span class="line">const imageSize = typeof imgMod === &#x27;function&#x27; ? imgMod : (imgMod.imageSize || imgMod.default);</span><br><span class="line"></span><br><span class="line">const rootPath = &#x27;gallery&#x27;;   // ç›¸å†Œæ ¹ç›®å½•ï¼ˆä¸ç”¨æœ«å°¾æ–œæ ï¼‰</span><br><span class="line"></span><br><span class="line">class PhotoExtension &#123;</span><br><span class="line">  constructor() &#123;</span><br><span class="line">    this.size = 64;</span><br><span class="line">    this.offset = [0, 0];</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Photo &#123;</span><br><span class="line">  constructor() &#123;</span><br><span class="line">    this.dirName = &#x27;&#x27;;</span><br><span class="line">    this.fileName = &#x27;&#x27;;</span><br><span class="line">    this.iconID = &#x27;&#x27;;</span><br><span class="line">    this.extension = new PhotoExtension();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class PhotoGroup &#123;</span><br><span class="line">  constructor() &#123;</span><br><span class="line">    this.name = &#x27;&#x27;;</span><br><span class="line">    this.children = [];</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const IMAGE_EXTS = new Set([&#x27;.png&#x27;, &#x27;.jpg&#x27;, &#x27;.jpeg&#x27;, &#x27;.gif&#x27;, &#x27;.webp&#x27;, &#x27;.bmp&#x27;, &#x27;.tiff&#x27;, &#x27;.svg&#x27;]);</span><br><span class="line"></span><br><span class="line">function createPlotIconsData() &#123;</span><br><span class="line">  let allPlots = [];</span><br><span class="line">  let allPlotGroups = [];</span><br><span class="line"></span><br><span class="line">  const plotJsonFile = path.join(__dirname, &#x27;photosInfo.json&#x27;);</span><br><span class="line">  const plotGroupJsonFile = path.join(__dirname, &#x27;photos.json&#x27;);</span><br><span class="line"></span><br><span class="line">  if (fs.existsSync(plotJsonFile)) &#123;</span><br><span class="line">    allPlots = JSON.parse(fs.readFileSync(plotJsonFile, &#x27;utf8&#x27;));</span><br><span class="line">  &#125;</span><br><span class="line">  if (fs.existsSync(plotGroupJsonFile)) &#123;</span><br><span class="line">    allPlotGroups = JSON.parse(fs.readFileSync(plotGroupJsonFile, &#x27;utf8&#x27;));</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  // åªéå†ç›¸å†Œæ ¹ç›®å½•</span><br><span class="line">  const rootDir = path.join(__dirname, rootPath);</span><br><span class="line">  if (!fs.existsSync(rootDir)) &#123;</span><br><span class="line">    console.error(`æ ¹ç›®å½•ä¸å­˜åœ¨ï¼š$&#123;rootDir&#125;`);</span><br><span class="line">    return;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  fs.readdirSync(rootDir).forEach((dirName) =&gt; &#123;</span><br><span class="line">    const dirFull = path.join(rootDir, dirName);</span><br><span class="line">    if (!fs.statSync(dirFull).isDirectory()) return;</span><br><span class="line"></span><br><span class="line">    const subfiles = fs.readdirSync(dirFull);</span><br><span class="line">    subfiles.forEach((subfileName) =&gt; &#123;</span><br><span class="line">      const ext = path.extname(subfileName).toLowerCase();</span><br><span class="line">      if (!IMAGE_EXTS.has(ext)) return; // åªå¤„ç†å›¾ç‰‡</span><br><span class="line"></span><br><span class="line">      // å¦‚æœå·²å­˜åœ¨å¯è·³è¿‡ï¼ˆæŒ‰éœ€æ‰“å¼€ï¼‰</span><br><span class="line">      if (allPlots.find(o =&gt; o.fileName === subfileName &amp;&amp; o.dirName === dirName)) return;</span><br><span class="line"></span><br><span class="line">      const imgPath = path.join(dirFull, subfileName);</span><br><span class="line"></span><br><span class="line">      try &#123;</span><br><span class="line">        const info = imageSize(imgPath); // è¿™é‡Œå·²å…¼å®¹å‡½æ•°è·å–</span><br><span class="line">        const plot = new Photo();</span><br><span class="line">        plot.dirName = dirName;</span><br><span class="line">        plot.fileName = subfileName;</span><br><span class="line">        plot.iconID = `$&#123;info.width&#125;.$&#123;info.height&#125; $&#123;subfileName&#125;`;</span><br><span class="line">        allPlots.push(plot);</span><br><span class="line"></span><br><span class="line">        let group = allPlotGroups.find(o =&gt; o.name === dirName);</span><br><span class="line">        if (!group) &#123;</span><br><span class="line">          group = new PhotoGroup();</span><br><span class="line">          group.name = dirName;</span><br><span class="line">          allPlotGroups.push(group);</span><br><span class="line">        &#125;</span><br><span class="line">        group.children.push(plot.iconID);</span><br><span class="line">        console.log(&#x27;âœ” æ–°å¢å›¾ç‰‡ï¼š&#x27;, plot.iconID);</span><br><span class="line">      &#125; catch (e) &#123;</span><br><span class="line">        console.warn(&#x27;âš  è¯»å–å›¾ç‰‡å°ºå¯¸å¤±è´¥ï¼š&#x27;, imgPath, e.message);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  fs.writeJSONSync(plotJsonFile, allPlots, &#123; spaces: 2 &#125;);</span><br><span class="line">  fs.writeJSONSync(plotGroupJsonFile, allPlotGroups, &#123; spaces: 2 &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">createPlotIconsData();</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å°†ç”Ÿæˆçš„photos.jsonæ‹·è´åˆ°åšå®¢ç›®å½•ä¸‹çš„photos</p><h2 id="3-åŠ è½½-jså’Œcssæ–‡ä»¶"><a href="#3-åŠ è½½-jså’Œcssæ–‡ä»¶" class="headerlink" title="3.åŠ è½½ jså’Œcssæ–‡ä»¶"></a>3.åŠ è½½ jså’Œcssæ–‡ä»¶</h2><p>åœ¨ &#x2F;source&#x2F;js&#x2F; ç›®å½•ä¸‹åˆ›å»º photoWall.js</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">var imgDataPath = &quot;/photos/photos.json&quot;; // å…ˆç”¨ç«™ç‚¹å†…è·¯å¾„ï¼Œç¨³å®š 200</span><br><span class="line">var imgPath     = &quot;https://cdn.jsdelivr.net/gh/wenjiew-astro/gallery@main/gallery/&quot;;</span><br><span class="line">var imgMaxNum   = 50;</span><br><span class="line"></span><br><span class="line">var windowWidth = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;</span><br><span class="line">var imageWidth  = windowWidth &lt; 768 ? 145 : 250;</span><br><span class="line"></span><br><span class="line">function slugify(s)&#123; return String(s).toLowerCase().replace(/\s+/g,&#x27;-&#x27;).replace(/[^\w\-]+/g,&#x27;&#x27;).replace(/\-+/g,&#x27;-&#x27;).replace(/^\-+|\-+$/g,&#x27;&#x27;)||&#x27;tab&#x27;; &#125;</span><br><span class="line">function enc(s)&#123; return encodeURIComponent(s); &#125;</span><br><span class="line">function buildImgURL(dir,file)&#123; return imgPath + enc(dir) + &#x27;/&#x27; + enc(file); &#125;</span><br><span class="line"></span><br><span class="line">// å¯é€‰ï¼šä¸ºåˆ†ç»„å®šä¹‰â€œä¸­æ–‡/è‹±æ–‡æ ‡é¢˜â€è¿™ç±»åˆ«åï¼›æ‰¾ä¸åˆ°å°±ç”¨ name å¡«å……</span><br><span class="line">const groupMeta = &#123;</span><br><span class="line">  // &#x27;å‡¤å‡°å¤åŸ&#x27;: &#123; title:&#x27;Fenghuang&#x27;, sub:&#x27;å‡¤å‡°å¤åŸ&#x27; &#125;,</span><br><span class="line">  // &#x27;è¥¿æ¹–&#x27;:     &#123; title:&#x27;West Lake&#x27;, sub:&#x27;è¥¿æ¹–&#x27; &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const photo = &#123;</span><br><span class="line">  offset: imgMaxNum,</span><br><span class="line"></span><br><span class="line">  init()&#123;</span><br><span class="line">    if (typeof jQuery===&#x27;undefined&#x27;)&#123; console.error(&#x27;[photoWall] jQuery æœªåŠ è½½&#x27;); return; &#125;</span><br><span class="line">    $.getJSON(imgDataPath,(data)=&gt;&#123;</span><br><span class="line">      if(!Array.isArray(data)||!data.length)&#123;</span><br><span class="line">        $(&#x27;.ImageGrid&#x27;).html(&#x27;&lt;div style=&quot;padding:1rem;color:#999;&quot;&gt;æ²¡æœ‰å¯æ˜¾ç¤ºçš„ç›¸å†Œæ•°æ®&lt;/div&gt;&#x27;); return;</span><br><span class="line">      &#125;</span><br><span class="line">      this.renderIndex(data);      // ä¸Šæ–¹åˆ†ç»„å°é¢åŒºï¼ˆåƒç¤ºä¾‹é¡µï¼‰</span><br><span class="line">      this.renderGroups(data);     // ä¸‹æ–¹åˆ†ç»„å†…å®¹ï¼ˆç€‘å¸ƒæµï¼‰</span><br><span class="line">      this.bindEvents();</span><br><span class="line">    &#125;).fail((_,s,e)=&gt;&#123;</span><br><span class="line">      console.error(&#x27;[photoWall] åŠ è½½ photos.json å¤±è´¥ï¼š&#x27;,s,e);</span><br><span class="line">      $(&#x27;.ImageGrid&#x27;).html(&#x27;&lt;div style=&quot;padding:1rem;color:#c00;&quot;&gt;åŠ è½½ photos.json å¤±è´¥&lt;/div&gt;&#x27;);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  renderIndex(data)&#123;</span><br><span class="line">    let html=&#x27;&#x27;;</span><br><span class="line">    data.forEach((g,idx)=&gt;&#123;</span><br><span class="line">      const &#123;name=&#x27;&#x27;,children=[]&#125;=g||&#123;&#125;;</span><br><span class="line">      const first=children[0];</span><br><span class="line">      const cover = first ? buildImgURL(name, String(first).split(&#x27; &#x27;)[1])</span><br><span class="line">                          : &#x27;https://via.placeholder.com/400x240?text=No+Image&#x27;;</span><br><span class="line">      const meta  = groupMeta[name] || &#123; title:name, sub:name &#125;;</span><br><span class="line">      const tiltClass = &#x27;tilt-&#x27; + (1 + Math.floor(Math.random()*6));</span><br><span class="line">      html += `</span><br><span class="line">        &lt;div class=&quot;gcard $&#123;tiltClass&#125;&quot; data-target=&quot;#$&#123;slugify(name)&#125;-$&#123;idx&#125;&quot; data-group=&quot;$&#123;enc(name)&#125;&quot;&gt;</span><br><span class="line">          &lt;div class=&quot;gimg&quot;&gt;&lt;img src=&quot;$&#123;cover&#125;&quot; alt=&quot;$&#123;meta.title&#125;&quot;&gt;&lt;/div&gt;</span><br><span class="line">          &lt;div class=&quot;gmeta&quot;&gt;</span><br><span class="line">            &lt;div class=&quot;gtitle&quot;&gt;$&#123;meta.title&#125;&lt;/div&gt;</span><br><span class="line">            &lt;div class=&quot;gsub&quot;&gt;$&#123;meta.sub&#125;ï¼ˆ$&#123;children.length&#125;ï¼‰&lt;/div&gt;</span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;`;</span><br><span class="line">    &#125;);</span><br><span class="line">    $(&#x27;#galleryIndex&#x27;).html(html);</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  renderGroups(data)&#123;</span><br><span class="line">    let liHtml=&#x27;&#x27;, panesHtml=&#x27;&#x27;;</span><br><span class="line">    data.forEach((group,idx)=&gt;&#123;</span><br><span class="line">      const &#123;name=&#x27;&#x27;,children=[]&#125;=group||&#123;&#125;;</span><br><span class="line">      const active = idx===0 ? &#x27;active&#x27; : &#x27;&#x27;;</span><br><span class="line">      const slug   = `$&#123;slugify(name)&#125;-$&#123;idx&#125;`;</span><br><span class="line"></span><br><span class="line">      // tabsï¼ˆå·²è¢« CSS éšè—ï¼Œä»…ç”¨äºå†…éƒ¨åˆ‡åˆ†å®¹å™¨ï¼‰</span><br><span class="line">      liHtml += `</span><br><span class="line">        &lt;li class=&quot;nav-item&quot; role=&quot;presentation&quot;&gt;</span><br><span class="line">          &lt;a class=&quot;nav-link $&#123;active&#125; photo-tab&quot; data-toggle=&quot;tab&quot;</span><br><span class="line">             href=&quot;#$&#123;slug&#125;&quot; role=&quot;tab&quot; aria-controls=&quot;$&#123;slug&#125;&quot; aria-selected=&quot;$&#123;idx===0&#125;&quot;&gt;</span><br><span class="line">             $&#123;name&#125;</span><br><span class="line">          &lt;/a&gt;</span><br><span class="line">        &lt;/li&gt;`;</span><br><span class="line"></span><br><span class="line">      // åˆ†ç»„é‡Œçš„å›¾ç‰‡å¡ç‰‡</span><br><span class="line">      let cards=&#x27;&#x27;;</span><br><span class="line">      children.slice(0,this.offset).forEach((item)=&gt;&#123;</span><br><span class="line">        const [size,file]=String(item).split(&#x27; &#x27;);</span><br><span class="line">        if(!size||!file) return;</span><br><span class="line">        const [w,h]=size.split(&#x27;.&#x27;);</span><br><span class="line">        const url=buildImgURL(name,file);</span><br><span class="line">        const imgName=file.split(&#x27;.&#x27;)[0];</span><br><span class="line"></span><br><span class="line">        cards += `</span><br><span class="line">          &lt;div class=&quot;card&quot; style=&quot;width:$&#123;imageWidth&#125;px&quot;&gt;</span><br><span class="line">            &lt;div class=&quot;ImageInCard&quot; style=&quot;height:$&#123;(imageWidth*(+h||1))/(+w||1)&#125;px&quot;&gt;</span><br><span class="line">              &lt;a data-fancybox=&quot;gallery&quot; href=&quot;$&#123;url&#125;&quot; data-caption=&quot;$&#123;imgName&#125;&quot; title=&quot;$&#123;imgName&#125;&quot;&gt;</span><br><span class="line">                &lt;img loading=&quot;lazy&quot; src=&quot;$&#123;url&#125;&quot; width=&quot;$&#123;imageWidth&#125;&quot; /&gt;</span><br><span class="line">              &lt;/a&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">          &lt;/div&gt;`;</span><br><span class="line">      &#125;);</span><br><span class="line"></span><br><span class="line">      panesHtml += `</span><br><span class="line">        &lt;div class=&quot;tab-pane fade $&#123;active?&#x27;show active&#x27;:&#x27;&#x27;&#125;&quot; id=&quot;$&#123;slug&#125;&quot; role=&quot;tabpanel&quot;&gt;</span><br><span class="line">          &lt;div class=&quot;ImageGrid&quot;&gt;$&#123;cards&#125;&lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;`;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    const tabs = `&lt;ul class=&quot;nav nav-tabs&quot; id=&quot;myTab&quot; role=&quot;tablist&quot;&gt;$&#123;liHtml&#125;&lt;/ul&gt;`;</span><br><span class="line">    const content = `&lt;div class=&quot;tab-content&quot; id=&quot;myTabContent&quot;&gt;$&#123;panesHtml&#125;&lt;/div&gt;`;</span><br><span class="line">    $(&#x27;#imageTab&#x27;).html(tabs);</span><br><span class="line">    $(&#x27;.ImageGrid&#x27;).not(&#x27;#myTabContent .ImageGrid&#x27;).remove();</span><br><span class="line">    $(&#x27;#myTab&#x27;).after(content);</span><br><span class="line"></span><br><span class="line">    this.mountGrids();</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  bindEvents()&#123;</span><br><span class="line">    // ç‚¹å‡»å°é¢å¡ç‰‡ â†’ åˆ‡æ¢åˆ°å¯¹åº”åˆ†ç»„</span><br><span class="line">    $(document).on(&#x27;click&#x27;,&#x27;.gcard&#x27;,(e)=&gt;&#123;</span><br><span class="line">      const target=$(e.currentTarget).data(&#x27;target&#x27;);</span><br><span class="line">      if(target)&#123; $(`a[href=&#x27;$&#123;target&#125;&#x27;]`).tab(&#x27;show&#x27;); $(&#x27;html,body&#x27;).animate(&#123;scrollTop: $(&#x27;#imageTab&#x27;).offset().top-16&#125;, 280); &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    // Tab åˆ‡æ¢/çª—å£å°ºå¯¸æ›´æ”¹ â†’ é‡æ–°å¸ƒå±€</span><br><span class="line">    $(document).on(&#x27;shown.bs.tab&#x27;,&#x27;a[data-toggle=&quot;tab&quot;]&#x27;,()=&gt;this.mountGrids());</span><br><span class="line">    $(window).on(&#x27;resize&#x27;,()=&gt;this.mountGrids());</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  mountGrids()&#123;</span><br><span class="line">    $(&quot;.tab-pane.show.active .ImageGrid, .tab-pane.active .ImageGrid&quot;).each(function()&#123;</span><br><span class="line">      try&#123;</span><br><span class="line">        var grid=new Minigrid(&#123; container:this, item:&quot;.card&quot;, gutter:12 &#125;);</span><br><span class="line">        grid.mount();</span><br><span class="line">        const imgs=$(this).find(&#x27;img&#x27;); let left=imgs.length;</span><br><span class="line">        if(!left) return;</span><br><span class="line">        imgs.off(&#x27;load.pw error.pw&#x27;).on(&#x27;load.pw error.pw&#x27;,()=&gt;&#123; if(--left&lt;=0) grid.mount(); &#125;);</span><br><span class="line">      &#125;catch(e)&#123; console.warn(&#x27;[photoWall] Minigrid å¤±è´¥ï¼š&#x27;,e.message); &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">$(function()&#123; photo.init(); &#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>åœ¨ &#x2F;source&#x2F;js&#x2F; ç›®å½•ä¸‹åˆ›å»º gallery-group.js</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">console.log(&#x27;gallery-group.js loaded&#x27;);</span><br><span class="line"></span><br><span class="line">var IMG_DATA = &quot;/photos/photos.json&quot;;</span><br><span class="line">var IMG_ROOT = &quot;https://cdn.jsdelivr.net/gh/wenjiew-astro/gallery@main/gallery/&quot;;</span><br><span class="line">var W = (window.innerWidth || document.documentElement.clientWidth) &lt; 768 ? 145 : 250;</span><br><span class="line"></span><br><span class="line">function enc(s)&#123; return encodeURIComponent(s) &#125;</span><br><span class="line">function build(dir, file)&#123; return IMG_ROOT + enc(dir) + &#x27;/&#x27; + enc(file) &#125;</span><br><span class="line">function q(k)&#123; return new URLSearchParams(location.search).get(k) || &#x27;&#x27; &#125;</span><br><span class="line"></span><br><span class="line">$(function()&#123;</span><br><span class="line">  var $grid = $(&quot;.ImageGrid&quot;);</span><br><span class="line">  if (!$grid.length) return;</span><br><span class="line"></span><br><span class="line">  $.getJSON(IMG_DATA).done(function(list)&#123;</span><br><span class="line">    if (!Array.isArray(list) || !list.length) &#123; </span><br><span class="line">      $grid.html(&#x27;&lt;p style=&quot;color:#999&quot;&gt;æš‚æ— ç›¸å†Œ&lt;/p&gt;&#x27;); </span><br><span class="line">      return; </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // å–å‚æ•°ï¼›æ²¡æœ‰åˆ™é»˜è®¤ç¬¬ä¸€ç»„ï¼ˆä½†åªæœ‰åœ¨ç¡®å®æ²¡å¸¦å‚æ•°æ—¶æ‰å…œåº•ï¼‰</span><br><span class="line">    var group = q(&#x27;group&#x27;);</span><br><span class="line">    if (!group) &#123;</span><br><span class="line">      group = list[0].name;</span><br><span class="line">      history.replaceState(null, &#x27;&#x27;, &#x27;?group=&#x27; + encodeURIComponent(group));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // å…¼å®¹ä¸­æ–‡å‚æ•°ï¼šURLSearchParams å·²è§£ç ï¼Œè¿™é‡Œä¸å†åå¤è§£ç </span><br><span class="line">    var item = list.find(function(x)&#123; return x &amp;&amp; x.name === group; &#125;);</span><br><span class="line">    if (!item) &#123; </span><br><span class="line">      $grid.html(&#x27;&lt;p style=&quot;color:#c00&quot;&gt;æœªæ‰¾åˆ°åˆ†ç»„ï¼š&#x27;+ group +&#x27;&lt;/p&gt;&#x27;); </span><br><span class="line">      return; </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // æ‰¾åˆ°åˆ†ç»„åï¼ˆitem å­˜åœ¨ï¼‰â€”â€”æŠŠé¡µå¤´æ ‡é¢˜æ”¹æˆç»„åï¼Œå¹¶é”å®š</span><br><span class="line">    (function forceSiteTitle(name) &#123;</span><br><span class="line">      // 1) æµè§ˆå™¨æ ‡ç­¾</span><br><span class="line">      document.title = name + &#x27; - ç›¸å†Œ&#x27;;</span><br><span class="line"></span><br><span class="line">      // 2) é¡µå¤´å¤§æ ‡é¢˜ #site-title</span><br><span class="line">      var el = document.querySelector(&#x27;#page-site-info #site-title&#x27;);</span><br><span class="line">      if (!el) return;</span><br><span class="line"></span><br><span class="line">      // é‡å¤å¤šæ¬¡ä»¥è¦†ç›–ä¸»é¢˜çš„æ™šæ³¨å…¥</span><br><span class="line">      function apply() &#123; el.textContent = name; &#125;</span><br><span class="line">      [0, 30, 80, 200, 500, 1000, 2000].forEach(function(t)&#123; setTimeout(apply, t); &#125;);</span><br><span class="line"></span><br><span class="line">      // ç›‘å¬è¿™ä¸ªèŠ‚ç‚¹ï¼Œä¸€æ—¦è¢«æ”¹å›å°±å†å†™ä¸€æ¬¡</span><br><span class="line">      try &#123;</span><br><span class="line">        var mo = new MutationObserver(function()&#123; if (el.textContent !== name) el.textContent = name; &#125;);</span><br><span class="line">        mo.observe(el, &#123; childList: true, characterData: true, subtree: true &#125;);</span><br><span class="line">        setTimeout(function()&#123; mo.disconnect(); &#125;, 8000); // 8 ç§’ååŸºæœ¬ç¨³å®š</span><br><span class="line">      &#125; catch(e)&#123;&#125;</span><br><span class="line">    &#125;)(group);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    $(&#x27;#groupTitle&#x27;).text(group);</span><br><span class="line"></span><br><span class="line">    var cards = item.children.map(function(s)&#123;</span><br><span class="line">      var seg = String(s).split(&#x27; &#x27;); if (seg.length &lt; 2) return &#x27;&#x27;;</span><br><span class="line">      var wh = seg[0].split(&#x27;.&#x27;); var iw = +wh[0]||1, ih = +wh[1]||1;</span><br><span class="line">      var file = seg[1]; var url = build(group, file); var name = file.split(&#x27;.&#x27;)[0];</span><br><span class="line"></span><br><span class="line">      return &#x27;&#x27; +</span><br><span class="line">        &#x27;&lt;div class=&quot;card&quot; style=&quot;width:&#x27;+W+&#x27;px&quot;&gt;&#x27; +</span><br><span class="line">          &#x27;&lt;div class=&quot;ImageInCard&quot; style=&quot;height:&#x27;+(W*ih/iw)+&#x27;px&quot;&gt;&#x27; +</span><br><span class="line">            &#x27;&lt;a data-fancybox=&quot;gallery&quot; href=&quot;&#x27;+url+&#x27;&quot; data-caption=&quot;&#x27;+name+&#x27;&quot; title=&quot;&#x27;+name+&#x27;&quot;&gt;&#x27; +</span><br><span class="line">              &#x27;&lt;img loading=&quot;lazy&quot; src=&quot;&#x27;+url+&#x27;&quot; width=&quot;&#x27;+W+&#x27;&quot;/&gt;&#x27; +</span><br><span class="line">            &#x27;&lt;/a&gt;&#x27; +</span><br><span class="line">          &#x27;&lt;/div&gt;&#x27; +</span><br><span class="line">        &#x27;&lt;/div&gt;&#x27;;</span><br><span class="line">    &#125;).join(&#x27;&#x27;);</span><br><span class="line"></span><br><span class="line">    $grid.html(cards);</span><br><span class="line"></span><br><span class="line">    try &#123;</span><br><span class="line">      var grid = new Minigrid(&#123; container: $grid[0], item: &#x27;.card&#x27;, gutter: 12 &#125;);</span><br><span class="line">      grid.mount();</span><br><span class="line">      var imgs = $grid.find(&#x27;img&#x27;), left = imgs.length;</span><br><span class="line">      imgs.on(&#x27;load error&#x27;, function()&#123; if(--left &lt;= 0) grid.mount(); &#125;);</span><br><span class="line">      $(window).on(&#x27;resize&#x27;, function()&#123; grid.mount(); &#125;);</span><br><span class="line">    &#125; catch(e) &#123; console.warn(&#x27;Minigrid error:&#x27;, e.message); &#125;</span><br><span class="line">  &#125;).fail(function(_,s,e)&#123;</span><br><span class="line">    $grid.html(&#x27;&lt;p style=&quot;color:#c00&quot;&gt;photos.json åŠ è½½å¤±è´¥&lt;/p&gt;&#x27;);</span><br><span class="line">    console.error(&#x27;[gallery-group] photos.json åŠ è½½å¤±è´¥ï¼š&#x27;, s, e);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">document.addEventListener(&#x27;pjax:complete&#x27;, function () &#123;</span><br><span class="line">  var g = new URLSearchParams(location.search).get(&#x27;group&#x27;);</span><br><span class="line">  if (g) (function(name)&#123;</span><br><span class="line">    var el = document.querySelector(&#x27;#page-site-info #site-title&#x27;);</span><br><span class="line">    if (el) el.textContent = name;</span><br><span class="line">    document.title = name + &#x27; - ç›¸å†Œ&#x27;;</span><br><span class="line">  &#125;)(g);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>åœ¨ &#x2F;source&#x2F;js&#x2F; ç›®å½•ä¸‹åˆ›å»º gallery-index.js</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">console.log(&#x27;gallery-index.js loaded&#x27;);</span><br><span class="line"></span><br><span class="line">// æ•°æ®ä¸å›¾ç‰‡å‰ç¼€</span><br><span class="line">var IMG_DATA = &quot;/photos/photos.json&quot;;  // è¯·ç¡®ä¿ source/photos/photos.json å­˜åœ¨å¹¶ä¼šéƒ¨ç½²</span><br><span class="line">var IMG_ROOT = &quot;https://cdn.jsdelivr.net/gh/wenjiew-astro/gallery@main/gallery/&quot;;</span><br><span class="line"></span><br><span class="line">// ä»å°é¢é¡µæ¸²æŸ“â€œå¯ç‚¹å‡»çš„å°é¢å¡ç‰‡â€ï¼Œå¡ç‰‡æœ¬èº«å°±æ˜¯ &lt;a href=&quot;../gallery/?group=xxx&quot;&gt;</span><br><span class="line">function enc(s)&#123; return encodeURIComponent(s) &#125;</span><br><span class="line">function build(dir, file)&#123; return IMG_ROOT + enc(dir) + &#x27;/&#x27; + enc(file) &#125;</span><br><span class="line"></span><br><span class="line">$(function()&#123;</span><br><span class="line">  var $index = $(&quot;#galleryIndex&quot;);</span><br><span class="line">  if (!$index.length) return;</span><br><span class="line"></span><br><span class="line">  $.getJSON(IMG_DATA).done(function(list)&#123;</span><br><span class="line">    if (!Array.isArray(list) || !list.length) &#123;</span><br><span class="line">      $index.html(&#x27;&lt;p style=&quot;color:#999&quot;&gt;æš‚æ— ç›¸å†Œ&lt;/p&gt;&#x27;);</span><br><span class="line">      return;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    var html = list.map(function(g)&#123;</span><br><span class="line">      var name  = g.name || &#x27;&#x27;;</span><br><span class="line">      var first = (g.children &amp;&amp; g.children[0]) ? String(g.children[0]).split(&#x27; &#x27;)[1] : null;</span><br><span class="line">      var cover = first ? build(name, first) : &#x27;https://via.placeholder.com/400x240?text=No+Image&#x27;;</span><br><span class="line">      var tilt  = &#x27;tilt-&#x27; + (1 + Math.floor(Math.random()*6));</span><br><span class="line"></span><br><span class="line">      // â˜… ç”¨ç›¸å¯¹è·¯å¾„ ../gallery/ï¼Œä» /galleries/ è·³åˆ° /gallery/ï¼Œä»»ä½•æ ¹è·¯å¾„éƒ½æˆç«‹</span><br><span class="line">      return &#x27;&#x27; +</span><br><span class="line">        &#x27;&lt;a class=&quot;gcard &#x27;+tilt+&#x27;&quot; href=&quot;../gallery/?group=&#x27;+ enc(name) +&#x27;&quot;&gt;&#x27; +</span><br><span class="line">          &#x27;&lt;div class=&quot;gimg&quot;&gt;&lt;img src=&quot;&#x27;+cover+&#x27;&quot; alt=&quot;&#x27;+name+&#x27;&quot;&gt;&lt;/div&gt;&#x27; +</span><br><span class="line">          &#x27;&lt;div class=&quot;gmeta&quot;&gt;&lt;div class=&quot;gtitle&quot;&gt;&#x27;+name+&#x27;&lt;/div&gt;&#x27; +</span><br><span class="line">          &#x27;&lt;div class=&quot;gsub&quot;&gt;å…± &#x27;+(g.children?g.children.length:0)+&#x27; å¼ &lt;/div&gt;&lt;/div&gt;&#x27; +</span><br><span class="line">        &#x27;&lt;/a&gt;&#x27;;</span><br><span class="line">    &#125;).join(&#x27;&#x27;);</span><br><span class="line"></span><br><span class="line">    $index.html(html);</span><br><span class="line">  &#125;).fail(function(_,s,e)&#123;</span><br><span class="line">    console.error(&#x27;[gallery-index] photos.json åŠ è½½å¤±è´¥ï¼š&#x27;, s, e);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ç”¨ Butterfly çš„ <code>inject</code> æ³¨å…¥é…ç½®æ–‡ä»¶</p><p>æ‰“å¼€ <code>themes/butterfly/_config.yml</code>ï¼Œå¢åŠ ï¼ˆæˆ–åˆå¹¶åˆ°ä½ è‡ªå·±çš„ injectï¼‰ï¼š</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">inject:</span><br><span class="line">  head:</span><br><span class="line">   # ç›¸å†Œé¡µéœ€è¦çš„ä¸œè¥¿</span><br><span class="line">    - &#x27;&lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.staticfile.org/bootstrap/4.6.2/css/bootstrap.min.css&quot;&gt;&#x27;</span><br><span class="line">    - &#x27;&lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.css&quot;&gt;&#x27;</span><br><span class="line">    - |</span><br><span class="line">      &lt;style&gt;</span><br><span class="line">        .gallery-index, .ImageGrid &#123; width: min(1200px, calc(100% - 32px)); margin: 12px auto 24px; &#125;</span><br><span class="line">        .post-block:has(#galleryIndex)&#123; background:transparent!important; box-shadow:none!important; padding:0!important; &#125;</span><br><span class="line">        .post-title:has(+ .post-content #galleryIndex),</span><br><span class="line">        .post-meta:has(+ .post-content #galleryIndex),</span><br><span class="line">        .post-content:has(#galleryIndex) &gt; *:not(#galleryIntro):not(#galleryIndex)&#123; display:none!important; &#125;</span><br><span class="line"></span><br><span class="line">        /* å¼•è¨€å®¹å™¨æ ·å¼ï¼ˆæ”¾å¤§ + å¢è· + ç°ä»£å¡ç‰‡æ•ˆæœï¼‰ */</span><br><span class="line">        .gallery-intro &#123;</span><br><span class="line">          /* å°ºå¯¸æ›´å¤§ */</span><br><span class="line">          width: min(2000px, calc(100% - 1px));</span><br><span class="line">          margin: -80px auto 44px;          /* â†‘ ä¸Š 28pxï¼Œâ†“ ä¸‹ 44pxï¼šä¸ä¸‹é¢å†…å®¹æ‹‰å¼€è·ç¦» */</span><br><span class="line">          padding: 22px 28px;</span><br><span class="line"></span><br><span class="line">          /* æ’ç‰ˆä¸å¯è¯»æ€§ */</span><br><span class="line">          text-align: center;</span><br><span class="line">          font-size: 16px;                  /* æ•´ä½“å­—æ›´å¤§ */</span><br><span class="line">          line-height: 1.9;</span><br><span class="line"></span><br><span class="line">          /* èƒŒæ™¯ä¸æ¯›ç»ç’ƒ */</span><br><span class="line">          background: rgb(166, 169, 175);</span><br><span class="line">          backdrop-filter: blur(6px);</span><br><span class="line">          -webkit-backdrop-filter: blur(6px);</span><br><span class="line"></span><br><span class="line">          /* å½¢çŠ¶ä¸æŠ•å½± */</span><br><span class="line">          border-radius: 16px;</span><br><span class="line">          box-shadow: 0 10px 30px rgba(0,0,0,0.18);</span><br><span class="line"></span><br><span class="line">          /* æ‚¬åœåŠ¨æ•ˆï¼ˆè½»å¾®ä¸Šæµ® + æ”¾å¤§ï¼‰ */</span><br><span class="line">          transform: translateY(0) scale(1);</span><br><span class="line">          transition: transform .25s ease, box-shadow .25s ease, filter .25s ease;</span><br><span class="line">          will-change: transform;</span><br><span class="line"></span><br><span class="line">          position: relative;               /* ä¾› ::before å®šä½ç”¨ */</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        .gallery-intro:hover &#123;</span><br><span class="line">          transform: translateY(-4px) scale(1.02);</span><br><span class="line">          box-shadow: 0 16px 40px rgba(0,0,0,0.24);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        /* æ¸å˜è¾¹æ¡†ï¼ˆä¸é®ä½å†…å®¹ï¼‰ */</span><br><span class="line">        .gallery-intro::before &#123;</span><br><span class="line">          content: &#x27;&#x27;;</span><br><span class="line">          position: absolute;</span><br><span class="line">          inset: 0;</span><br><span class="line">          padding: 2px;                     /* è¾¹æ¡†ç²—ç»† */</span><br><span class="line">          border-radius: inherit;</span><br><span class="line">          background: linear-gradient(135deg, #4facfe, #00f2fe, #f093fb, #f5576c);</span><br><span class="line"></span><br><span class="line">          /* ç”¨è’™ç‰ˆæŠŠä¸­é—´â€œæŒ–ç©ºâ€ï¼Œåªæ˜¾ç¤ºè¾¹æ¡† */</span><br><span class="line">          -webkit-mask: </span><br><span class="line">            linear-gradient(#000 0 0) content-box, </span><br><span class="line">            linear-gradient(#000 0 0);</span><br><span class="line">          -webkit-mask-composite: xor;</span><br><span class="line">                  mask-composite: exclude;</span><br><span class="line"></span><br><span class="line">          pointer-events: none;</span><br><span class="line">          z-index: 0;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        .gallery-index&#123; display:grid; grid-template-columns:repeat(auto-fill,minmax(240px,1fr)); gap:22px; &#125;</span><br><span class="line">        .gcard&#123; width:240px; cursor:pointer; user-select:none; transform-origin:50% 80%;</span><br><span class="line">                transition:transform .25s ease, filter .25s ease; filter:drop-shadow(0 10px 20px rgba(0,0,0,.18)); text-decoration:none; &#125;</span><br><span class="line">        .gcard:hover&#123; transform:rotate(0deg) translateY(-6px) scale(1.02); filter:drop-shadow(0 14px 28px rgba(0,0,0,.22)); &#125;</span><br><span class="line">        .gimg&#123; width:100%; height:150px; border-radius:12px; overflow:hidden; background:#111; &#125;</span><br><span class="line">        .gimg img&#123; width:100%; height:100%; object-fit:cover; display:block; &#125;</span><br><span class="line">        .gmeta&#123; text-align:center; margin-top:8px; line-height:1.25; color:inherit; &#125;</span><br><span class="line">        .gtitle&#123; font-weight:700; &#125;</span><br><span class="line">        .gsub&#123; font-size:12px; opacity:.75; margin-top:4px; &#125;</span><br><span class="line">        .tilt-1&#123; transform:rotate(-4deg) &#125; .tilt-2&#123; transform:rotate(-2.5deg) &#125;</span><br><span class="line">        .tilt-3&#123; transform:rotate(-1.5deg) &#125; .tilt-4&#123; transform:rotate(1.5deg) &#125;</span><br><span class="line">        .tilt-5&#123; transform:rotate(2.5deg) &#125;  .tilt-6&#123; transform:rotate(4deg) &#125;</span><br><span class="line"></span><br><span class="line">        .card&#123; border-radius:14px; overflow:hidden; box-shadow:0 6px 18px rgba(0,0,0,.08) &#125;</span><br><span class="line">        .ImageInCard&#123; overflow:hidden; border-radius:14px &#125;</span><br><span class="line">        .card img&#123; width:100%; height:100%; object-fit:cover; display:block &#125;</span><br><span class="line">        .gallery-title&#123; width:min(1200px, calc(100% - 32px)); margin:16px auto 8px; font-weight:700; font-size:20px; &#125;</span><br><span class="line">        /* ç”¨ä¼ªå…ƒç´ æ˜¾ç¤ºæˆ‘ä»¬è®¾ç½®çš„æ ‡é¢˜ï¼›æŠŠåŸæ–‡å­—éšè—æ‰ */</span><br><span class="line">        #page-header .dyn-title&#123; color: transparent !important; position: relative; &#125;</span><br><span class="line">        #page-header .dyn-title::after&#123;</span><br><span class="line">          content: attr(data-group);   /* è¯»å–å…ƒç´ å±æ€§ data-group ä½œä¸ºæ ‡é¢˜ */</span><br><span class="line">          color: inherit;</span><br><span class="line">          position: absolute;</span><br><span class="line">          left: 0; top: 0;</span><br><span class="line">        &#125;</span><br><span class="line">      &lt;/style&gt;</span><br><span class="line">    # è‡ªå®šä¹‰æ ·å¼</span><br><span class="line">    - &#x27;&lt;style&gt;</span><br><span class="line">        /* è®© nav æˆä¸ºå®šä½å®¹å™¨ */</span><br><span class="line">        #nav&#123;position:relative;&#125;</span><br><span class="line"></span><br><span class="line">        /* æ–¹æ¡ˆ Aï¼šé€‚é…å¤§å¤šæ•°ç‰ˆæœ¬çš„èœå•å®¹å™¨ */</span><br><span class="line">        #nav .menus_items&#123;</span><br><span class="line">          position:absolute;</span><br><span class="line">          left:50%;</span><br><span class="line">          top:20%;</span><br><span class="line">          transform:translateX(-50%);</span><br><span class="line">          display:flex;</span><br><span class="line">          gap:.1rem;</span><br><span class="line">          white-space:nowrap;</span><br><span class="line">          /* é¿å…è¢«å³ä¾§æŒ‰é’®æŒ¤å‹ */</span><br><span class="line">          max-width:calc(100% - 240px);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        /* æ–¹æ¡ˆ Bï¼šéƒ¨åˆ†ç‰ˆæœ¬èœå•å®¹å™¨æ˜¯ .menus */</span><br><span class="line">        #nav .menus&#123;</span><br><span class="line">          display:flex !important;</span><br><span class="line">          justify-content:center !important;</span><br><span class="line">          width:100% !important;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        /* ä¿ç•™å·¦å³ä¸¤ä¾§å¸ƒå±€ï¼ˆlogo å·¦ã€å³ä¾§æŒ‰é’®åœ¨å³ï¼‰ */</span><br><span class="line">        #nav .site-brand, #nav .brand, #nav .site-title&#123;</span><br><span class="line">          position:relative; z-index:2;</span><br><span class="line">        &#125;</span><br><span class="line">        #nav .right, #nav .right-menu&#123;</span><br><span class="line">          position:relative; z-index:2;</span><br><span class="line">          margin-left:auto;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        /* èœå•é¡¹é—´è·ï¼ˆå¯è°ƒï¼‰ */</span><br><span class="line">        #nav .menus_items&gt;li, #nav .menus&gt;li&#123;</span><br><span class="line">          margin:0 .5rem;</span><br><span class="line">        &#125;</span><br><span class="line">      &lt;/style&gt;&#x27;</span><br><span class="line">  bottom:</span><br><span class="line">    # ç›¸å†Œé¡µéœ€è¦çš„ä¸œè¥¿</span><br><span class="line">    - &#x27;&lt;script src=&quot;https://cdn.staticfile.org/jquery/3.6.4/jquery.min.js&quot;&gt;&lt;/script&gt;&#x27;</span><br><span class="line">    - &#x27;&lt;script src=&quot;https://cdn.staticfile.org/bootstrap/4.6.2/js/bootstrap.bundle.min.js&quot;&gt;&lt;/script&gt;&#x27;</span><br><span class="line">    - &#x27;&lt;script src=&quot;https://gcore.jsdelivr.net/npm/minigrid@3.1.1/dist/minigrid.min.js&quot;&gt;&lt;/script&gt;&#x27;</span><br><span class="line">    - &#x27;&lt;script src=&quot;https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.js&quot;&gt;&lt;/script&gt;&#x27;</span><br><span class="line">    - &#x27;&lt;script defer src=&quot;/js/gallery-index.js&quot;&gt;&lt;/script&gt;&#x27;</span><br><span class="line">    - &#x27;&lt;script defer src=&quot;/js/gallery-group.js&quot;&gt;&lt;/script&gt;&#x27;</span><br></pre></td></tr></table></figure><p>æœ€å <code>hexo clean &amp;&amp; hexo g &amp;&amp; hexo s</code>ï¼Œæœ¬åœ°éƒ¨ç½²çœ‹çœ‹æ•ˆæœã€‚</p><h2 id="å¦‚æœä½ çš„ç›¸å†Œä¸­å›¾ç‰‡æ¯”è¾ƒå¤§çš„è¯æˆ‘å†™äº†ä¸€ä¸ªç¨‹åºæ¥å¤„ç†"><a href="#å¦‚æœä½ çš„ç›¸å†Œä¸­å›¾ç‰‡æ¯”è¾ƒå¤§çš„è¯æˆ‘å†™äº†ä¸€ä¸ªç¨‹åºæ¥å¤„ç†" class="headerlink" title="å¦‚æœä½ çš„ç›¸å†Œä¸­å›¾ç‰‡æ¯”è¾ƒå¤§çš„è¯æˆ‘å†™äº†ä¸€ä¸ªç¨‹åºæ¥å¤„ç†"></a>å¦‚æœä½ çš„ç›¸å†Œä¸­å›¾ç‰‡æ¯”è¾ƒå¤§çš„è¯æˆ‘å†™äº†ä¸€ä¸ªç¨‹åºæ¥å¤„ç†</h2><p>æ–°å»ºä¸€ä¸ªcompress_gallery.py</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#!/usr/bin/env python3</span><br><span class="line"># -*- coding: utf-8 -*-</span><br><span class="line"></span><br><span class="line"># python compress_gallery.py --src .\gallery --dst .\gallery_5MB</span><br><span class="line"># python compress_gallery.py --src .\gallery --dst .\gallery_5MB --limit 5</span><br><span class="line"># python compress_gallery.py --src .\gallery --dst .\gallery_10MB --limit 10</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">import os, sys, io, shutil, argparse</span><br><span class="line">from pathlib import Path</span><br><span class="line">from PIL import Image, ImageOps</span><br><span class="line"></span><br><span class="line"># å¯é€‰æ”¯æŒ HEIC/HEIF</span><br><span class="line">try:</span><br><span class="line">    from pillow_heif import register_heif_opener  # type: ignore</span><br><span class="line">    register_heif_opener()</span><br><span class="line">except Exception:</span><br><span class="line">    pass</span><br><span class="line"></span><br><span class="line">IMAGE_EXTS = &#123;&quot;.jpg&quot;, &quot;.jpeg&quot;, &quot;.png&quot;, &quot;.tif&quot;, &quot;.tiff&quot;, &quot;.bmp&quot;, &quot;.webp&quot;, &quot;.heic&quot;, &quot;.heif&quot;&#125;</span><br><span class="line"></span><br><span class="line">def is_image_file(p: Path) -&gt; bool:</span><br><span class="line">    return p.suffix.lower() in IMAGE_EXTS</span><br><span class="line"></span><br><span class="line">def ensure_dir(p: Path):</span><br><span class="line">    p.parent.mkdir(parents=True, exist_ok=True)</span><br><span class="line"></span><br><span class="line">def normalize_orientation(img: Image.Image, strategy: str = &quot;auto&quot;) -&gt; tuple[Image.Image, bytes | None]:</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    è¿”å› (åƒç´ å·²æ ‡å‡†åŒ–çš„å›¾åƒ, EXIFå­—èŠ‚æˆ–None)ã€‚å†™å›çš„EXIFå·²å°† Orientation(274)=1ã€‚</span><br><span class="line">    strategy: &quot;auto&quot; | &quot;force&quot; | &quot;strip&quot;</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    try:</span><br><span class="line">        exif = img.getexif()</span><br><span class="line">    except Exception:</span><br><span class="line">        exif = None</span><br><span class="line"></span><br><span class="line">    ori = 1</span><br><span class="line">    if exif and len(exif):</span><br><span class="line">        ori = exif.get(274, 1)</span><br><span class="line"></span><br><span class="line">    if strategy == &quot;strip&quot;:</span><br><span class="line">        if exif:</span><br><span class="line">            exif[274] = 1</span><br><span class="line">            return img, exif.tobytes()</span><br><span class="line">        return img, None</span><br><span class="line"></span><br><span class="line">    if strategy == &quot;force&quot;:</span><br><span class="line">        base = ImageOps.exif_transpose(img)</span><br><span class="line">        if exif:</span><br><span class="line">            exif[274] = 1</span><br><span class="line">            return base, exif.tobytes()</span><br><span class="line">        return base, None</span><br><span class="line"></span><br><span class="line">    # strategy == &quot;auto&quot;</span><br><span class="line">    w, h = img.size</span><br><span class="line">    need_rotate = False</span><br><span class="line">    if ori in (3, 4):         # 180Â°</span><br><span class="line">        need_rotate = True</span><br><span class="line">    elif ori in (5, 6, 7, 8): # 90Â°/270Â°</span><br><span class="line">        need_rotate = (w &gt;= h)  # æ¨ªå›¾æ‰æ—‹è½¬ï¼›å·²æ˜¯ç«–å›¾åˆ™ä¸æ—‹</span><br><span class="line"></span><br><span class="line">    base = ImageOps.exif_transpose(img) if need_rotate else img</span><br><span class="line">    if exif:</span><br><span class="line">        exif[274] = 1</span><br><span class="line">        return base, exif.tobytes()</span><br><span class="line">    return base, None</span><br><span class="line"></span><br><span class="line">def save_jpeg_under_limit(img: Image.Image,</span><br><span class="line">                          limit_bytes: int,</span><br><span class="line">                          exif_bytes: bytes | None,</span><br><span class="line">                          icc: bytes | None,</span><br><span class="line">                          min_side: int = 800,</span><br><span class="line">                          quality_steps = (92, 85, 80, 72, 65, 60, 50)) -&gt; bytes:</span><br><span class="line">    &quot;&quot;&quot;é€æ­¥é™è´¨ï¼Œå¿…è¦æ—¶ç­‰æ¯”ç¼©æ”¾ï¼Œç›´åˆ° &lt;= limit_bytesã€‚æ­¤æ—¶ img å·²å®Œæˆæ–¹å‘å½’ä¸€åŒ–ã€‚&quot;&quot;&quot;</span><br><span class="line">    base = img</span><br><span class="line">    if base.mode not in (&quot;RGB&quot;, &quot;L&quot;):</span><br><span class="line">        base = base.convert(&quot;RGB&quot;)</span><br><span class="line"></span><br><span class="line">    w, h = base.size</span><br><span class="line">    scale = 1.0</span><br><span class="line">    last_data = None</span><br><span class="line"></span><br><span class="line">    while True:</span><br><span class="line">        work = base if scale == 1.0 else base.resize((max(1,int(w*scale)), max(1,int(h*scale))), Image.LANCZOS)</span><br><span class="line"></span><br><span class="line">        for q in quality_steps:</span><br><span class="line">            buf = io.BytesIO()</span><br><span class="line">            save_kwargs = dict(format=&quot;JPEG&quot;, quality=q, optimize=True, progressive=True, subsampling=&quot;4:2:0&quot;)</span><br><span class="line">            if exif_bytes: save_kwargs[&quot;exif&quot;] = exif_bytes</span><br><span class="line">            if icc:        save_kwargs[&quot;icc_profile&quot;] = icc</span><br><span class="line">            work.save(buf, **save_kwargs)</span><br><span class="line">            data = buf.getvalue()</span><br><span class="line">            last_data = data</span><br><span class="line">            if len(data) &lt;= limit_bytes:</span><br><span class="line">                return data</span><br><span class="line"></span><br><span class="line">        if min(work.size) &lt;= min_side:</span><br><span class="line">            return last_data</span><br><span class="line">        scale *= 0.85</span><br><span class="line"></span><br><span class="line">def save_webp_under_limit(img: Image.Image,</span><br><span class="line">                          limit_bytes: int,</span><br><span class="line">                          exif_bytes: bytes | None,</span><br><span class="line">                          icc: bytes | None,</span><br><span class="line">                          min_side: int = 800,</span><br><span class="line">                          quality_steps = (95, 90, 85, 80, 75, 70, 65, 60)) -&gt; bytes:</span><br><span class="line">    &quot;&quot;&quot;ä¿å­˜ä¸º WebPï¼ˆå¯å¸¦é€æ˜ï¼‰ï¼Œé€æ­¥é™è´¨ä¸ç¼©æ”¾è‡³ &lt;= limit_bytesã€‚æ­¤æ—¶ img å·²å®Œæˆæ–¹å‘å½’ä¸€åŒ–ã€‚&quot;&quot;&quot;</span><br><span class="line">    base = img</span><br><span class="line">    has_alpha = (base.mode in (&quot;RGBA&quot;, &quot;LA&quot;)) or (base.mode == &quot;P&quot; and &quot;transparency&quot; in base.info)</span><br><span class="line">    if has_alpha:</span><br><span class="line">        if base.mode != &quot;RGBA&quot;:</span><br><span class="line">            base = base.convert(&quot;RGBA&quot;)</span><br><span class="line">    else:</span><br><span class="line">        if base.mode not in (&quot;RGB&quot;, &quot;L&quot;):</span><br><span class="line">            base = base.convert(&quot;RGB&quot;)</span><br><span class="line"></span><br><span class="line">    w, h = base.size</span><br><span class="line">    scale = 1.0</span><br><span class="line">    last_data = None</span><br><span class="line"></span><br><span class="line">    while True:</span><br><span class="line">        work = base if scale == 1.0 else base.resize((max(1,int(w*scale)), max(1,int(h*scale))), Image.LANCZOS)</span><br><span class="line"></span><br><span class="line">        for q in quality_steps:</span><br><span class="line">            buf = io.BytesIO()</span><br><span class="line">            save_kwargs = dict(format=&quot;WEBP&quot;, quality=q, method=6)</span><br><span class="line">            if exif_bytes: save_kwargs[&quot;exif&quot;] = exif_bytes  # æŸäº›æŸ¥çœ‹å™¨å¯èƒ½å¿½ç•¥ WebP EXIFï¼Œä½†æˆ‘ä»¬ä»å†™å…¥</span><br><span class="line">            if icc:        save_kwargs[&quot;icc_profile&quot;] = icc</span><br><span class="line">            work.save(buf, **save_kwargs)</span><br><span class="line">            data = buf.getvalue()</span><br><span class="line">            last_data = data</span><br><span class="line">            if len(data) &lt;= limit_bytes:</span><br><span class="line">                return data</span><br><span class="line"></span><br><span class="line">        if min(work.size) &lt;= min_side:</span><br><span class="line">            return last_data</span><br><span class="line">        scale *= 0.85</span><br><span class="line"></span><br><span class="line">def compress_one(input_path: Path, output_path: Path, limit_bytes: int, min_side: int = 800, orient_strategy: str = &quot;auto&quot;) -&gt; tuple[bool, str]:</span><br><span class="line">    try:</span><br><span class="line">        if input_path.stat().st_size &lt;= limit_bytes:</span><br><span class="line">            ensure_dir(output_path)</span><br><span class="line">            shutil.copy2(input_path, output_path)</span><br><span class="line">            return True, f&quot;SKIP (&lt;= limit): &#123;input_path&#125;&quot;</span><br><span class="line"></span><br><span class="line">        with Image.open(input_path) as im:</span><br><span class="line">            base, exif_bytes = normalize_orientation(im, strategy=orient_strategy)</span><br><span class="line">            icc  = im.info.get(&quot;icc_profile&quot;, None)</span><br><span class="line">            ext = input_path.suffix.lower()</span><br><span class="line"></span><br><span class="line">            if ext == &quot;.png&quot;:</span><br><span class="line">                data = save_webp_under_limit(base, limit_bytes, exif_bytes, icc, min_side=min_side)</span><br><span class="line">                out = output_path.with_suffix(&quot;.webp&quot;)</span><br><span class="line">                ensure_dir(out)</span><br><span class="line">                with open(out, &quot;wb&quot;) as f:</span><br><span class="line">                    f.write(data)</span><br><span class="line">                return True, f&quot;PNG-&gt;WebP-&gt;OK: &#123;input_path&#125; -&gt; &#123;out.name&#125;&quot;</span><br><span class="line"></span><br><span class="line">            elif ext in (&quot;.jpg&quot;, &quot;.jpeg&quot;, &quot;.webp&quot;, &quot;.tif&quot;, &quot;.tiff&quot;, &quot;.bmp&quot;, &quot;.heic&quot;, &quot;.heif&quot;):</span><br><span class="line">                data = save_jpeg_under_limit(base, limit_bytes, exif_bytes, icc, min_side=min_side)</span><br><span class="line">                out = output_path.with_suffix(&quot;.jpg&quot;)</span><br><span class="line">                ensure_dir(out)</span><br><span class="line">                with open(out, &quot;wb&quot;) as f:</span><br><span class="line">                    f.write(data)</span><br><span class="line">                return True, f&quot;&#123;ext.upper().lstrip(&#x27;.&#x27;)&#125;-&gt;JPEG-&gt;OK: &#123;input_path&#125; -&gt; &#123;out.name&#125;&quot;</span><br><span class="line"></span><br><span class="line">            else:</span><br><span class="line">                data = save_jpeg_under_limit(base, limit_bytes, exif_bytes, icc, min_side=min_side)</span><br><span class="line">                out = output_path.with_suffix(&quot;.jpg&quot;)</span><br><span class="line">                ensure_dir(out)</span><br><span class="line">                with open(out, &quot;wb&quot;) as f:</span><br><span class="line">                    f.write(data)</span><br><span class="line">                return True, f&quot;OTHER-&gt;JPEG-&gt;OK: &#123;input_path&#125; -&gt; &#123;out.name&#125;&quot;</span><br><span class="line"></span><br><span class="line">    except Exception as e:</span><br><span class="line">        return False, f&quot;FAIL: &#123;input_path&#125; (&#123;e&#125;)&quot;</span><br><span class="line"></span><br><span class="line">def walk_and_compress(src: Path, dst: Path, limit_mb: float, min_side: int, orient_strategy: str):</span><br><span class="line">    limit_bytes = int(limit_mb * 1024 * 1024)</span><br><span class="line">    total = ok = fail = 0</span><br><span class="line">    for root, _, files in os.walk(src):</span><br><span class="line">        for name in files:</span><br><span class="line">            total += 1</span><br><span class="line">            in_path = Path(root) / name</span><br><span class="line">            rel = in_path.relative_to(src)</span><br><span class="line">            out_path = (dst / rel)</span><br><span class="line"></span><br><span class="line">            if not is_image_file(in_path):</span><br><span class="line">                try:</span><br><span class="line">                    ensure_dir(out_path)</span><br><span class="line">                    shutil.copy2(in_path, out_path)</span><br><span class="line">                    ok += 1</span><br><span class="line">                    print(f&quot;COPY (non-image): &#123;in_path&#125;&quot;)</span><br><span class="line">                except Exception as e:</span><br><span class="line">                    fail += 1</span><br><span class="line">                    print(f&quot;FAIL COPY: &#123;in_path&#125; (&#123;e&#125;)&quot;)</span><br><span class="line">                continue</span><br><span class="line"></span><br><span class="line">            success, msg = compress_one(in_path, out_path, limit_bytes, min_side=min_side, orient_strategy=orient_strategy)</span><br><span class="line">            print(msg)</span><br><span class="line">            ok += int(success)</span><br><span class="line">            fail += int(not success)</span><br><span class="line"></span><br><span class="line">    print(&quot;\n=== Summary ===&quot;)</span><br><span class="line">    print(f&quot;Source: &#123;src&#125;&quot;)</span><br><span class="line">    print(f&quot;Output: &#123;dst&#125;&quot;)</span><br><span class="line">    print(f&quot;Limit : &#123;limit_mb&#125; MB&quot;)</span><br><span class="line">    print(f&quot;Total : &#123;total&#125; | OK: &#123;ok&#125; | FAIL: &#123;fail&#125;&quot;)</span><br><span class="line"></span><br><span class="line">def main():</span><br><span class="line">    ap = argparse.ArgumentParser(description=&quot;Compress images; PNG-&gt;WebP (alpha), others-&gt;JPEG. Orientation fixed.&quot;)</span><br><span class="line">    ap.add_argument(&quot;--src&quot;, type=str, required=True, help=&quot;Source folder (e.g., ./gallery)&quot;)</span><br><span class="line">    ap.add_argument(&quot;--dst&quot;, type=str, required=True, help=&quot;Output folder (e.g., ./gallery_5MB)&quot;)</span><br><span class="line">    ap.add_argument(&quot;--limit&quot;, type=float, default=5.0, help=&quot;Max size per image in MB (default: 5)&quot;)</span><br><span class="line">    ap.add_argument(&quot;--min-side&quot;, type=int, default=800, help=&quot;Do not scale below this shorter side (default: 800px)&quot;)</span><br><span class="line">    ap.add_argument(&quot;--orientation&quot;, type=str, choices=[&quot;auto&quot;,&quot;force&quot;,&quot;strip&quot;], default=&quot;auto&quot;,</span><br><span class="line">                    help=&quot;Orientation fix strategy: auto (default), force (always rotate by EXIF), strip (no rotate, set Orientation=1)&quot;)</span><br><span class="line">    args = ap.parse_args()</span><br><span class="line"></span><br><span class="line">    src = Path(args.src).resolve()</span><br><span class="line">    dst = Path(args.dst).resolve()</span><br><span class="line"></span><br><span class="line">    if not src.exists():</span><br><span class="line">        print(f&quot;Source folder not found: &#123;src&#125;&quot;)</span><br><span class="line">        sys.exit(1)</span><br><span class="line">    dst.mkdir(parents=True, exist_ok=True)</span><br><span class="line"></span><br><span class="line">    walk_and_compress(src, dst, args.limit, args.min_side, args.orientation)</span><br><span class="line"></span><br><span class="line">if __name__ == &quot;__main__&quot;:</span><br><span class="line">    main()</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è¿è¡Œå‘½ä»¤æ˜¯å‰å‡ è¡Œ</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># python compress_gallery.py --src .\gallery --dst .\gallery_5MB</span><br><span class="line"># python compress_gallery.py --src .\gallery --dst .\gallery_5MB --limit 5</span><br><span class="line"># python compress_gallery.py --src .\gallery --dst .\gallery_10MB --limit 10</span><br></pre></td></tr></table></figure><blockquote><p>è¿™é‡Œçš„ 5MB&#x2F;10MB æ˜¯æœ€åéœ€è¦é™åˆ¶çš„ç…§ç‰‡å¤§å°ï¼Œå¦‚æœæƒ³æ›¿æ¢åŸç›¸å†Œçš„è¯å°±æŠŠåé¢çš„.\gallery_5MBæˆ–è€….\gallery_10MBæ¢æˆæºç›®å½•.\gallery</p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;hexoé…ç½®ç›¸å†Œé¡µé¢&quot;&gt;&lt;a href=&quot;#hexoé…ç½®ç›¸å†Œé¡µé¢&quot; class=&quot;headerlink&quot; title=&quot;hexoé…ç½®ç›¸å†Œé¡µé¢&quot;&gt;&lt;/a&gt;hexoé…ç½®ç›¸å†Œé¡µé¢&lt;/h1&gt;&lt;blockquote&gt;
&lt;p&gt;ç›¸å†Œæ¼”ç¤ºåœ°å€:&lt;a href=&quot;https://w</summary>
      
    
    
    
    <category term="æ•™ç¨‹" scheme="https://wenjiew-astro.github.io/categories/%E6%95%99%E7%A8%8B/"/>
    
    <category term="Hexo" scheme="https://wenjiew-astro.github.io/categories/%E6%95%99%E7%A8%8B/Hexo/"/>
    
    
    <category term="æ•™ç¨‹" scheme="https://wenjiew-astro.github.io/tags/%E6%95%99%E7%A8%8B/"/>
    
    <category term="Hexo" scheme="https://wenjiew-astro.github.io/tags/Hexo/"/>
    
  </entry>
  
  <entry>
    <title>LaTeX å¦‚ä½•ç”¨ .bib æ’å…¥å‚è€ƒæ–‡çŒ®ï¼šä»å…¥é—¨åˆ°å…¥åœŸï¼ˆå«å®Œæ•´ç¤ºä¾‹ï¼‰</title>
    <link href="https://wenjiew-astro.github.io/2025/08/31/LaTeX%20%E5%A6%82%E4%BD%95%E7%94%A8%20.bib%20%E6%8F%92%E5%85%A5%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE%EF%BC%9A%E4%BB%8E%200%20%E5%88%B0%E5%8F%91%E5%B8%83%EF%BC%88%E5%90%AB%E5%AE%8C%E6%95%B4%E7%A4%BA%E4%BE%8B%EF%BC%89/"/>
    <id>https://wenjiew-astro.github.io/2025/08/31/LaTeX%20%E5%A6%82%E4%BD%95%E7%94%A8%20.bib%20%E6%8F%92%E5%85%A5%E5%8F%82%E8%80%83%E6%96%87%E7%8C%AE%EF%BC%9A%E4%BB%8E%200%20%E5%88%B0%E5%8F%91%E5%B8%83%EF%BC%88%E5%90%AB%E5%AE%8C%E6%95%B4%E7%A4%BA%E4%BE%8B%EF%BC%89/</id>
    <published>2025-08-31T07:00:00.000Z</published>
    <updated>2025-09-01T01:15:22.588Z</updated>
    
    <content type="html"><![CDATA[<h1 id="LaTeX-å¦‚ä½•ç”¨-bib-æ’å…¥å‚è€ƒæ–‡çŒ®ï¼šä»å…¥é—¨åˆ°å…¥åœŸï¼ˆå«å®Œæ•´ç¤ºä¾‹ï¼‰"><a href="#LaTeX-å¦‚ä½•ç”¨-bib-æ’å…¥å‚è€ƒæ–‡çŒ®ï¼šä»å…¥é—¨åˆ°å…¥åœŸï¼ˆå«å®Œæ•´ç¤ºä¾‹ï¼‰" class="headerlink" title="LaTeX å¦‚ä½•ç”¨ .bib æ’å…¥å‚è€ƒæ–‡çŒ®ï¼šä»å…¥é—¨åˆ°å…¥åœŸï¼ˆå«å®Œæ•´ç¤ºä¾‹ï¼‰"></a>LaTeX å¦‚ä½•ç”¨ .bib æ’å…¥å‚è€ƒæ–‡çŒ®ï¼šä»å…¥é—¨åˆ°å…¥åœŸï¼ˆå«å®Œæ•´ç¤ºä¾‹ï¼‰</h1><h2 id="1-åŸºæœ¬æ¦‚å¿µé€Ÿè§ˆ"><a href="#1-åŸºæœ¬æ¦‚å¿µé€Ÿè§ˆ" class="headerlink" title="1. åŸºæœ¬æ¦‚å¿µé€Ÿè§ˆ"></a>1. åŸºæœ¬æ¦‚å¿µé€Ÿè§ˆ</h2><ul><li><strong><code>.bib</code> æ–‡ä»¶</strong>ï¼šå‚è€ƒæ–‡çŒ®æ•°æ®åº“ï¼ˆçº¯æ–‡æœ¬ï¼‰ï¼Œç”±ä¸€æ¡æ¡ <code>@article&#123;...&#125;</code>ã€<code>@book&#123;...&#125;</code> ç­‰æ„æˆã€‚</li><li><strong>å¼•ç”¨å‘½ä»¤</strong>ï¼šåœ¨æ­£æ–‡ä¸­ç”¨ <code>\cite&#123;é”®&#125;</code>ã€<code>\citep&#123;é”®&#125;</code>ã€<code>\citet&#123;é”®&#125;</code> ç­‰è°ƒç”¨ã€‚</li><li><strong>æ ·å¼</strong>ï¼šå†³å®šæ–‡æœ«å‚è€ƒæ–‡çŒ®åˆ—è¡¨çš„æ ¼å¼ï¼ˆä½œè€…åã€æœŸåˆŠåã€å¹´ä»½ç­‰çš„æ’ç‰ˆï¼‰ã€‚</li><li><strong>ç¼–è¯‘é“¾</strong>ï¼š<ul><li>BibTeX è·¯çº¿ï¼š<code>pdflatex â†’ bibtex â†’ pdflatex â†’ pdflatex</code></li><li>biblatex è·¯çº¿ï¼š<code>pdflatex â†’ biber â†’ pdflatex â†’ pdflatex</code></li></ul></li></ul><hr><h2 id="2-è·¯çº¿-Aï¼šBibTeXï¼ˆç»å…¸ç¨³å®šï¼ŒæŠ•ç¨¿å‹å¥½ï¼‰"><a href="#2-è·¯çº¿-Aï¼šBibTeXï¼ˆç»å…¸ç¨³å®šï¼ŒæŠ•ç¨¿å‹å¥½ï¼‰" class="headerlink" title="2. è·¯çº¿ Aï¼šBibTeXï¼ˆç»å…¸ç¨³å®šï¼ŒæŠ•ç¨¿å‹å¥½ï¼‰"></a>2. è·¯çº¿ Aï¼šBibTeXï¼ˆç»å…¸ç¨³å®šï¼ŒæŠ•ç¨¿å‹å¥½ï¼‰</h2><h3 id="2-1-ç›®å½•ä¸æ–‡ä»¶ç»“æ„"><a href="#2-1-ç›®å½•ä¸æ–‡ä»¶ç»“æ„" class="headerlink" title="2.1 ç›®å½•ä¸æ–‡ä»¶ç»“æ„"></a>2.1 ç›®å½•ä¸æ–‡ä»¶ç»“æ„</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">project/</span><br><span class="line">â”œâ”€ main.tex        % ä¸»æ–‡æ¡£</span><br><span class="line">â”œâ”€ refs.bib        % ä½ çš„æ–‡çŒ®åº“</span><br><span class="line">â””â”€ aasjournal.bst  %ï¼ˆç¤ºä¾‹ï¼‰æœŸåˆŠæ ·å¼æ–‡ä»¶ï¼›ä¹Ÿå¯ç”¨ natbib + plainnat ç­‰</span><br></pre></td></tr></table></figure><blockquote><p>æ³¨ï¼šå¾ˆå¤šæœŸåˆŠä¼šæä¾› <code>.bst</code>ï¼ˆæ ·å¼ï¼‰ä¸ <code>.cls</code>ï¼ˆæ–‡æ¡£ç±»ï¼‰ï¼Œæ”¾åœ¨åŒç›®å½•æˆ– TEX è·¯å¾„å¯è§å¤„å³å¯ã€‚</p></blockquote><h3 id="2-2-bib-æ–‡ä»¶ç¤ºä¾‹ï¼ˆrefs-bibï¼‰"><a href="#2-2-bib-æ–‡ä»¶ç¤ºä¾‹ï¼ˆrefs-bibï¼‰" class="headerlink" title="2.2 .bib æ–‡ä»¶ç¤ºä¾‹ï¼ˆrefs.bibï¼‰"></a>2.2 <code>.bib</code> æ–‡ä»¶ç¤ºä¾‹ï¼ˆrefs.bibï¼‰</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">@article&#123;Willott1999,</span><br><span class="line">  author       = &#123;Willott, C. J. and others&#125;,</span><br><span class="line">  title        = &#123;The radio luminosity function...&#125;,</span><br><span class="line">  journal      = &#123;MNRAS&#125;,</span><br><span class="line">  year         = &#123;1999&#125;,</span><br><span class="line">  volume       = &#123;309&#125;,</span><br><span class="line">  pages        = &#123;1017--1033&#125;,</span><br><span class="line">  doi          = &#123;10.1046/j.1365-8711.1999.02900.x&#125;,</span><br><span class="line">  url          = &#123;https://doi.org/10.1046/j.1365-8711.1999.02900.x&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@book&#123;Lamport1994,</span><br><span class="line">  author       = &#123;Lamport, Leslie&#125;,</span><br><span class="line">  title        = &#123;LaTeX: A Document Preparation System&#125;,</span><br><span class="line">  publisher    = &#123;Addison-Wesley&#125;,</span><br><span class="line">  year         = &#123;1994&#125;,</span><br><span class="line">  edition      = &#123;2&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>æŠ€å·§ï¼šä» Google Scholarã€ADSã€Zoteroã€Mendeley å¯ç›´æ¥å¯¼å‡º BibTeXã€‚å¯¼å…¥æ—¶æ³¨æ„æ¸…ç†å­—æ®µï¼ˆå¦‚å¤šä½™çš„ html æ ‡è®°ï¼‰ã€‚</p></blockquote><h3 id="2-3-natbib-BibTeX-æœ€å°ç¤ºä¾‹ï¼ˆmain-texï¼‰"><a href="#2-3-natbib-BibTeX-æœ€å°ç¤ºä¾‹ï¼ˆmain-texï¼‰" class="headerlink" title="2.3 natbib + BibTeX æœ€å°ç¤ºä¾‹ï¼ˆmain.texï¼‰"></a>2.3 <code>natbib</code> + BibTeX æœ€å°ç¤ºä¾‹ï¼ˆmain.texï¼‰</h3><figure class="highlight latex"><table><tr><td class="code"><pre><span class="line"><span class="keyword">\documentclass</span>[11pt]&#123;article&#125;</span><br><span class="line"><span class="keyword">\usepackage</span>[utf8]&#123;inputenc&#125; <span class="comment">% ç°ä»£å‘è¡Œç‰ˆå¯çœç•¥</span></span><br><span class="line"><span class="keyword">\usepackage</span>[T1]&#123;fontenc&#125;</span><br><span class="line"><span class="keyword">\usepackage</span>&#123;lmodern&#125;</span><br><span class="line"><span class="keyword">\usepackage</span>&#123;natbib&#125;</span><br><span class="line"><span class="keyword">\bibliographystyle</span>&#123;plainnat&#125; <span class="comment">% ä¹Ÿå¯æ¢æˆæœŸåˆŠç»™çš„ .bstï¼Œå¦‚ aasjournal</span></span><br><span class="line"><span class="keyword">\usepackage</span>[colorlinks=true,linkcolor=blue,citecolor=blue]&#123;hyperref&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">\title</span>&#123;BibTeX å…¥é—¨ç¤ºä¾‹&#125;</span><br><span class="line"><span class="keyword">\author</span>&#123;Your Name&#125;</span><br><span class="line"><span class="keyword">\date</span>&#123;<span class="keyword">\today</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">\begin</span>&#123;document&#125;</span><br><span class="line"><span class="keyword">\maketitle</span></span><br><span class="line"></span><br><span class="line">æ­£æ–‡ä¸­å¯ä»¥è¿™æ ·å¼•ç”¨ï¼š<span class="keyword">\citet</span>&#123;Willott1999&#125; æŒ‡å‡ºâ€¦â€¦ï¼›</span><br><span class="line">æˆ–æ‹¬å·å¼•ç”¨ï¼šæ˜Ÿç³»å°„ç”µåŠŸç‡ä¸ç¯å¢ƒæœ‰å…³ï¼ˆ<span class="keyword">\citealp</span>&#123;Willott1999&#125;ï¼‰ã€‚</span><br><span class="line">å†å¼•ä¸€æœ¬ä¹¦ <span class="keyword">\citep</span>&#123;Lamport1994&#125;ã€‚</span><br><span class="line"></span><br><span class="line"><span class="comment">% ç”Ÿæˆå‚è€ƒæ–‡çŒ®åˆ—è¡¨</span></span><br><span class="line"><span class="keyword">\bibliography</span>&#123;refs&#125; <span class="comment">% å¯¹åº” refs.bib</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">\end</span>&#123;document&#125;</span><br></pre></td></tr></table></figure><h3 id="2-4-å¸¸ç”¨-natbib-å¼•ç”¨å‘½ä»¤"><a href="#2-4-å¸¸ç”¨-natbib-å¼•ç”¨å‘½ä»¤" class="headerlink" title="2.4 å¸¸ç”¨ natbib å¼•ç”¨å‘½ä»¤"></a>2.4 å¸¸ç”¨ <code>natbib</code> å¼•ç”¨å‘½ä»¤</h3><ul><li><code>\citet&#123;é”®&#125;</code>ï¼šä½œè€…ååœ¨å¥ä¸­ï¼ˆAuthor (Year)ï¼‰</li><li><code>\citep&#123;é”®&#125;</code>ï¼šæ‹¬å·å¼•ç”¨ï¼ˆ(Author, Year)ï¼‰</li><li><code>\citealp&#123;é”®&#125;</code>ï¼šæ— æ‹¬å·å¤–å£³çš„å¼•ç”¨ï¼ˆAuthor, Yearï¼‰</li><li><code>\citeyear&#123;é”®&#125;</code>ï¼šåªå¹´ä»½</li><li><code>\citeauthor&#123;é”®&#125;</code>ï¼šåªä½œè€…</li></ul><blockquote><p>é€‰æ‹©ä¸åŒçš„ <code>\bibliographystyle&#123;...&#125;</code>ï¼ˆå¦‚ <code>plainnat</code>ã€<code>unsrtnat</code>ã€<code>apalike</code>ã€æœŸåˆŠ <code>.bst</code>ï¼‰ä¼šæ”¹å˜æœ€ç»ˆæ ¼å¼ã€‚</p></blockquote><h3 id="2-5-ç¼–è¯‘æ­¥éª¤ï¼ˆæœ¬åœ°-TeX-Live-MiKTeXï¼‰"><a href="#2-5-ç¼–è¯‘æ­¥éª¤ï¼ˆæœ¬åœ°-TeX-Live-MiKTeXï¼‰" class="headerlink" title="2.5 ç¼–è¯‘æ­¥éª¤ï¼ˆæœ¬åœ° TeX Live&#x2F;MiKTeXï¼‰"></a>2.5 ç¼–è¯‘æ­¥éª¤ï¼ˆæœ¬åœ° TeX Live&#x2F;MiKTeXï¼‰</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pdflatex main</span><br><span class="line">bibtex main</span><br><span class="line">pdflatex main</span><br><span class="line">pdflatex main</span><br></pre></td></tr></table></figure><blockquote><p>Overleafï¼šèœå•é€‰æ‹© <strong>Compiler</strong> ä¸º pdfLaTeXï¼Œç‚¹å‡» Recompileï¼›é¦–æ¬¡éœ€è¦è®© Overleaf è§¦å‘ <code>bibtex</code>ï¼Œä¸€èˆ¬è‡ªåŠ¨å®Œæˆã€‚</p></blockquote><hr><h2 id="3-è·¯çº¿-Bï¼šbiblatex-biberï¼ˆåŠŸèƒ½å¼ºã€ä¸­æ–‡å‹å¥½ã€Web-å­—æ®µä¸°å¯Œï¼‰"><a href="#3-è·¯çº¿-Bï¼šbiblatex-biberï¼ˆåŠŸèƒ½å¼ºã€ä¸­æ–‡å‹å¥½ã€Web-å­—æ®µä¸°å¯Œï¼‰" class="headerlink" title="3. è·¯çº¿ Bï¼šbiblatex + biberï¼ˆåŠŸèƒ½å¼ºã€ä¸­æ–‡å‹å¥½ã€Web å­—æ®µä¸°å¯Œï¼‰"></a>3. è·¯çº¿ Bï¼šbiblatex + biberï¼ˆåŠŸèƒ½å¼ºã€ä¸­æ–‡å‹å¥½ã€Web å­—æ®µä¸°å¯Œï¼‰</h2><h3 id="3-1-bib-æ–‡ä»¶å¯ä¸ä¸Šæ–‡ç›¸åŒï¼ˆrefs-bibï¼‰"><a href="#3-1-bib-æ–‡ä»¶å¯ä¸ä¸Šæ–‡ç›¸åŒï¼ˆrefs-bibï¼‰" class="headerlink" title="3.1 .bib æ–‡ä»¶å¯ä¸ä¸Šæ–‡ç›¸åŒï¼ˆrefs.bibï¼‰"></a>3.1 <code>.bib</code> æ–‡ä»¶å¯ä¸ä¸Šæ–‡ç›¸åŒï¼ˆrefs.bibï¼‰</h3><h3 id="3-2-æœ€å°ç¤ºä¾‹ï¼ˆmain-texï¼‰"><a href="#3-2-æœ€å°ç¤ºä¾‹ï¼ˆmain-texï¼‰" class="headerlink" title="3.2 æœ€å°ç¤ºä¾‹ï¼ˆmain.texï¼‰"></a>3.2 æœ€å°ç¤ºä¾‹ï¼ˆmain.texï¼‰</h3><figure class="highlight latex"><table><tr><td class="code"><pre><span class="line"><span class="keyword">\documentclass</span>[11pt]&#123;article&#125;</span><br><span class="line"><span class="keyword">\usepackage</span>[utf8]&#123;inputenc&#125;</span><br><span class="line"><span class="keyword">\usepackage</span>[T1]&#123;fontenc&#125;</span><br><span class="line"><span class="keyword">\usepackage</span>&#123;lmodern&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">% å…³é”®ï¼šåŠ è½½ biblatexï¼Œåç«¯ç”¨ biber</span></span><br><span class="line"><span class="keyword">\usepackage</span>[backend=biber,style=authoryear,sorting=nyt,maxbibnames=99]&#123;biblatex&#125;</span><br><span class="line"><span class="keyword">\addbibresource</span>&#123;refs.bib&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">\usepackage</span>[colorlinks=true,linkcolor=blue,citecolor=blue]&#123;hyperref&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">\title</span>&#123;biblatex + biber å…¥é—¨ç¤ºä¾‹&#125;</span><br><span class="line"><span class="keyword">\author</span>&#123;Your Name&#125;</span><br><span class="line"><span class="keyword">\date</span>&#123;<span class="keyword">\today</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">\begin</span>&#123;document&#125;</span><br><span class="line"><span class="keyword">\maketitle</span></span><br><span class="line"></span><br><span class="line">å¥ä¸­å¼•ç”¨ï¼š<span class="keyword">\textcite</span>&#123;Willott1999&#125;ï¼›æ‹¬å·å¼•ç”¨ï¼š<span class="keyword">\parencite</span>&#123;Lamport1994&#125;ã€‚</span><br><span class="line">ä¹Ÿå¯ä»¥ä¸€æ¬¡å¼•ç”¨å¤šç¯‡ <span class="keyword">\parencite</span>&#123;Willott1999,Lamport1994&#125;ã€‚</span><br><span class="line"></span><br><span class="line"><span class="comment">% ç”Ÿæˆå‚è€ƒæ–‡çŒ®åˆ—è¡¨</span></span><br><span class="line"><span class="keyword">\printbibliography</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">\end</span>&#123;document&#125;</span><br></pre></td></tr></table></figure><h3 id="3-3-å¸¸ç”¨-biblatex-å¼•ç”¨å‘½ä»¤"><a href="#3-3-å¸¸ç”¨-biblatex-å¼•ç”¨å‘½ä»¤" class="headerlink" title="3.3 å¸¸ç”¨ biblatex å¼•ç”¨å‘½ä»¤"></a>3.3 å¸¸ç”¨ <code>biblatex</code> å¼•ç”¨å‘½ä»¤</h3><ul><li><code>\parencite&#123;é”®&#125;</code>ï¼šæ‹¬å·å¼•ç”¨</li><li><code>\textcite&#123;é”®&#125;</code>ï¼šä½œè€…åèå…¥æ­£æ–‡</li><li><code>\footcite&#123;é”®&#125;</code>ï¼šè„šæ³¨å¼•ç”¨</li><li><code>\citeauthor&#123;é”®&#125;</code>ã€<code>\citeyear&#123;é”®&#125;</code> åŒç†å¯ç”¨</li></ul><h3 id="3-4-ç¼–è¯‘æ­¥éª¤"><a href="#3-4-ç¼–è¯‘æ­¥éª¤" class="headerlink" title="3.4 ç¼–è¯‘æ­¥éª¤"></a>3.4 ç¼–è¯‘æ­¥éª¤</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pdflatex main</span><br><span class="line">biber main</span><br><span class="line">pdflatex main</span><br><span class="line">pdflatex main</span><br></pre></td></tr></table></figure><blockquote><p>Overleafï¼šèœå•è®¾ç½® <strong>Biber</strong> ä¸ºåç«¯ï¼ˆProject â†’ Settings â†’ Compilerï¼špdfLaTeXï¼›Biber enabledï¼‰ã€‚é¦–æ¬¡ç¼–è¯‘å Overleaf ä¼šè‡ªåŠ¨è¿è¡Œ biberã€‚</p></blockquote><hr><h2 id="4-é€‰æ‹©å“ªæ¡è·¯çº¿ï¼Ÿ"><a href="#4-é€‰æ‹©å“ªæ¡è·¯çº¿ï¼Ÿ" class="headerlink" title="4. é€‰æ‹©å“ªæ¡è·¯çº¿ï¼Ÿ"></a>4. é€‰æ‹©å“ªæ¡è·¯çº¿ï¼Ÿ</h2><ul><li><strong>æŠ•ç¨¿&#x2F;è·ŸéšæœŸåˆŠæ¨¡ç‰ˆ</strong>ï¼šé€šå¸¸ç”¨ <strong>BibTeX</strong> + æœŸåˆŠ <code>.bst</code>ï¼›å¾ˆå¤šå¤©æ–‡ã€ç‰©ç†æœŸåˆŠï¼ˆAASã€MNRASã€A&amp;Aï¼‰ä¼ ç»Ÿä¸Šå°±æ˜¯è¿™ä¸ªã€‚</li><li><strong>ä¸ªäººè®ºæ–‡&#x2F;è®²ä¹‰&#x2F;ä¸­æ–‡ç¯å¢ƒæ›´å‹å¥½</strong>ï¼šæ¨è <strong>biblatex + biber</strong>ï¼ˆå¯ç©æ€§å¼ºï¼Œå­—æ®µæ›´å…¨ï¼Œåˆ†ç»„&#x2F;è¿‡æ»¤æ›´çµæ´»ï¼‰ã€‚</li><li><strong>å·²æœ‰å¤§é‡è€é¡¹ç›®</strong>ï¼šç»§ç»­ç”¨ BibTeX ä¹Ÿå¾ˆå¥½ï¼Œç¨³å®šå¯é ã€‚</li></ul><hr><h2 id="5-å¤„ç†ä¸­æ–‡ä¸ç¼–ç "><a href="#5-å¤„ç†ä¸­æ–‡ä¸ç¼–ç " class="headerlink" title="5. å¤„ç†ä¸­æ–‡ä¸ç¼–ç "></a>5. å¤„ç†ä¸­æ–‡ä¸ç¼–ç </h2><ul><li>ç°ä»£ TeX Live ä¸‹ï¼Œå»ºè®®ç”¨ <code>xelatex</code> æˆ– <code>lualatex</code> ç¼–è¯‘ï¼Œå¹¶é…åˆ <code>biblatex + biber</code>ï¼š</li></ul><figure class="highlight latex"><table><tr><td class="code"><pre><span class="line"><span class="keyword">\documentclass</span>&#123;article&#125;</span><br><span class="line"><span class="keyword">\usepackage</span>&#123;fontspec&#125;</span><br><span class="line"><span class="keyword">\usepackage</span>[backend=biber,style=authoryear]&#123;biblatex&#125;</span><br><span class="line"><span class="keyword">\addbibresource</span>&#123;refs.bib&#125;</span><br><span class="line"><span class="keyword">\setmainfont</span>&#123;Times New Roman&#125; <span class="comment">% æˆ–ä»»æ„ç³»ç»Ÿå­—ä½“</span></span><br><span class="line"><span class="keyword">\begin</span>&#123;document&#125;</span><br><span class="line">ä¸­æ–‡æµ‹è¯•ï¼š<span class="keyword">\textcite</span>&#123;Lamport1994&#125;ã€‚</span><br><span class="line"><span class="keyword">\printbibliography</span></span><br><span class="line"><span class="keyword">\end</span>&#123;document&#125;</span><br></pre></td></tr></table></figure><ul><li>BibTeX å¤„ç†ä¸­æ–‡è¾ƒéº»çƒ¦ï¼Œéœ€è¦ <code>gbt7714</code> ç­‰æ ·å¼æˆ–å°†ä¸­æ–‡è½¬æ‹¼éŸ³æ’åºï¼›è‹¥éœ€å›½æ ‡æ ¼å¼ï¼Œå¯ç”¨ <code>\usepackage[backend=biber,style=gb7714-2015]&#123;biblatex&#125;</code>ï¼ˆéœ€å®‰è£… <code>biblatex-gb7714-2015</code> å¥—ä»¶ï¼‰ã€‚</li></ul><hr><h2 id="6-å¸¸è§æ¡ç›®ç±»å‹ä¸å­—æ®µï¼ˆé€ŸæŸ¥ï¼‰"><a href="#6-å¸¸è§æ¡ç›®ç±»å‹ä¸å­—æ®µï¼ˆé€ŸæŸ¥ï¼‰" class="headerlink" title="6. å¸¸è§æ¡ç›®ç±»å‹ä¸å­—æ®µï¼ˆé€ŸæŸ¥ï¼‰"></a>6. å¸¸è§æ¡ç›®ç±»å‹ä¸å­—æ®µï¼ˆé€ŸæŸ¥ï¼‰</h2><ul><li><code>@article</code>ï¼š<code>author</code>, <code>title</code>, <code>journal</code>, <code>year</code>, <code>volume</code>, <code>number</code>, <code>pages</code>, <code>doi</code>, <code>url</code></li><li><code>@book</code>ï¼š<code>author/editor</code>, <code>title</code>, <code>publisher</code>, <code>year</code>, <code>edition</code></li><li><code>@inproceedings</code>ï¼š<code>author</code>, <code>title</code>, <code>booktitle</code>, <code>year</code>, <code>pages</code></li><li><code>@misc</code>ï¼šä¸‡é‡‘æ²¹ï¼›å¯æ”¾ <code>howpublished</code>, <code>note</code>, <code>url</code>, <code>doi</code>, <code>eprint</code>ï¼ˆarXivï¼‰</li><li><code>@phdthesis</code> &#x2F; <code>@mastersthesis</code>ï¼š<code>author</code>, <code>title</code>, <code>school</code>, <code>year</code></li></ul><blockquote><p><strong>arXiv</strong>ï¼šå¯ç”¨ <code>eprint=&#123;arXiv:XXXX.XXXXX&#125;</code>, <code>archivePrefix=&#123;arXiv&#125;</code>, <code>primaryClass=&#123;astro-ph.GA&#125;</code> ç­‰å­—æ®µï¼ˆbiblatex å¯¹ eprint æ”¯æŒæ›´å¥½ï¼‰ã€‚</p></blockquote><hr><h2 id="7-æ‰¹é‡ç®¡ç†æ–‡çŒ®çš„å®ç”¨å»ºè®®"><a href="#7-æ‰¹é‡ç®¡ç†æ–‡çŒ®çš„å®ç”¨å»ºè®®" class="headerlink" title="7. æ‰¹é‡ç®¡ç†æ–‡çŒ®çš„å®ç”¨å»ºè®®"></a>7. æ‰¹é‡ç®¡ç†æ–‡çŒ®çš„å®ç”¨å»ºè®®</h2><ul><li><strong>Zotero &#x2F; Mendeley</strong> ç®¡åº“ â†’ å¯¼å‡º <code>.bib</code> åˆ°é¡¹ç›®ç›®å½•ã€‚</li><li>ç»™æ–‡çŒ®<strong>ç¨³å®šçš„ citation key</strong>ï¼ˆå¦‚ <code>AuthorYearTitleKey</code>ï¼‰ï¼Œé¿å…ä¸åŒååŒå¹´å†²çªï¼ˆå¿…è¦æ—¶åŠ  <code>a,b,c</code>ï¼‰ã€‚</li><li>å®šæœŸæ¸…ç† <code>.bib</code>ï¼šå»æ‰æ— ç”¨å­—æ®µï¼ˆ<code>abstract</code>ã€<code>file</code>ã€<code>urldate</code> ç­‰ï¼ŒæŒ‰éœ€ï¼‰ã€‚</li></ul><hr><h2 id="8-å¸¸è§æŠ¥é”™ä¸æ’æŸ¥"><a href="#8-å¸¸è§æŠ¥é”™ä¸æ’æŸ¥" class="headerlink" title="8. å¸¸è§æŠ¥é”™ä¸æ’æŸ¥"></a>8. å¸¸è§æŠ¥é”™ä¸æ’æŸ¥</h2><ol><li><strong>â€œCitation <code>xxx</code> undefinedâ€</strong><ul><li>é”®ä¸å­˜åœ¨&#x2F;æ‹¼å†™é”™è¯¯ï¼›æˆ–å¿˜è®°åœ¨ <code>.tex</code> ä¸­ <code>\bibliography&#123;refs&#125;</code> &#x2F; <code>\addbibresource&#123;refs.bib&#125;</code>ã€‚</li><li>æ²¡æœ‰æŒ‰æ­£ç¡®é¡ºåºå¤šæ¬¡ç¼–è¯‘ï¼ˆè§ç¬¬ 2.5&#x2F;3.4 æ­¥éª¤ï¼‰ã€‚</li></ul></li><li><strong>å‚è€ƒæ–‡çŒ®ä¸æ˜¾ç¤º&#x2F;è€ç‰ˆæœ¬</strong><ul><li>å¿˜äº†è¿è¡Œ <code>bibtex</code>&#x2F;<code>biber</code>ï¼›æˆ– <code>.aux/.bbl/.bcf</code> ç­‰ä¸­é—´æ–‡ä»¶æ®‹ç•™å¯¼è‡´ã€‚</li><li>è§£å†³ï¼šåˆ ä¸­é—´æ–‡ä»¶é‡æ–°ç¼–è¯‘ï¼Œæˆ–æŒ‰é¡ºåºå®Œæ•´è·‘ä¸€éã€‚</li></ul></li><li><strong><code>biber</code> not found &#x2F; biblatex æŠ¥é”™</strong><ul><li>æœ¬åœ°æ²¡è£… <code>biber</code> æˆ– PATH æœªé…ç½®ï¼›Overleaf éœ€åœ¨è®¾ç½®é‡Œå¯ç”¨ biberã€‚</li></ul></li><li><strong>ä¸­æ–‡ä¹±ç &#x2F;é—®å·</strong><ul><li>ç”¨ <code>xelatex</code>&#x2F;<code>lualatex</code> + <code>biblatex + biber</code>ï¼›æˆ–æ£€æŸ¥ <code>.bib</code> çš„ UTF-8 ç¼–ç ã€‚</li></ul></li><li><strong>æ ·å¼ä¸åˆæœŸåˆŠè¦æ±‚</strong><ul><li>ä½¿ç”¨æœŸåˆŠæä¾›çš„ <code>.bst</code>ï¼ˆBibTeXï¼‰æˆ–å®˜æ–¹æ–‡æ¡£æ¨èçš„ <code>biblatex</code> æ ·å¼ã€‚</li><li>æŸäº›æœŸåˆŠä»…æ¥å— BibTeX æ ¼å¼çš„ <code>.bbl</code>ï¼ŒæŒ‰å…¶è¦æ±‚ç”Ÿæˆå³å¯ã€‚</li></ul></li></ol><hr><h2 id="9-è¿›é˜¶ï¼šåŒä¸€æ–‡çŒ®å¤šæ¬¡å¼•ç”¨ã€é™„åŠ é¡µç ã€å‰åç¼€"><a href="#9-è¿›é˜¶ï¼šåŒä¸€æ–‡çŒ®å¤šæ¬¡å¼•ç”¨ã€é™„åŠ é¡µç ã€å‰åç¼€" class="headerlink" title="9. è¿›é˜¶ï¼šåŒä¸€æ–‡çŒ®å¤šæ¬¡å¼•ç”¨ã€é™„åŠ é¡µç ã€å‰åç¼€"></a>9. è¿›é˜¶ï¼šåŒä¸€æ–‡çŒ®å¤šæ¬¡å¼•ç”¨ã€é™„åŠ é¡µç ã€å‰åç¼€</h2><ul><li><strong>natbib</strong>ï¼š<ul><li><code>\citep[è§][p.~12]&#123;Willott1999&#125;</code> â†’ (è§ Willott et al., 1999, p. 12)</li><li><code>\citep[ä¾‹å¦‚][]&#123;Willott1999&#125;</code>ã€<code>\citet[ç¬¬2èŠ‚]&#123;Willott1999&#125;</code></li></ul></li><li><strong>biblatex</strong>ï¼š<ul><li><code>\parencite[è§][12]&#123;Willott1999&#125;</code></li><li><code>\parencite[ä¾‹å¦‚][]&#123;Willott1999&#125;</code></li><li><code>\textcite[Â§2]&#123;Willott1999&#125;</code></li></ul></li></ul><hr><h2 id="10-åœ¨åšå®¢ä¸­å±•ç¤º"><a href="#10-åœ¨åšå®¢ä¸­å±•ç¤º" class="headerlink" title="10. åœ¨åšå®¢ä¸­å±•ç¤º"></a>10. åœ¨åšå®¢ä¸­å±•ç¤º</h2><ul><li>ç”¨ Markdown ä»£ç å—ç²˜è´´ <code>.tex</code>ã€<code>.bib</code> ç¤ºä¾‹ï¼ˆä¸æœ¬æ–‡ç›¸åŒåšæ³•ï¼‰ã€‚</li><li>è‹¥åšå®¢æ”¯æŒæ¸²æŸ“å…¬å¼ï¼ˆKaTeX&#x2F;MathJaxï¼‰ï¼Œä¾ç„¶å»ºè®®ç»™å‡º <strong>å¯å¤åˆ¶çš„æºç </strong>ï¼Œæ–¹ä¾¿è¯»è€…æœ¬åœ°æµ‹è¯•ã€‚</li><li>å¯é™„ä¸€å¼ ç¼–è¯‘æµç¨‹å›¾æˆ–å‘½ä»¤è¡Œç‰‡æ®µï¼ˆè§ä¸Šæ–‡ç¼–è¯‘å‘½ä»¤ï¼‰ã€‚</li></ul><hr><h2 id="11-å®Œæ•´å¯è¿è¡Œç¤ºä¾‹ï¼ˆä¸¤å¥—å„ç»™ä¸€ä»½ï¼‰"><a href="#11-å®Œæ•´å¯è¿è¡Œç¤ºä¾‹ï¼ˆä¸¤å¥—å„ç»™ä¸€ä»½ï¼‰" class="headerlink" title="11. å®Œæ•´å¯è¿è¡Œç¤ºä¾‹ï¼ˆä¸¤å¥—å„ç»™ä¸€ä»½ï¼‰"></a>11. å®Œæ•´å¯è¿è¡Œç¤ºä¾‹ï¼ˆä¸¤å¥—å„ç»™ä¸€ä»½ï¼‰</h2><h3 id="11-1-BibTeX-natbib-ç‰ˆ"><a href="#11-1-BibTeX-natbib-ç‰ˆ" class="headerlink" title="11.1 BibTeX + natbib ç‰ˆ"></a>11.1 BibTeX + natbib ç‰ˆ</h3><p><strong>main.tex</strong></p><figure class="highlight latex"><table><tr><td class="code"><pre><span class="line"><span class="keyword">\documentclass</span>[11pt]&#123;article&#125;</span><br><span class="line"><span class="keyword">\usepackage</span>[T1]&#123;fontenc&#125;</span><br><span class="line"><span class="keyword">\usepackage</span>&#123;lmodern&#125;</span><br><span class="line"><span class="keyword">\usepackage</span>&#123;natbib&#125;</span><br><span class="line"><span class="keyword">\bibliographystyle</span>&#123;plainnat&#125;</span><br><span class="line"><span class="keyword">\usepackage</span>[colorlinks=true,linkcolor=blue,citecolor=blue]&#123;hyperref&#125;</span><br><span class="line"><span class="keyword">\title</span>&#123;BibTeX + natbib ç¤ºä¾‹&#125;</span><br><span class="line"><span class="keyword">\author</span>&#123;Your Name&#125;</span><br><span class="line"><span class="keyword">\date</span>&#123;<span class="keyword">\today</span>&#125;</span><br><span class="line"><span class="keyword">\begin</span>&#123;document&#125;</span><br><span class="line"><span class="keyword">\maketitle</span></span><br><span class="line"></span><br><span class="line">å¦‚ <span class="keyword">\citet</span>&#123;Willott1999&#125; æ‰€ç¤ºï¼Œç›¸å…³å…³ç³»â€¦â€¦ï¼ˆ<span class="keyword">\citealp</span>&#123;Lamport1994&#125;ï¼‰ã€‚</span><br><span class="line">å¤šæ¡åŒæ—¶å¼•ç”¨ï¼š<span class="keyword">\citep</span>&#123;Willott1999,Lamport1994&#125;ã€‚</span><br><span class="line"></span><br><span class="line"><span class="keyword">\bibliography</span>&#123;refs&#125;</span><br><span class="line"><span class="keyword">\end</span>&#123;document&#125;</span><br></pre></td></tr></table></figure><p><strong>refs.bib</strong></p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">@article&#123;Willott1999,</span><br><span class="line">  author  = &#123;Willott, C. J. and Rawlings, S. and Blundell, K. M. and Lacy, M.&#125;,</span><br><span class="line">  title   = &#123;The emission line-radio correlation...&#125;,</span><br><span class="line">  journal = &#123;MNRAS&#125;,</span><br><span class="line">  year    = &#123;1999&#125;,</span><br><span class="line">  volume  = &#123;309&#125;,</span><br><span class="line">  pages   = &#123;1017--1033&#125;,</span><br><span class="line">  doi     = &#123;10.1046/j.1365-8711.1999.02900.x&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@book&#123;Lamport1994,</span><br><span class="line">  author    = &#123;Lamport, Leslie&#125;,</span><br><span class="line">  title     = &#123;LaTeX: A Document Preparation System&#125;,</span><br><span class="line">  publisher = &#123;Addison-Wesley&#125;,</span><br><span class="line">  year      = &#123;1994&#125;,</span><br><span class="line">  edition   = &#123;2&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ç¼–è¯‘</strong></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pdflatex main</span><br><span class="line">bibtex main</span><br><span class="line">pdflatex main</span><br><span class="line">pdflatex main</span><br></pre></td></tr></table></figure><hr><h3 id="11-2-biblatex-biber-ç‰ˆ"><a href="#11-2-biblatex-biber-ç‰ˆ" class="headerlink" title="11.2 biblatex + biber ç‰ˆ"></a>11.2 biblatex + biber ç‰ˆ</h3><p><strong>main.tex</strong></p><figure class="highlight latex"><table><tr><td class="code"><pre><span class="line"><span class="keyword">\documentclass</span>[11pt]&#123;article&#125;</span><br><span class="line"><span class="keyword">\usepackage</span>&#123;fontspec&#125; <span class="comment">% è‹¥ä»…è‹±æ–‡å¯ä¸ç”¨</span></span><br><span class="line"><span class="keyword">\usepackage</span>[backend=biber,style=authoryear,sorting=nyt]&#123;biblatex&#125;</span><br><span class="line"><span class="keyword">\addbibresource</span>&#123;refs.bib&#125;</span><br><span class="line"><span class="keyword">\usepackage</span>[colorlinks=true,linkcolor=blue,citecolor=blue]&#123;hyperref&#125;</span><br><span class="line"><span class="keyword">\title</span>&#123;biblatex + biber ç¤ºä¾‹&#125;</span><br><span class="line"><span class="keyword">\author</span>&#123;Your Name&#125;</span><br><span class="line"><span class="keyword">\date</span>&#123;<span class="keyword">\today</span>&#125;</span><br><span class="line"><span class="keyword">\begin</span>&#123;document&#125;</span><br><span class="line"><span class="keyword">\maketitle</span></span><br><span class="line"></span><br><span class="line">å¥ä¸­ï¼š<span class="keyword">\textcite</span>&#123;Willott1999&#125;ï¼›æ‹¬å·ï¼š<span class="keyword">\parencite</span>&#123;Lamport1994&#125;ï¼›</span><br><span class="line">å¤šæ¡ï¼š<span class="keyword">\parencite</span>&#123;Willott1999,Lamport1994&#125;ã€‚</span><br><span class="line">å¸¦é¡µç ï¼š<span class="keyword">\parencite</span>[12]&#123;Lamport1994&#125;ã€‚</span><br><span class="line"></span><br><span class="line"><span class="keyword">\printbibliography</span></span><br><span class="line"><span class="keyword">\end</span>&#123;document&#125;</span><br></pre></td></tr></table></figure><p><strong>refs.bib</strong>ï¼ˆåŒä¸Šï¼‰</p><p><strong>ç¼–è¯‘</strong></p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pdflatex main</span><br><span class="line">biber main</span><br><span class="line">pdflatex main</span><br><span class="line">pdflatex main</span><br></pre></td></tr></table></figure><hr><h2 id="12-FAQ-å¿«é€Ÿè§£æƒ‘"><a href="#12-FAQ-å¿«é€Ÿè§£æƒ‘" class="headerlink" title="12. FAQ å¿«é€Ÿè§£æƒ‘"></a>12. FAQ å¿«é€Ÿè§£æƒ‘</h2><ul><li><p><strong>Qï¼šæœŸåˆŠè¦æ±‚æä¾› <code>.bbl</code>ï¼Œæ€ä¹ˆå¼„ï¼Ÿ</strong><br>Aï¼šèµ° BibTeX æµç¨‹ï¼Œç¼–è¯‘åç”Ÿæˆçš„ <code>main.bbl</code> å³å¯æäº¤ã€‚biblatex è·¯çº¿æœ‰æ—¶ä¸è¢«ä¼ ç»Ÿæµç¨‹æ¥å—ã€‚</p></li><li><p><strong>Qï¼šåŒä¸€ä½œè€…åŒä¸€å¹´å¤šç¯‡ <code>[2019a, 2019b]</code> å¦‚ä½•è‡ªåŠ¨æ·»åŠ  a&#x2F;bï¼Ÿ</strong><br>Aï¼š<code>natbib</code> ä¸ <code>biblatex</code> éƒ½ä¼šè‡ªåŠ¨åŒºåˆ†ï¼›å…³é”®åœ¨äºæ¡ç›®çš„ <code>year</code> ä¸ä½œè€…ç›¸åŒï¼Œç³»ç»Ÿä¼šè¿½åŠ å­—æ¯ã€‚</p></li><li><p><strong>Qï¼šå¦‚ä½•æ˜¾ç¤º DOI&#x2F;URLï¼Ÿ</strong><br>Aï¼š<code>biblatex</code> é»˜è®¤æ›´å‹å¥½ï¼›BibTeX éœ€æ ·å¼æ”¯æŒï¼ˆå¦‚ <code>plainurl</code>ã€<code>apalike</code> çš„æ”¹æ¬¾ã€æˆ–æœŸåˆŠ <code>.bst</code>ï¼‰ã€‚<br>åœ¨ <code>biblatex</code> ä¸‹ï¼Œå¯ <code>\usepackage[doi=true,url=true]&#123;biblatex&#125;</code>ï¼ˆæˆ–æ ·å¼æœ¬èº«å·²å¼€å¯ï¼‰ã€‚</p></li><li><p><strong>Qï¼šæˆ‘éœ€è¦ GB&#x2F;T 7714 å›½æ ‡æ ¼å¼ï¼Ÿ</strong><br>Aï¼šæ¨è <code>biblatex-gb7714-2015</code>ï¼š</p><figure class="highlight latex"><table><tr><td class="code"><pre><span class="line"><span class="keyword">\usepackage</span>[backend=biber,style=gb7714-2015]&#123;biblatex&#125;</span><br></pre></td></tr></table></figure></li></ul><hr><h2 id="13-ä¸€é”®æ’é”™æ¸…å•ï¼ˆè´´å¢™ç”¨ï¼‰"><a href="#13-ä¸€é”®æ’é”™æ¸…å•ï¼ˆè´´å¢™ç”¨ï¼‰" class="headerlink" title="13. ä¸€é”®æ’é”™æ¸…å•ï¼ˆè´´å¢™ç”¨ï¼‰"></a>13. ä¸€é”®æ’é”™æ¸…å•ï¼ˆè´´å¢™ç”¨ï¼‰</h2><ol><li>æ£€æŸ¥ <strong>citation key</strong> æ˜¯å¦ä¸€è‡´ï¼ˆ<code>\cite&#123;é”®&#125;</code> ä¸ <code>.bib</code> ä¸­çš„ <code>@...&#123;é”®, ...&#125;</code>ï¼‰ã€‚</li><li>è·‘å¯¹ <strong>ç¼–è¯‘é¡ºåº</strong>ï¼ˆBibTeX vs biberï¼‰ã€‚</li><li>åˆ ä¸­é—´æ–‡ä»¶ï¼ˆ<code>.aux .bbl .bcf .blg .run.xml</code> ç­‰ï¼‰åé‡ç¼–ã€‚</li><li>ç¡®è®¤ Overleaf&#x2F;æœ¬åœ° <strong>åç«¯è®¾ç½®</strong>ï¼ˆbiber æ˜¯å¦å¼€å¯ï¼‰ã€‚</li><li>ç¡®è®¤ <strong>ç¼–ç </strong> ä¸º UTF-8ï¼›ä¸­æ–‡å»ºè®®ç”¨ <code>xelatex</code> + <code>biblatex</code>ã€‚</li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;LaTeX-å¦‚ä½•ç”¨-bib-æ’å…¥å‚è€ƒæ–‡çŒ®ï¼šä»å…¥é—¨åˆ°å…¥åœŸï¼ˆå«å®Œæ•´ç¤ºä¾‹ï¼‰&quot;&gt;&lt;a href=&quot;#LaTeX-å¦‚ä½•ç”¨-bib-æ’å…¥å‚è€ƒæ–‡çŒ®ï¼šä»å…¥é—¨åˆ°å…¥åœŸï¼ˆå«å®Œæ•´ç¤ºä¾‹ï¼‰&quot; class=&quot;headerlink&quot; title=&quot;LaTeX å¦‚ä½•ç”¨ .bib æ’å…¥å‚è€ƒæ–‡çŒ®ï¼šä»å…¥</summary>
      
    
    
    
    <category term="æ•™ç¨‹" scheme="https://wenjiew-astro.github.io/categories/%E6%95%99%E7%A8%8B/"/>
    
    <category term="Latex" scheme="https://wenjiew-astro.github.io/categories/%E6%95%99%E7%A8%8B/Latex/"/>
    
    
    <category term="æ•™ç¨‹" scheme="https://wenjiew-astro.github.io/tags/%E6%95%99%E7%A8%8B/"/>
    
    <category term="Latex" scheme="https://wenjiew-astro.github.io/tags/Latex/"/>
    
  </entry>
  
</feed>
